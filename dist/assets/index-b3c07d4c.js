function vw(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var yw={exports:{}},Yd={},bw={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),Jk=Symbol.for("react.portal"),Zk=Symbol.for("react.fragment"),eT=Symbol.for("react.strict_mode"),tT=Symbol.for("react.profiler"),rT=Symbol.for("react.provider"),nT=Symbol.for("react.context"),sT=Symbol.for("react.forward_ref"),aT=Symbol.for("react.suspense"),iT=Symbol.for("react.memo"),oT=Symbol.for("react.lazy"),A0=Symbol.iterator;function lT(e){return e===null||typeof e!="object"?null:(e=A0&&e[A0]||e["@@iterator"],typeof e=="function"?e:null)}var ww={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jw=Object.assign,Nw={};function Mi(e,t,r){this.props=e,this.context=t,this.refs=Nw,this.updater=r||ww}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _w(){}_w.prototype=Mi.prototype;function rp(e,t,r){this.props=e,this.context=t,this.refs=Nw,this.updater=r||ww}var np=rp.prototype=new _w;np.constructor=rp;jw(np,Mi.prototype);np.isPureReactComponent=!0;var R0=Array.isArray,Sw=Object.prototype.hasOwnProperty,sp={current:null},Cw={key:!0,ref:!0,__self:!0,__source:!0};function kw(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Sw.call(t,s)&&!Cw.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Sl,type:e,key:i,ref:o,props:a,_owner:sp.current}}function cT(e,t){return{$$typeof:Sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ap(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sl}function dT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var D0=/\/+/g;function Zu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dT(""+e.key):t.toString(36)}function Oc(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Sl:case Jk:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Zu(o,0):s,R0(a)?(r="",e!=null&&(r=e.replace(D0,"$&/")+"/"),Oc(a,t,r,"",function(d){return d})):a!=null&&(ap(a)&&(a=cT(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(D0,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",R0(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Zu(i,l);o+=Oc(i,t,r,c,a)}else if(c=lT(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Zu(i,l++),o+=Oc(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ec(e,t,r){if(e==null)return e;var s=[],a=0;return Oc(e,s,"","",function(i){return t.call(r,i,a++)}),s}function uT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Ic={transition:null},hT={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Ic,ReactCurrentOwner:sp};function Tw(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:ec,forEach:function(e,t,r){ec(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ec(e,function(){t++}),t},toArray:function(e){return ec(e,function(t){return t})||[]},only:function(e){if(!ap(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=Mi;xe.Fragment=Zk;xe.Profiler=tT;xe.PureComponent=rp;xe.StrictMode=eT;xe.Suspense=aT;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hT;xe.act=Tw;xe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=jw({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=sp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Sw.call(t,c)&&!Cw.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Sl,type:e.type,key:a,ref:i,props:s,_owner:o}};xe.createContext=function(e){return e={$$typeof:nT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rT,_context:e},e.Consumer=e};xe.createElement=kw;xe.createFactory=function(e){var t=kw.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:sT,render:e}};xe.isValidElement=ap;xe.lazy=function(e){return{$$typeof:oT,_payload:{_status:-1,_result:e},_init:uT}};xe.memo=function(e,t){return{$$typeof:iT,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=Ic.transition;Ic.transition={};try{e()}finally{Ic.transition=t}};xe.unstable_act=Tw;xe.useCallback=function(e,t){return Bt.current.useCallback(e,t)};xe.useContext=function(e){return Bt.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};xe.useEffect=function(e,t){return Bt.current.useEffect(e,t)};xe.useId=function(){return Bt.current.useId()};xe.useImperativeHandle=function(e,t,r){return Bt.current.useImperativeHandle(e,t,r)};xe.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return Bt.current.useMemo(e,t)};xe.useReducer=function(e,t,r){return Bt.current.useReducer(e,t,r)};xe.useRef=function(e){return Bt.current.useRef(e)};xe.useState=function(e){return Bt.current.useState(e)};xe.useSyncExternalStore=function(e,t,r){return Bt.current.useSyncExternalStore(e,t,r)};xe.useTransition=function(){return Bt.current.useTransition()};xe.version="18.3.1";bw.exports=xe;var f=bw.exports;const X=_a(f),mT=vw({__proto__:null,default:X},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT=f,pT=Symbol.for("react.element"),gT=Symbol.for("react.fragment"),xT=Object.prototype.hasOwnProperty,vT=fT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yT={key:!0,ref:!0,__self:!0,__source:!0};function Ew(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)xT.call(t,s)&&!yT.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:pT,type:e,key:i,ref:o,props:a,_owner:vT.current}}Yd.Fragment=gT;Yd.jsx=Ew;Yd.jsxs=Ew;yw.exports=Yd;var n=yw.exports,om={},Pw={exports:{}},jr={},Aw={exports:{}},Rw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var V=R.length;R.push(I);e:for(;0<V;){var Y=V-1>>>1,oe=R[Y];if(0<a(oe,I))R[Y]=I,R[V]=oe,V=Y;else break e}}function r(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var I=R[0],V=R.pop();if(V!==I){R[0]=V;e:for(var Y=0,oe=R.length,fe=oe>>>1;Y<fe;){var le=2*(Y+1)-1,Fe=R[le],$e=le+1,te=R[$e];if(0>a(Fe,V))$e<oe&&0>a(te,Fe)?(R[Y]=te,R[$e]=V,Y=$e):(R[Y]=Fe,R[le]=V,Y=le);else if($e<oe&&0>a(te,V))R[Y]=te,R[$e]=V,Y=$e;else break e}}return I}function a(R,I){var V=R.sortIndex-I.sortIndex;return V!==0?V:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,x=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var I=r(d);I!==null;){if(I.callback===null)s(d);else if(I.startTime<=R)s(d),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(d)}}function j(R){if(g=!1,w(R),!x)if(r(c)!==null)x=!0,M(S);else{var I=r(d);I!==null&&U(j,I.startTime-R)}}function S(R,I){x=!1,g&&(g=!1,y(_),_=-1),p=!0;var V=m;try{for(w(I),h=r(c);h!==null&&(!(h.expirationTime>I)||R&&!$());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,m=h.priorityLevel;var oe=Y(h.expirationTime<=I);I=e.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(c)&&s(c),w(I)}else s(c);h=r(c)}if(h!==null)var fe=!0;else{var le=r(d);le!==null&&U(j,le.startTime-I),fe=!1}return fe}finally{h=null,m=V,p=!1}}var C=!1,N=null,_=-1,E=5,k=-1;function $(){return!(e.unstable_now()-k<E)}function F(){if(N!==null){var R=e.unstable_now();k=R;var I=!0;try{I=N(!0,R)}finally{I?H():(C=!1,N=null)}}else C=!1}var H;if(typeof v=="function")H=function(){v(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,A=B.port2;B.port1.onmessage=F,H=function(){A.postMessage(null)}}else H=function(){b(F,0)};function M(R){N=R,C||(C=!0,H())}function U(R,I){_=b(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,M(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var V=m;m=I;try{return R()}finally{m=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=m;m=R;try{return I()}finally{m=V}},e.unstable_scheduleCallback=function(R,I,V){var Y=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,R){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,R={id:u++,callback:I,priorityLevel:R,startTime:V,expirationTime:oe,sortIndex:-1},V>Y?(R.sortIndex=V,t(d,R),r(c)===null&&R===r(d)&&(g?(y(_),_=-1):g=!0,U(j,V-Y))):(R.sortIndex=oe,t(c,R),x||p||(x=!0,M(S))),R},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(R){var I=m;return function(){var V=m;m=I;try{return R.apply(this,arguments)}finally{m=V}}}})(Rw);Aw.exports=Rw;var bT=Aw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=f,xr=bT;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dw=new Set,Go={};function Sa(e,t){yi(e,t),yi(e+"Capture",t)}function yi(e,t){for(Go[e]=t,e=0;e<t.length;e++)Dw.add(t[e])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,jT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M0={},O0={};function NT(e){return lm.call(O0,e)?!0:lm.call(M0,e)?!1:jT.test(e)?O0[e]=!0:(M0[e]=!0,!1)}function _T(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ST(e,t,r,s){if(t===null||typeof t>"u"||_T(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vt(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ip=/[\-:]([a-z])/g;function op(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ip,op);vt[t]=new Vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ip,op);vt[t]=new Vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ip,op);vt[t]=new Vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function lp(e,t,r,s){var a=vt.hasOwnProperty(t)?vt[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ST(t,r,a,s)&&(r=null),s||a===null?NT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var es=wT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tc=Symbol.for("react.element"),za=Symbol.for("react.portal"),Ha=Symbol.for("react.fragment"),cp=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),Mw=Symbol.for("react.provider"),Ow=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),um=Symbol.for("react.suspense_list"),up=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),Iw=Symbol.for("react.offscreen"),I0=Symbol.iterator;function eo(e){return e===null||typeof e!="object"?null:(e=I0&&e[I0]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,eh;function bo(e){if(eh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);eh=t&&t[1]||""}return`
`+eh+e}var th=!1;function rh(e,t){if(!e||th)return"";th=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{th=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bo(e):""}function CT(e){switch(e.tag){case 5:return bo(e.type);case 16:return bo("Lazy");case 13:return bo("Suspense");case 19:return bo("SuspenseList");case 0:case 2:case 15:return e=rh(e.type,!1),e;case 11:return e=rh(e.type.render,!1),e;case 1:return e=rh(e.type,!0),e;default:return""}}function hm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ha:return"Fragment";case za:return"Portal";case cm:return"Profiler";case cp:return"StrictMode";case dm:return"Suspense";case um:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ow:return(e.displayName||"Context")+".Consumer";case Mw:return(e._context.displayName||"Context")+".Provider";case dp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case up:return t=e.displayName||null,t!==null?t:hm(e.type)||"Memo";case ms:t=e._payload,e=e._init;try{return hm(e(t))}catch{}}return null}function kT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hm(t);case 8:return t===cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TT(e){var t=Lw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rc(e){e._valueTracker||(e._valueTracker=TT(e))}function Fw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Lw(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function nd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mm(e,t){var r=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function L0(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Ts(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $w(e,t){t=t.checked,t!=null&&lp(e,"checked",t,!1)}function fm(e,t){$w(e,t);var r=Ts(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pm(e,t.type,r):t.hasOwnProperty("defaultValue")&&pm(e,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function F0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pm(e,t,r){(t!=="number"||nd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wo=Array.isArray;function li(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Ts(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function gm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(wo(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ts(r)}}function Bw(e,t){var r=Ts(t.value),s=Ts(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function B0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nc,Uw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ET=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){ET.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function zw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function Hw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=zw(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var PT=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vm(e,t){if(t){if(PT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function ym(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bm=null;function hp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wm=null,ci=null,di=null;function V0(e){if(e=Tl(e)){if(typeof wm!="function")throw Error(W(280));var t=e.stateNode;t&&(t=eu(t),wm(e.stateNode,e.type,t))}}function Ww(e){ci?di?di.push(e):di=[e]:ci=e}function Gw(){if(ci){var e=ci,t=di;if(di=ci=null,V0(e),t)for(e=0;e<t.length;e++)V0(t[e])}}function qw(e,t){return e(t)}function Kw(){}var nh=!1;function Yw(e,t,r){if(nh)return e(t,r);nh=!0;try{return qw(e,t,r)}finally{nh=!1,(ci!==null||di!==null)&&(Kw(),Gw())}}function Ko(e,t){var r=e.stateNode;if(r===null)return null;var s=eu(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var jm=!1;if(Vn)try{var to={};Object.defineProperty(to,"passive",{get:function(){jm=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{jm=!1}function AT(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Ao=!1,sd=null,ad=!1,Nm=null,RT={onError:function(e){Ao=!0,sd=e}};function DT(e,t,r,s,a,i,o,l,c){Ao=!1,sd=null,AT.apply(RT,arguments)}function MT(e,t,r,s,a,i,o,l,c){if(DT.apply(this,arguments),Ao){if(Ao){var d=sd;Ao=!1,sd=null}else throw Error(W(198));ad||(ad=!0,Nm=d)}}function Ca(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Xw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U0(e){if(Ca(e)!==e)throw Error(W(188))}function OT(e){var t=e.alternate;if(!t){if(t=Ca(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return U0(a),e;if(i===s)return U0(a),t;i=i.sibling}throw Error(W(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==s)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function Qw(e){return e=OT(e),e!==null?Jw(e):null}function Jw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jw(e);if(t!==null)return t;e=e.sibling}return null}var Zw=xr.unstable_scheduleCallback,z0=xr.unstable_cancelCallback,IT=xr.unstable_shouldYield,LT=xr.unstable_requestPaint,Ze=xr.unstable_now,FT=xr.unstable_getCurrentPriorityLevel,mp=xr.unstable_ImmediatePriority,ej=xr.unstable_UserBlockingPriority,id=xr.unstable_NormalPriority,$T=xr.unstable_LowPriority,tj=xr.unstable_IdlePriority,Xd=null,pn=null;function BT(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Xd,e,void 0,(e.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:zT,VT=Math.log,UT=Math.LN2;function zT(e){return e>>>=0,e===0?32:31-(VT(e)/UT|0)|0}var sc=64,ac=4194304;function jo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function od(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=jo(l):(i&=o,i!==0&&(s=jo(i)))}else o=r&~a,o!==0?s=jo(o):i!==0&&(s=jo(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Jr(t),a=1<<r,s|=e[r],t&=~a;return s}function HT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WT(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Jr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=HT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function _m(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rj(){var e=sc;return sc<<=1,!(sc&4194240)&&(sc=64),e}function sh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jr(t),e[t]=r}function GT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Jr(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function fp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Jr(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Pe=0;function nj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sj,pp,aj,ij,oj,Sm=!1,ic=[],bs=null,ws=null,js=null,Yo=new Map,Xo=new Map,gs=[],qT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H0(e,t){switch(e){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":Yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(t.pointerId)}}function ro(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Tl(t),t!==null&&pp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function KT(e,t,r,s,a){switch(t){case"focusin":return bs=ro(bs,e,t,r,s,a),!0;case"dragenter":return ws=ro(ws,e,t,r,s,a),!0;case"mouseover":return js=ro(js,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Yo.set(i,ro(Yo.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Xo.set(i,ro(Xo.get(i)||null,e,t,r,s,a)),!0}return!1}function lj(e){var t=aa(e.target);if(t!==null){var r=Ca(t);if(r!==null){if(t=r.tag,t===13){if(t=Xw(r),t!==null){e.blockedOn=t,oj(e.priority,function(){aj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Cm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);bm=s,r.target.dispatchEvent(s),bm=null}else return t=Tl(r),t!==null&&pp(t),e.blockedOn=r,!1;t.shift()}return!0}function W0(e,t,r){Lc(e)&&r.delete(t)}function YT(){Sm=!1,bs!==null&&Lc(bs)&&(bs=null),ws!==null&&Lc(ws)&&(ws=null),js!==null&&Lc(js)&&(js=null),Yo.forEach(W0),Xo.forEach(W0)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,Sm||(Sm=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,YT)))}function Qo(e){function t(a){return no(a,e)}if(0<ic.length){no(ic[0],e);for(var r=1;r<ic.length;r++){var s=ic[r];s.blockedOn===e&&(s.blockedOn=null)}}for(bs!==null&&no(bs,e),ws!==null&&no(ws,e),js!==null&&no(js,e),Yo.forEach(t),Xo.forEach(t),r=0;r<gs.length;r++)s=gs[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<gs.length&&(r=gs[0],r.blockedOn===null);)lj(r),r.blockedOn===null&&gs.shift()}var ui=es.ReactCurrentBatchConfig,ld=!0;function XT(e,t,r,s){var a=Pe,i=ui.transition;ui.transition=null;try{Pe=1,gp(e,t,r,s)}finally{Pe=a,ui.transition=i}}function QT(e,t,r,s){var a=Pe,i=ui.transition;ui.transition=null;try{Pe=4,gp(e,t,r,s)}finally{Pe=a,ui.transition=i}}function gp(e,t,r,s){if(ld){var a=Cm(e,t,r,s);if(a===null)fh(e,t,s,cd,r),H0(e,s);else if(KT(a,e,t,r,s))s.stopPropagation();else if(H0(e,s),t&4&&-1<qT.indexOf(e)){for(;a!==null;){var i=Tl(a);if(i!==null&&sj(i),i=Cm(e,t,r,s),i===null&&fh(e,t,s,cd,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else fh(e,t,s,null,r)}}var cd=null;function Cm(e,t,r,s){if(cd=null,e=hp(s),e=aa(e),e!==null)if(t=Ca(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Xw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cd=e,null}function cj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FT()){case mp:return 1;case ej:return 4;case id:case $T:return 16;case tj:return 536870912;default:return 16}default:return 16}}var vs=null,xp=null,Fc=null;function dj(){if(Fc)return Fc;var e,t=xp,r=t.length,s,a="value"in vs?vs.value:vs.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Fc=a.slice(e,1<s?1-s:void 0)}function $c(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oc(){return!0}function G0(){return!1}function Nr(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oc:G0,this.isPropagationStopped=G0,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),t}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vp=Nr(Oi),kl=qe({},Oi,{view:0,detail:0}),JT=Nr(kl),ah,ih,so,Qd=qe({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(ah=e.screenX-so.screenX,ih=e.screenY-so.screenY):ih=ah=0,so=e),ah)},movementY:function(e){return"movementY"in e?e.movementY:ih}}),q0=Nr(Qd),ZT=qe({},Qd,{dataTransfer:0}),e5=Nr(ZT),t5=qe({},kl,{relatedTarget:0}),oh=Nr(t5),r5=qe({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),n5=Nr(r5),s5=qe({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a5=Nr(s5),i5=qe({},Oi,{data:0}),K0=Nr(i5),o5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=c5[e])?!!t[e]:!1}function yp(){return d5}var u5=qe({},kl,{key:function(e){if(e.key){var t=o5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$c(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yp,charCode:function(e){return e.type==="keypress"?$c(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$c(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),h5=Nr(u5),m5=qe({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y0=Nr(m5),f5=qe({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yp}),p5=Nr(f5),g5=qe({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x5=Nr(g5),v5=qe({},Qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),y5=Nr(v5),b5=[9,13,27,32],bp=Vn&&"CompositionEvent"in window,Ro=null;Vn&&"documentMode"in document&&(Ro=document.documentMode);var w5=Vn&&"TextEvent"in window&&!Ro,uj=Vn&&(!bp||Ro&&8<Ro&&11>=Ro),X0=String.fromCharCode(32),Q0=!1;function hj(e,t){switch(e){case"keyup":return b5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function j5(e,t){switch(e){case"compositionend":return mj(t);case"keypress":return t.which!==32?null:(Q0=!0,X0);case"textInput":return e=t.data,e===X0&&Q0?null:e;default:return null}}function N5(e,t){if(Wa)return e==="compositionend"||!bp&&hj(e,t)?(e=dj(),Fc=xp=vs=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uj&&t.locale!=="ko"?null:t.data;default:return null}}var _5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_5[e.type]:t==="textarea"}function fj(e,t,r,s){Ww(s),t=dd(t,"onChange"),0<t.length&&(r=new vp("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Do=null,Jo=null;function S5(e){Sj(e,0)}function Jd(e){var t=Ka(e);if(Fw(t))return e}function C5(e,t){if(e==="change")return t}var pj=!1;if(Vn){var lh;if(Vn){var ch="oninput"in document;if(!ch){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),ch=typeof Z0.oninput=="function"}lh=ch}else lh=!1;pj=lh&&(!document.documentMode||9<document.documentMode)}function ev(){Do&&(Do.detachEvent("onpropertychange",gj),Jo=Do=null)}function gj(e){if(e.propertyName==="value"&&Jd(Jo)){var t=[];fj(t,Jo,e,hp(e)),Yw(S5,t)}}function k5(e,t,r){e==="focusin"?(ev(),Do=t,Jo=r,Do.attachEvent("onpropertychange",gj)):e==="focusout"&&ev()}function T5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jd(Jo)}function E5(e,t){if(e==="click")return Jd(t)}function P5(e,t){if(e==="input"||e==="change")return Jd(t)}function A5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:A5;function Zo(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!lm.call(t,a)||!en(e[a],t[a]))return!1}return!0}function tv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rv(e,t){var r=tv(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tv(r)}}function xj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vj(){for(var e=window,t=nd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nd(e.document)}return t}function wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function R5(e){var t=vj(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xj(r.ownerDocument.documentElement,r)){if(s!==null&&wp(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=rv(r,i);var o=rv(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var D5=Vn&&"documentMode"in document&&11>=document.documentMode,Ga=null,km=null,Mo=null,Tm=!1;function nv(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tm||Ga==null||Ga!==nd(s)||(s=Ga,"selectionStart"in s&&wp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mo&&Zo(Mo,s)||(Mo=s,s=dd(km,"onSelect"),0<s.length&&(t=new vp("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Ga)))}function lc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qa={animationend:lc("Animation","AnimationEnd"),animationiteration:lc("Animation","AnimationIteration"),animationstart:lc("Animation","AnimationStart"),transitionend:lc("Transition","TransitionEnd")},dh={},yj={};Vn&&(yj=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Zd(e){if(dh[e])return dh[e];if(!qa[e])return e;var t=qa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yj)return dh[e]=t[r];return e}var bj=Zd("animationend"),wj=Zd("animationiteration"),jj=Zd("animationstart"),Nj=Zd("transitionend"),_j=new Map,sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(e,t){_j.set(e,t),Sa(t,[e])}for(var uh=0;uh<sv.length;uh++){var hh=sv[uh],M5=hh.toLowerCase(),O5=hh[0].toUpperCase()+hh.slice(1);Bs(M5,"on"+O5)}Bs(bj,"onAnimationEnd");Bs(wj,"onAnimationIteration");Bs(jj,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(Nj,"onTransitionEnd");yi("onMouseEnter",["mouseout","mouseover"]);yi("onMouseLeave",["mouseout","mouseover"]);yi("onPointerEnter",["pointerout","pointerover"]);yi("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I5=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function av(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,MT(s,t,void 0,e),e.currentTarget=null}function Sj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;av(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;av(a,l,d),i=c}}}if(ad)throw e=Nm,ad=!1,Nm=null,e}function Ie(e,t){var r=t[Dm];r===void 0&&(r=t[Dm]=new Set);var s=e+"__bubble";r.has(s)||(Cj(t,e,2,!1),r.add(s))}function mh(e,t,r){var s=0;t&&(s|=4),Cj(r,e,s,t)}var cc="_reactListening"+Math.random().toString(36).slice(2);function el(e){if(!e[cc]){e[cc]=!0,Dw.forEach(function(r){r!=="selectionchange"&&(I5.has(r)||mh(r,!1,e),mh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cc]||(t[cc]=!0,mh("selectionchange",!1,t))}}function Cj(e,t,r,s){switch(cj(t)){case 1:var a=XT;break;case 4:a=QT;break;default:a=gp}r=a.bind(null,t,r,e),a=void 0,!jm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function fh(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=aa(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Yw(function(){var d=i,u=hp(r),h=[];e:{var m=_j.get(e);if(m!==void 0){var p=vp,x=e;switch(e){case"keypress":if($c(r)===0)break e;case"keydown":case"keyup":p=h5;break;case"focusin":x="focus",p=oh;break;case"focusout":x="blur",p=oh;break;case"beforeblur":case"afterblur":p=oh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=e5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=p5;break;case bj:case wj:case jj:p=n5;break;case Nj:p=x5;break;case"scroll":p=JT;break;case"wheel":p=y5;break;case"copy":case"cut":case"paste":p=a5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Y0}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var v=d,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=Ko(v,y),j!=null&&g.push(tl(v,j,w)))),b)break;v=v.return}0<g.length&&(m=new p(m,x,null,r,u),h.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==bm&&(x=r.relatedTarget||r.fromElement)&&(aa(x)||x[Un]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=d,x=x?aa(x):null,x!==null&&(b=Ca(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(g=q0,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Y0,j="onPointerLeave",y="onPointerEnter",v="pointer"),b=p==null?m:Ka(p),w=x==null?m:Ka(x),m=new g(j,v+"leave",p,r,u),m.target=b,m.relatedTarget=w,j=null,aa(u)===d&&(g=new g(y,v+"enter",x,r,u),g.target=w,g.relatedTarget=b,j=g),b=j,p&&x)t:{for(g=p,y=x,v=0,w=g;w;w=Ma(w))v++;for(w=0,j=y;j;j=Ma(j))w++;for(;0<v-w;)g=Ma(g),v--;for(;0<w-v;)y=Ma(y),w--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ma(g),y=Ma(y)}g=null}else g=null;p!==null&&iv(h,m,p,g,!1),x!==null&&b!==null&&iv(h,b,x,g,!0)}}e:{if(m=d?Ka(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=C5;else if(J0(m))if(pj)S=P5;else{S=T5;var C=k5}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=E5);if(S&&(S=S(e,d))){fj(h,S,r,u);break e}C&&C(e,m,d),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&pm(m,"number",m.value)}switch(C=d?Ka(d):window,e){case"focusin":(J0(C)||C.contentEditable==="true")&&(Ga=C,km=d,Mo=null);break;case"focusout":Mo=km=Ga=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,nv(h,r,u);break;case"selectionchange":if(D5)break;case"keydown":case"keyup":nv(h,r,u)}var N;if(bp)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wa?hj(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(uj&&r.locale!=="ko"&&(Wa||_!=="onCompositionStart"?_==="onCompositionEnd"&&Wa&&(N=dj()):(vs=u,xp="value"in vs?vs.value:vs.textContent,Wa=!0)),C=dd(d,_),0<C.length&&(_=new K0(_,e,null,r,u),h.push({event:_,listeners:C}),N?_.data=N:(N=mj(r),N!==null&&(_.data=N)))),(N=w5?j5(e,r):N5(e,r))&&(d=dd(d,"onBeforeInput"),0<d.length&&(u=new K0("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=N))}Sj(h,t)})}function tl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dd(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ko(e,r),i!=null&&s.unshift(tl(e,i,a)),i=Ko(e,t),i!=null&&s.push(tl(e,i,a))),e=e.return}return s}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iv(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Ko(r,i),c!=null&&o.unshift(tl(r,c,l))):a||(c=Ko(r,i),c!=null&&o.push(tl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var L5=/\r\n?/g,F5=/\u0000|\uFFFD/g;function ov(e){return(typeof e=="string"?e:""+e).replace(L5,`
`).replace(F5,"")}function dc(e,t,r){if(t=ov(t),ov(e)!==t&&r)throw Error(W(425))}function ud(){}var Em=null,Pm=null;function Am(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rm=typeof setTimeout=="function"?setTimeout:void 0,$5=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,B5=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(e){return lv.resolve(null).then(e).catch(V5)}:Rm;function V5(e){setTimeout(function(){throw e})}function ph(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Qo(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Qo(t)}function Ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),mn="__reactFiber$"+Ii,rl="__reactProps$"+Ii,Un="__reactContainer$"+Ii,Dm="__reactEvents$"+Ii,U5="__reactListeners$"+Ii,z5="__reactHandles$"+Ii;function aa(e){var t=e[mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Un]||r[mn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cv(e);e!==null;){if(r=e[mn])return r;e=cv(e)}return t}e=r,r=e.parentNode}return null}function Tl(e){return e=e[mn]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function eu(e){return e[rl]||null}var Mm=[],Ya=-1;function Vs(e){return{current:e}}function Le(e){0>Ya||(e.current=Mm[Ya],Mm[Ya]=null,Ya--)}function De(e,t){Ya++,Mm[Ya]=e.current,e.current=t}var Es={},At=Vs(Es),Zt=Vs(!1),fa=Es;function bi(e,t){var r=e.type.contextTypes;if(!r)return Es;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function er(e){return e=e.childContextTypes,e!=null}function hd(){Le(Zt),Le(At)}function dv(e,t,r){if(At.current!==Es)throw Error(W(168));De(At,t),De(Zt,r)}function kj(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(W(108,kT(e)||"Unknown",a));return qe({},r,s)}function md(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,fa=At.current,De(At,e),De(Zt,Zt.current),!0}function uv(e,t,r){var s=e.stateNode;if(!s)throw Error(W(169));r?(e=kj(e,t,fa),s.__reactInternalMemoizedMergedChildContext=e,Le(Zt),Le(At),De(At,e)):Le(Zt),De(Zt,r)}var An=null,tu=!1,gh=!1;function Tj(e){An===null?An=[e]:An.push(e)}function H5(e){tu=!0,Tj(e)}function Us(){if(!gh&&An!==null){gh=!0;var e=0,t=Pe;try{var r=An;for(Pe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}An=null,tu=!1}catch(a){throw An!==null&&(An=An.slice(e+1)),Zw(mp,Us),a}finally{Pe=t,gh=!1}}return null}var Xa=[],Qa=0,fd=null,pd=0,kr=[],Tr=0,pa=null,Rn=1,Dn="";function Qs(e,t){Xa[Qa++]=pd,Xa[Qa++]=fd,fd=e,pd=t}function Ej(e,t,r){kr[Tr++]=Rn,kr[Tr++]=Dn,kr[Tr++]=pa,pa=e;var s=Rn;e=Dn;var a=32-Jr(s)-1;s&=~(1<<a),r+=1;var i=32-Jr(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Rn=1<<32-Jr(t)+a|r<<a|s,Dn=i+e}else Rn=1<<i|r<<a|s,Dn=e}function jp(e){e.return!==null&&(Qs(e,1),Ej(e,1,0))}function Np(e){for(;e===fd;)fd=Xa[--Qa],Xa[Qa]=null,pd=Xa[--Qa],Xa[Qa]=null;for(;e===pa;)pa=kr[--Tr],kr[Tr]=null,Dn=kr[--Tr],kr[Tr]=null,Rn=kr[--Tr],kr[Tr]=null}var mr=null,hr=null,Ue=!1,Xr=null;function Pj(e,t){var r=Er(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mr=e,hr=Ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mr=e,hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pa!==null?{id:Rn,overflow:Dn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Er(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mr=e,hr=null,!0):!1;default:return!1}}function Om(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Im(e){if(Ue){var t=hr;if(t){var r=t;if(!hv(e,t)){if(Om(e))throw Error(W(418));t=Ns(r.nextSibling);var s=mr;t&&hv(e,t)?Pj(s,r):(e.flags=e.flags&-4097|2,Ue=!1,mr=e)}}else{if(Om(e))throw Error(W(418));e.flags=e.flags&-4097|2,Ue=!1,mr=e}}}function mv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mr=e}function uc(e){if(e!==mr)return!1;if(!Ue)return mv(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Am(e.type,e.memoizedProps)),t&&(t=hr)){if(Om(e))throw Aj(),Error(W(418));for(;t;)Pj(e,t),t=Ns(t.nextSibling)}if(mv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){hr=Ns(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}hr=null}}else hr=mr?Ns(e.stateNode.nextSibling):null;return!0}function Aj(){for(var e=hr;e;)e=Ns(e.nextSibling)}function wi(){hr=mr=null,Ue=!1}function _p(e){Xr===null?Xr=[e]:Xr.push(e)}var W5=es.ReactCurrentBatchConfig;function ao(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var s=r.stateNode}if(!s)throw Error(W(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function hc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fv(e){var t=e._init;return t(e._payload)}function Rj(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function s(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=ks(y,v),y.index=0,y.sibling=null,y}function i(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,j){return v===null||v.tag!==6?(v=Nh(w,y.mode,j),v.return=y,v):(v=a(v,w),v.return=y,v)}function c(y,v,w,j){var S=w.type;return S===Ha?u(y,v,w.props.children,j,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ms&&fv(S)===v.type)?(j=a(v,w.props),j.ref=ao(y,v,w),j.return=y,j):(j=Gc(w.type,w.key,w.props,null,y.mode,j),j.ref=ao(y,v,w),j.return=y,j)}function d(y,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=_h(w,y.mode,j),v.return=y,v):(v=a(v,w.children||[]),v.return=y,v)}function u(y,v,w,j,S){return v===null||v.tag!==7?(v=da(w,y.mode,j,S),v.return=y,v):(v=a(v,w),v.return=y,v)}function h(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Nh(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case tc:return w=Gc(v.type,v.key,v.props,null,y.mode,w),w.ref=ao(y,null,v),w.return=y,w;case za:return v=_h(v,y.mode,w),v.return=y,v;case ms:var j=v._init;return h(y,j(v._payload),w)}if(wo(v)||eo(v))return v=da(v,y.mode,w,null),v.return=y,v;hc(y,v)}return null}function m(y,v,w,j){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(y,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tc:return w.key===S?c(y,v,w,j):null;case za:return w.key===S?d(y,v,w,j):null;case ms:return S=w._init,m(y,v,S(w._payload),j)}if(wo(w)||eo(w))return S!==null?null:u(y,v,w,j,null);hc(y,w)}return null}function p(y,v,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(v,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case tc:return y=y.get(j.key===null?w:j.key)||null,c(v,y,j,S);case za:return y=y.get(j.key===null?w:j.key)||null,d(v,y,j,S);case ms:var C=j._init;return p(y,v,w,C(j._payload),S)}if(wo(j)||eo(j))return y=y.get(w)||null,u(v,y,j,S,null);hc(v,j)}return null}function x(y,v,w,j){for(var S=null,C=null,N=v,_=v=0,E=null;N!==null&&_<w.length;_++){N.index>_?(E=N,N=null):E=N.sibling;var k=m(y,N,w[_],j);if(k===null){N===null&&(N=E);break}e&&N&&k.alternate===null&&t(y,N),v=i(k,v,_),C===null?S=k:C.sibling=k,C=k,N=E}if(_===w.length)return r(y,N),Ue&&Qs(y,_),S;if(N===null){for(;_<w.length;_++)N=h(y,w[_],j),N!==null&&(v=i(N,v,_),C===null?S=N:C.sibling=N,C=N);return Ue&&Qs(y,_),S}for(N=s(y,N);_<w.length;_++)E=p(N,y,_,w[_],j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?_:E.key),v=i(E,v,_),C===null?S=E:C.sibling=E,C=E);return e&&N.forEach(function($){return t(y,$)}),Ue&&Qs(y,_),S}function g(y,v,w,j){var S=eo(w);if(typeof S!="function")throw Error(W(150));if(w=S.call(w),w==null)throw Error(W(151));for(var C=S=null,N=v,_=v=0,E=null,k=w.next();N!==null&&!k.done;_++,k=w.next()){N.index>_?(E=N,N=null):E=N.sibling;var $=m(y,N,k.value,j);if($===null){N===null&&(N=E);break}e&&N&&$.alternate===null&&t(y,N),v=i($,v,_),C===null?S=$:C.sibling=$,C=$,N=E}if(k.done)return r(y,N),Ue&&Qs(y,_),S;if(N===null){for(;!k.done;_++,k=w.next())k=h(y,k.value,j),k!==null&&(v=i(k,v,_),C===null?S=k:C.sibling=k,C=k);return Ue&&Qs(y,_),S}for(N=s(y,N);!k.done;_++,k=w.next())k=p(N,y,_,k.value,j),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?_:k.key),v=i(k,v,_),C===null?S=k:C.sibling=k,C=k);return e&&N.forEach(function(F){return t(y,F)}),Ue&&Qs(y,_),S}function b(y,v,w,j){if(typeof w=="object"&&w!==null&&w.type===Ha&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tc:e:{for(var S=w.key,C=v;C!==null;){if(C.key===S){if(S=w.type,S===Ha){if(C.tag===7){r(y,C.sibling),v=a(C,w.props.children),v.return=y,y=v;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ms&&fv(S)===C.type){r(y,C.sibling),v=a(C,w.props),v.ref=ao(y,C,w),v.return=y,y=v;break e}r(y,C);break}else t(y,C);C=C.sibling}w.type===Ha?(v=da(w.props.children,y.mode,j,w.key),v.return=y,y=v):(j=Gc(w.type,w.key,w.props,null,y.mode,j),j.ref=ao(y,v,w),j.return=y,y=j)}return o(y);case za:e:{for(C=w.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(y,v.sibling),v=a(v,w.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=_h(w,y.mode,j),v.return=y,y=v}return o(y);case ms:return C=w._init,b(y,v,C(w._payload),j)}if(wo(w))return x(y,v,w,j);if(eo(w))return g(y,v,w,j);hc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(y,v.sibling),v=a(v,w),v.return=y,y=v):(r(y,v),v=Nh(w,y.mode,j),v.return=y,y=v),o(y)):r(y,v)}return b}var ji=Rj(!0),Dj=Rj(!1),gd=Vs(null),xd=null,Ja=null,Sp=null;function Cp(){Sp=Ja=xd=null}function kp(e){var t=gd.current;Le(gd),e._currentValue=t}function Lm(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function hi(e,t){xd=e,Sp=Ja=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xt=!0),e.firstContext=null)}function Dr(e){var t=e._currentValue;if(Sp!==e)if(e={context:e,memoizedValue:t,next:null},Ja===null){if(xd===null)throw Error(W(308));Ja=e,xd.dependencies={lanes:0,firstContext:e}}else Ja=Ja.next=e;return t}var ia=null;function Tp(e){ia===null?ia=[e]:ia.push(e)}function Mj(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Tp(t)):(r.next=a.next,a.next=r),t.interleaved=r,zn(e,s)}function zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fs=!1;function Ep(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _s(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,we&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,zn(e,r)}return a=s.interleaved,a===null?(t.next=t,Tp(s)):(t.next=a.next,a.next=t),s.interleaved=t,zn(e,r)}function Bc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,fp(e,r)}}function pv(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vd(e,t,r,s){var a=e.updateQueue;fs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(m=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(p,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(p,h,m):x,m==null)break e;h=qe({},h,m);break e;case 2:fs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(1);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);xa|=o,e.lanes=o,e.memoizedState=h}}function gv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(W(191,a));a.call(s)}}}var El={},gn=Vs(El),nl=Vs(El),sl=Vs(El);function oa(e){if(e===El)throw Error(W(174));return e}function Pp(e,t){switch(De(sl,t),De(nl,e),De(gn,El),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xm(t,e)}Le(gn),De(gn,t)}function Ni(){Le(gn),Le(nl),Le(sl)}function Ij(e){oa(sl.current);var t=oa(gn.current),r=xm(t,e.type);t!==r&&(De(nl,e),De(gn,r))}function Ap(e){nl.current===e&&(Le(gn),Le(nl))}var We=Vs(0);function yd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xh=[];function Rp(){for(var e=0;e<xh.length;e++)xh[e]._workInProgressVersionPrimary=null;xh.length=0}var Vc=es.ReactCurrentDispatcher,vh=es.ReactCurrentBatchConfig,ga=0,Ge=null,nt=null,ct=null,bd=!1,Oo=!1,al=0,G5=0;function _t(){throw Error(W(321))}function Dp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!en(e[r],t[r]))return!1;return!0}function Mp(e,t,r,s,a,i){if(ga=i,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vc.current=e===null||e.memoizedState===null?X5:Q5,e=r(s,a),Oo){i=0;do{if(Oo=!1,al=0,25<=i)throw Error(W(301));i+=1,ct=nt=null,t.updateQueue=null,Vc.current=J5,e=r(s,a)}while(Oo)}if(Vc.current=wd,t=nt!==null&&nt.next!==null,ga=0,ct=nt=Ge=null,bd=!1,t)throw Error(W(300));return e}function Op(){var e=al!==0;return al=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ge.memoizedState=ct=e:ct=ct.next=e,ct}function Mr(){if(nt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=ct===null?Ge.memoizedState:ct.next;if(t!==null)ct=t,nt=e;else{if(e===null)throw Error(W(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ct===null?Ge.memoizedState=ct=e:ct=ct.next=e}return ct}function il(e,t){return typeof t=="function"?t(e):t}function yh(e){var t=Mr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var s=nt,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ga&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Ge.lanes|=u,xa|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,en(s,t.memoizedState)||(Xt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ge.lanes|=i,xa|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bh(e){var t=Mr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);en(i,t.memoizedState)||(Xt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Lj(){}function Fj(e,t){var r=Ge,s=Mr(),a=t(),i=!en(s.memoizedState,a);if(i&&(s.memoizedState=a,Xt=!0),s=s.queue,Ip(Vj.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,ol(9,Bj.bind(null,r,s,a,t),void 0,null),dt===null)throw Error(W(349));ga&30||$j(r,t,a)}return a}function $j(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Bj(e,t,r,s){t.value=r,t.getSnapshot=s,Uj(t)&&zj(e)}function Vj(e,t,r){return r(function(){Uj(t)&&zj(e)})}function Uj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!en(e,r)}catch{return!0}}function zj(e){var t=zn(e,1);t!==null&&Zr(t,e,1,-1)}function xv(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:e},t.queue=e,e=e.dispatch=Y5.bind(null,Ge,e),[t.memoizedState,e]}function ol(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Hj(){return Mr().memoizedState}function Uc(e,t,r,s){var a=hn();Ge.flags|=e,a.memoizedState=ol(1|t,r,void 0,s===void 0?null:s)}function ru(e,t,r,s){var a=Mr();s=s===void 0?null:s;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,s!==null&&Dp(s,o.deps)){a.memoizedState=ol(t,r,i,s);return}}Ge.flags|=e,a.memoizedState=ol(1|t,r,i,s)}function vv(e,t){return Uc(8390656,8,e,t)}function Ip(e,t){return ru(2048,8,e,t)}function Wj(e,t){return ru(4,2,e,t)}function Gj(e,t){return ru(4,4,e,t)}function qj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kj(e,t,r){return r=r!=null?r.concat([e]):null,ru(4,4,qj.bind(null,t,e),r)}function Lp(){}function Yj(e,t){var r=Mr();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Dp(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Xj(e,t){var r=Mr();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Dp(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Qj(e,t,r){return ga&21?(en(r,t)||(r=rj(),Ge.lanes|=r,xa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=r)}function q5(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var s=vh.transition;vh.transition={};try{e(!1),t()}finally{Pe=r,vh.transition=s}}function Jj(){return Mr().memoizedState}function K5(e,t,r){var s=Cs(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Zj(e))e1(t,r);else if(r=Mj(e,t,r,s),r!==null){var a=$t();Zr(r,e,s,a),t1(r,t,s)}}function Y5(e,t,r){var s=Cs(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zj(e))e1(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,en(l,o)){var c=t.interleaved;c===null?(a.next=a,Tp(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Mj(e,t,a,s),r!==null&&(a=$t(),Zr(r,e,s,a),t1(r,t,s))}}function Zj(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function e1(e,t){Oo=bd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function t1(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,fp(e,r)}}var wd={readContext:Dr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},X5={readContext:Dr,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Dr,useEffect:vv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Uc(4194308,4,qj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Uc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uc(4,2,e,t)},useMemo:function(e,t){var r=hn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=hn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=K5.bind(null,Ge,e),[s.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:xv,useDebugValue:Lp,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=xv(!1),t=e[0];return e=q5.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Ge,a=hn();if(Ue){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),dt===null)throw Error(W(349));ga&30||$j(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,vv(Vj.bind(null,s,i,e),[e]),s.flags|=2048,ol(9,Bj.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=hn(),t=dt.identifierPrefix;if(Ue){var r=Dn,s=Rn;r=(s&~(1<<32-Jr(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=al++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=G5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q5={readContext:Dr,useCallback:Yj,useContext:Dr,useEffect:Ip,useImperativeHandle:Kj,useInsertionEffect:Wj,useLayoutEffect:Gj,useMemo:Xj,useReducer:yh,useRef:Hj,useState:function(){return yh(il)},useDebugValue:Lp,useDeferredValue:function(e){var t=Mr();return Qj(t,nt.memoizedState,e)},useTransition:function(){var e=yh(il)[0],t=Mr().memoizedState;return[e,t]},useMutableSource:Lj,useSyncExternalStore:Fj,useId:Jj,unstable_isNewReconciler:!1},J5={readContext:Dr,useCallback:Yj,useContext:Dr,useEffect:Ip,useImperativeHandle:Kj,useInsertionEffect:Wj,useLayoutEffect:Gj,useMemo:Xj,useReducer:bh,useRef:Hj,useState:function(){return bh(il)},useDebugValue:Lp,useDeferredValue:function(e){var t=Mr();return nt===null?t.memoizedState=e:Qj(t,nt.memoizedState,e)},useTransition:function(){var e=bh(il)[0],t=Mr().memoizedState;return[e,t]},useMutableSource:Lj,useSyncExternalStore:Fj,useId:Jj,unstable_isNewReconciler:!1};function qr(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fm(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nu={isMounted:function(e){return(e=e._reactInternals)?Ca(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=$t(),a=Cs(e),i=Mn(s,a);i.payload=t,r!=null&&(i.callback=r),t=_s(e,i,a),t!==null&&(Zr(t,e,a,s),Bc(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=$t(),a=Cs(e),i=Mn(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=_s(e,i,a),t!==null&&(Zr(t,e,a,s),Bc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$t(),s=Cs(e),a=Mn(r,s);a.tag=2,t!=null&&(a.callback=t),t=_s(e,a,s),t!==null&&(Zr(t,e,s,r),Bc(t,e,s))}};function yv(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Zo(r,s)||!Zo(a,i):!0}function r1(e,t,r){var s=!1,a=Es,i=t.contextType;return typeof i=="object"&&i!==null?i=Dr(i):(a=er(t)?fa:At.current,s=t.contextTypes,i=(s=s!=null)?bi(e,a):Es),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nu,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function bv(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&nu.enqueueReplaceState(t,t.state,null)}function $m(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ep(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Dr(i):(i=er(t)?fa:At.current,a.context=bi(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Fm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nu.enqueueReplaceState(a,a.state,null),vd(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function _i(e,t){try{var r="",s=t;do r+=CT(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function wh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Z5=typeof WeakMap=="function"?WeakMap:Map;function n1(e,t,r){r=Mn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Nd||(Nd=!0,Xm=s),Bm(e,t)},r}function s1(e,t,r){r=Mn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Bm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Bm(e,t),typeof s!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function wv(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Z5;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=mE.bind(null,e,t,r),t.then(e,e))}function jv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nv(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mn(-1,1),t.tag=2,_s(r,t,1))),r.lanes|=1),e)}var eE=es.ReactCurrentOwner,Xt=!1;function Ot(e,t,r,s){t.child=e===null?Dj(t,null,r,s):ji(t,e.child,r,s)}function _v(e,t,r,s,a){r=r.render;var i=t.ref;return hi(t,a),s=Mp(e,t,r,s,i,a),r=Op(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hn(e,t,a)):(Ue&&r&&jp(t),t.flags|=1,Ot(e,t,s,a),t.child)}function Sv(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!Wp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,a1(e,t,i,s,a)):(e=Gc(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Zo,r(o,s)&&e.ref===t.ref)return Hn(e,t,a)}return t.flags|=1,e=ks(i,s),e.ref=t.ref,e.return=t,t.child=e}function a1(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Zo(i,s)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,Hn(e,t,a)}return Vm(e,t,r,s,a)}function i1(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ei,cr),cr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(ei,cr),cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,De(ei,cr),cr|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,De(ei,cr),cr|=s;return Ot(e,t,a,r),t.child}function o1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vm(e,t,r,s,a){var i=er(r)?fa:At.current;return i=bi(t,i),hi(t,a),r=Mp(e,t,r,s,i,a),s=Op(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hn(e,t,a)):(Ue&&s&&jp(t),t.flags|=1,Ot(e,t,r,a),t.child)}function Cv(e,t,r,s,a){if(er(r)){var i=!0;md(t)}else i=!1;if(hi(t,a),t.stateNode===null)zc(e,t),r1(t,r,s),$m(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Dr(d):(d=er(r)?fa:At.current,d=bi(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&bv(t,o,s,d),fs=!1;var m=t.memoizedState;o.state=m,vd(t,s,o,a),c=t.memoizedState,l!==s||m!==c||Zt.current||fs?(typeof u=="function"&&(Fm(t,r,u,s),c=t.memoizedState),(l=fs||yv(t,r,l,s,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Oj(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:qr(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Dr(c):(c=er(r)?fa:At.current,c=bi(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&bv(t,o,s,c),fs=!1,m=t.memoizedState,o.state=m,vd(t,s,o,a);var x=t.memoizedState;l!==h||m!==x||Zt.current||fs?(typeof p=="function"&&(Fm(t,r,p,s),x=t.memoizedState),(d=fs||yv(t,r,d,s,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return Um(e,t,r,s,i,a)}function Um(e,t,r,s,a,i){o1(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&uv(t,r,!1),Hn(e,t,i);s=t.stateNode,eE.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ji(t,e.child,null,i),t.child=ji(t,null,l,i)):Ot(e,t,l,i),t.memoizedState=s.state,a&&uv(t,r,!0),t.child}function l1(e){var t=e.stateNode;t.pendingContext?dv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dv(e,t.context,!1),Pp(e,t.containerInfo)}function kv(e,t,r,s,a){return wi(),_p(a),t.flags|=256,Ot(e,t,r,s),t.child}var zm={dehydrated:null,treeContext:null,retryLane:0};function Hm(e){return{baseLanes:e,cachePool:null,transitions:null}}function c1(e,t,r){var s=t.pendingProps,a=We.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),De(We,a&1),e===null)return Im(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=iu(o,s,0,null),e=da(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hm(r),t.memoizedState=zm,e):Fp(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return tE(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ks(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ks(l,i):(i=da(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Hm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=zm,s}return i=e.child,e=i.sibling,s=ks(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Fp(e,t){return t=iu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mc(e,t,r,s){return s!==null&&_p(s),ji(t,e.child,null,r),e=Fp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tE(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=wh(Error(W(422))),mc(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=iu({mode:"visible",children:s.children},a,0,null),i=da(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ji(t,e.child,null,o),t.child.memoizedState=Hm(o),t.memoizedState=zm,i);if(!(t.mode&1))return mc(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(W(419)),s=wh(i,s,void 0),mc(e,t,o,s)}if(l=(o&e.childLanes)!==0,Xt||l){if(s=dt,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,zn(e,a),Zr(s,e,a,-1))}return Hp(),s=wh(Error(W(421))),mc(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=fE.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,hr=Ns(a.nextSibling),mr=t,Ue=!0,Xr=null,e!==null&&(kr[Tr++]=Rn,kr[Tr++]=Dn,kr[Tr++]=pa,Rn=e.id,Dn=e.overflow,pa=t),t=Fp(t,s.children),t.flags|=4096,t)}function Tv(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Lm(e.return,t,r)}function jh(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function d1(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Ot(e,t,s.children,r),s=We.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tv(e,r,t);else if(e.tag===19)Tv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(De(We,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&yd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),jh(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&yd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}jh(t,!0,r,null,i);break;case"together":jh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=ks(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ks(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rE(e,t,r){switch(t.tag){case 3:l1(t),wi();break;case 5:Ij(t);break;case 1:er(t.type)&&md(t);break;case 4:Pp(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;De(gd,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(De(We,We.current&1),t.flags|=128,null):r&t.child.childLanes?c1(e,t,r):(De(We,We.current&1),e=Hn(e,t,r),e!==null?e.sibling:null);De(We,We.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return d1(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),De(We,We.current),s)break;return null;case 22:case 23:return t.lanes=0,i1(e,t,r)}return Hn(e,t,r)}var u1,Wm,h1,m1;u1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wm=function(){};h1=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,oa(gn.current);var i=null;switch(r){case"input":a=mm(e,a),s=mm(e,s),i=[];break;case"select":a=qe({},a,{value:void 0}),s=qe({},s,{value:void 0}),i=[];break;case"textarea":a=gm(e,a),s=gm(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ud)}vm(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Go.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Go.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};m1=function(e,t,r,s){r!==s&&(t.flags|=4)};function io(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function nE(e,t,r){var s=t.pendingProps;switch(Np(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return er(t.type)&&hd(),St(t),null;case 3:return s=t.stateNode,Ni(),Le(Zt),Le(At),Rp(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(uc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xr!==null&&(Zm(Xr),Xr=null))),Wm(e,t),St(t),null;case 5:Ap(t);var a=oa(sl.current);if(r=t.type,e!==null&&t.stateNode!=null)h1(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(W(166));return St(t),null}if(e=oa(gn.current),uc(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[mn]=t,s[rl]=i,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":case"embed":Ie("load",s);break;case"video":case"audio":for(a=0;a<No.length;a++)Ie(No[a],s);break;case"source":Ie("error",s);break;case"img":case"image":case"link":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"input":L0(s,i),Ie("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",s);break;case"textarea":$0(s,i),Ie("invalid",s)}vm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&dc(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&dc(s.textContent,l,e),a=["children",""+l]):Go.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ie("scroll",s)}switch(r){case"input":rc(s),F0(s,i,!0);break;case"textarea":rc(s),B0(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=ud)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[mn]=t,e[rl]=s,u1(e,t,!1,!1),t.stateNode=e;e:{switch(o=ym(r,s),r){case"dialog":Ie("cancel",e),Ie("close",e),a=s;break;case"iframe":case"object":case"embed":Ie("load",e),a=s;break;case"video":case"audio":for(a=0;a<No.length;a++)Ie(No[a],e);a=s;break;case"source":Ie("error",e),a=s;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),a=s;break;case"details":Ie("toggle",e),a=s;break;case"input":L0(e,s),a=mm(e,s),Ie("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=qe({},s,{value:void 0}),Ie("invalid",e);break;case"textarea":$0(e,s),a=gm(e,s),Ie("invalid",e);break;default:a=s}vm(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Hw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Uw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qo(e,c):typeof c=="number"&&qo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Go.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",e):c!=null&&lp(e,i,c,o))}switch(r){case"input":rc(e),F0(e,s,!1);break;case"textarea":rc(e),B0(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ts(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?li(e,!!s.multiple,i,!1):s.defaultValue!=null&&li(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ud)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)m1(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(W(166));if(r=oa(sl.current),oa(gn.current),uc(t)){if(s=t.stateNode,r=t.memoizedProps,s[mn]=t,(i=s.nodeValue!==r)&&(e=mr,e!==null))switch(e.tag){case 3:dc(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dc(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[mn]=t,t.stateNode=s}return St(t),null;case 13:if(Le(We),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&hr!==null&&t.mode&1&&!(t.flags&128))Aj(),wi(),t.flags|=98560,i=!1;else if(i=uc(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[mn]=t}else wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),i=!1}else Xr!==null&&(Zm(Xr),Xr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?st===0&&(st=3):Hp())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return Ni(),Wm(e,t),e===null&&el(t.stateNode.containerInfo),St(t),null;case 10:return kp(t.type._context),St(t),null;case 17:return er(t.type)&&hd(),St(t),null;case 19:if(Le(We),i=t.memoizedState,i===null)return St(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)io(i,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yd(e),o!==null){for(t.flags|=128,io(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return De(We,We.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ze()>Si&&(t.flags|=128,s=!0,io(i,!1),t.lanes=4194304)}else{if(!s)if(e=yd(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),io(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ue)return St(t),null}else 2*Ze()-i.renderingStartTime>Si&&r!==1073741824&&(t.flags|=128,s=!0,io(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ze(),t.sibling=null,r=We.current,De(We,s?r&1|2:r&1),t):(St(t),null);case 22:case 23:return zp(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?cr&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function sE(e,t){switch(Np(t),t.tag){case 1:return er(t.type)&&hd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ni(),Le(Zt),Le(At),Rp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ap(t),null;case 13:if(Le(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(We),null;case 4:return Ni(),null;case 10:return kp(t.type._context),null;case 22:case 23:return zp(),null;case 24:return null;default:return null}}var fc=!1,kt=!1,aE=typeof WeakSet=="function"?WeakSet:Set,J=null;function Za(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Xe(e,t,s)}else r.current=null}function Gm(e,t,r){try{r()}catch(s){Xe(e,t,s)}}var Ev=!1;function iE(e,t){if(Em=ld,e=vj(),wp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===s&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pm={focusedElem:e,selectionRange:r},ld=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,b=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:qr(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){Xe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return x=Ev,Ev=!1,x}function Io(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Gm(t,r,i)}a=a.next}while(a!==s)}}function su(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function qm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function f1(e){var t=e.alternate;t!==null&&(e.alternate=null,f1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[rl],delete t[Dm],delete t[U5],delete t[z5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function p1(e){return e.tag===5||e.tag===3||e.tag===4}function Pv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||p1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Km(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ud));else if(s!==4&&(e=e.child,e!==null))for(Km(e,t,r),e=e.sibling;e!==null;)Km(e,t,r),e=e.sibling}function Ym(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ym(e,t,r),e=e.sibling;e!==null;)Ym(e,t,r),e=e.sibling}var ft=null,Kr=!1;function is(e,t,r){for(r=r.child;r!==null;)g1(e,t,r),r=r.sibling}function g1(e,t,r){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Xd,r)}catch{}switch(r.tag){case 5:kt||Za(r,t);case 6:var s=ft,a=Kr;ft=null,is(e,t,r),ft=s,Kr=a,ft!==null&&(Kr?(e=ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ft.removeChild(r.stateNode));break;case 18:ft!==null&&(Kr?(e=ft,r=r.stateNode,e.nodeType===8?ph(e.parentNode,r):e.nodeType===1&&ph(e,r),Qo(e)):ph(ft,r.stateNode));break;case 4:s=ft,a=Kr,ft=r.stateNode.containerInfo,Kr=!0,is(e,t,r),ft=s,Kr=a;break;case 0:case 11:case 14:case 15:if(!kt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Gm(r,t,o),a=a.next}while(a!==s)}is(e,t,r);break;case 1:if(!kt&&(Za(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Xe(r,t,l)}is(e,t,r);break;case 21:is(e,t,r);break;case 22:r.mode&1?(kt=(s=kt)||r.memoizedState!==null,is(e,t,r),kt=s):is(e,t,r);break;default:is(e,t,r)}}function Av(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new aE),t.forEach(function(s){var a=pE.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Hr(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,Kr=!1;break e;case 3:ft=l.stateNode.containerInfo,Kr=!0;break e;case 4:ft=l.stateNode.containerInfo,Kr=!0;break e}l=l.return}if(ft===null)throw Error(W(160));g1(i,o,a),ft=null,Kr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Xe(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)x1(t,e),t=t.sibling}function x1(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hr(t,e),un(e),s&4){try{Io(3,e,e.return),su(3,e)}catch(g){Xe(e,e.return,g)}try{Io(5,e,e.return)}catch(g){Xe(e,e.return,g)}}break;case 1:Hr(t,e),un(e),s&512&&r!==null&&Za(r,r.return);break;case 5:if(Hr(t,e),un(e),s&512&&r!==null&&Za(r,r.return),e.flags&32){var a=e.stateNode;try{qo(a,"")}catch(g){Xe(e,e.return,g)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&$w(a,i),ym(l,o);var d=ym(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Hw(a,h):u==="dangerouslySetInnerHTML"?Uw(a,h):u==="children"?qo(a,h):lp(a,u,h,d)}switch(l){case"input":fm(a,i);break;case"textarea":Bw(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?li(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?li(a,!!i.multiple,i.defaultValue,!0):li(a,!!i.multiple,i.multiple?[]:"",!1))}a[rl]=i}catch(g){Xe(e,e.return,g)}}break;case 6:if(Hr(t,e),un(e),s&4){if(e.stateNode===null)throw Error(W(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Xe(e,e.return,g)}}break;case 3:if(Hr(t,e),un(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Qo(t.containerInfo)}catch(g){Xe(e,e.return,g)}break;case 4:Hr(t,e),un(e);break;case 13:Hr(t,e),un(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Vp=Ze())),s&4&&Av(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(kt=(d=kt)||u,Hr(t,e),kt=d):Hr(t,e),un(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(J=e,u=e.child;u!==null;){for(h=J=u;J!==null;){switch(m=J,p=m.child,m.tag){case 0:case 11:case 14:case 15:Io(4,m,m.return);break;case 1:Za(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Xe(s,r,g)}}break;case 5:Za(m,m.return);break;case 22:if(m.memoizedState!==null){Dv(h);continue}}p!==null?(p.return=m,J=p):Dv(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=zw("display",o))}catch(g){Xe(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Xe(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Hr(t,e),un(e),s&4&&Av(e);break;case 21:break;default:Hr(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(p1(r)){var s=r;break e}r=r.return}throw Error(W(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(qo(a,""),s.flags&=-33);var i=Pv(e);Ym(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Pv(e);Km(e,l,o);break;default:throw Error(W(161))}}catch(c){Xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oE(e,t,r){J=e,v1(e)}function v1(e,t,r){for(var s=(e.mode&1)!==0;J!==null;){var a=J,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||fc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||kt;l=fc;var d=kt;if(fc=o,(kt=c)&&!d)for(J=a;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?Mv(a):c!==null?(c.return=o,J=c):Mv(a);for(;i!==null;)J=i,v1(i),i=i.sibling;J=a,fc=l,kt=d}Rv(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,J=i):Rv(e)}}function Rv(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||su(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!kt)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:qr(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gv(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Qo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}kt||t.flags&512&&qm(t)}catch(m){Xe(t,t.return,m)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function Dv(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function Mv(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{su(4,t)}catch(c){Xe(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Xe(t,a,c)}}var i=t.return;try{qm(t)}catch(c){Xe(t,i,c)}break;case 5:var o=t.return;try{qm(t)}catch(c){Xe(t,o,c)}}}catch(c){Xe(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var lE=Math.ceil,jd=es.ReactCurrentDispatcher,$p=es.ReactCurrentOwner,Pr=es.ReactCurrentBatchConfig,we=0,dt=null,rt=null,xt=0,cr=0,ei=Vs(0),st=0,ll=null,xa=0,au=0,Bp=0,Lo=null,Kt=null,Vp=0,Si=1/0,En=null,Nd=!1,Xm=null,Ss=null,pc=!1,ys=null,_d=0,Fo=0,Qm=null,Hc=-1,Wc=0;function $t(){return we&6?Ze():Hc!==-1?Hc:Hc=Ze()}function Cs(e){return e.mode&1?we&2&&xt!==0?xt&-xt:W5.transition!==null?(Wc===0&&(Wc=rj()),Wc):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:cj(e.type)),e):1}function Zr(e,t,r,s){if(50<Fo)throw Fo=0,Qm=null,Error(W(185));Cl(e,r,s),(!(we&2)||e!==dt)&&(e===dt&&(!(we&2)&&(au|=r),st===4&&xs(e,xt)),tr(e,s),r===1&&we===0&&!(t.mode&1)&&(Si=Ze()+500,tu&&Us()))}function tr(e,t){var r=e.callbackNode;WT(e,t);var s=od(e,e===dt?xt:0);if(s===0)r!==null&&z0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&z0(r),t===1)e.tag===0?H5(Ov.bind(null,e)):Tj(Ov.bind(null,e)),B5(function(){!(we&6)&&Us()}),r=null;else{switch(nj(s)){case 1:r=mp;break;case 4:r=ej;break;case 16:r=id;break;case 536870912:r=tj;break;default:r=id}r=C1(r,y1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function y1(e,t){if(Hc=-1,Wc=0,we&6)throw Error(W(327));var r=e.callbackNode;if(mi()&&e.callbackNode!==r)return null;var s=od(e,e===dt?xt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Sd(e,s);else{t=s;var a=we;we|=2;var i=w1();(dt!==e||xt!==t)&&(En=null,Si=Ze()+500,ca(e,t));do try{uE();break}catch(l){b1(e,l)}while(1);Cp(),jd.current=i,we=a,rt!==null?t=0:(dt=null,xt=0,t=st)}if(t!==0){if(t===2&&(a=_m(e),a!==0&&(s=a,t=Jm(e,a))),t===1)throw r=ll,ca(e,0),xs(e,s),tr(e,Ze()),r;if(t===6)xs(e,s);else{if(a=e.current.alternate,!(s&30)&&!cE(a)&&(t=Sd(e,s),t===2&&(i=_m(e),i!==0&&(s=i,t=Jm(e,i))),t===1))throw r=ll,ca(e,0),xs(e,s),tr(e,Ze()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(W(345));case 2:Js(e,Kt,En);break;case 3:if(xs(e,s),(s&130023424)===s&&(t=Vp+500-Ze(),10<t)){if(od(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){$t(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Rm(Js.bind(null,e,Kt,En),t);break}Js(e,Kt,En);break;case 4:if(xs(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Jr(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Ze()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*lE(s/1960))-s,10<s){e.timeoutHandle=Rm(Js.bind(null,e,Kt,En),s);break}Js(e,Kt,En);break;case 5:Js(e,Kt,En);break;default:throw Error(W(329))}}}return tr(e,Ze()),e.callbackNode===r?y1.bind(null,e):null}function Jm(e,t){var r=Lo;return e.current.memoizedState.isDehydrated&&(ca(e,t).flags|=256),e=Sd(e,t),e!==2&&(t=Kt,Kt=r,t!==null&&Zm(t)),e}function Zm(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function cE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!en(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xs(e,t){for(t&=~Bp,t&=~au,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Jr(t),s=1<<r;e[r]=-1,t&=~s}}function Ov(e){if(we&6)throw Error(W(327));mi();var t=od(e,0);if(!(t&1))return tr(e,Ze()),null;var r=Sd(e,t);if(e.tag!==0&&r===2){var s=_m(e);s!==0&&(t=s,r=Jm(e,s))}if(r===1)throw r=ll,ca(e,0),xs(e,t),tr(e,Ze()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Js(e,Kt,En),tr(e,Ze()),null}function Up(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(Si=Ze()+500,tu&&Us())}}function va(e){ys!==null&&ys.tag===0&&!(we&6)&&mi();var t=we;we|=1;var r=Pr.transition,s=Pe;try{if(Pr.transition=null,Pe=1,e)return e()}finally{Pe=s,Pr.transition=r,we=t,!(we&6)&&Us()}}function zp(){cr=ei.current,Le(ei)}function ca(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$5(r)),rt!==null)for(r=rt.return;r!==null;){var s=r;switch(Np(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&hd();break;case 3:Ni(),Le(Zt),Le(At),Rp();break;case 5:Ap(s);break;case 4:Ni();break;case 13:Le(We);break;case 19:Le(We);break;case 10:kp(s.type._context);break;case 22:case 23:zp()}r=r.return}if(dt=e,rt=e=ks(e.current,null),xt=cr=t,st=0,ll=null,Bp=au=xa=0,Kt=Lo=null,ia!==null){for(t=0;t<ia.length;t++)if(r=ia[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}ia=null}return e}function b1(e,t){do{var r=rt;try{if(Cp(),Vc.current=wd,bd){for(var s=Ge.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}bd=!1}if(ga=0,ct=nt=Ge=null,Oo=!1,al=0,$p.current=null,r===null||r.return===null){st=1,ll=t,rt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=jv(o);if(p!==null){p.flags&=-257,Nv(p,o,l,i,t),p.mode&1&&wv(i,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){wv(i,d,t),Hp();break e}c=Error(W(426))}}else if(Ue&&l.mode&1){var b=jv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Nv(b,o,l,i,t),_p(_i(c,l));break e}}i=c=_i(c,l),st!==4&&(st=2),Lo===null?Lo=[i]:Lo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=n1(i,c,t);pv(i,y);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ss===null||!Ss.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=s1(i,l,t);pv(i,j);break e}}i=i.return}while(i!==null)}N1(r)}catch(S){t=S,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(1)}function w1(){var e=jd.current;return jd.current=wd,e===null?wd:e}function Hp(){(st===0||st===3||st===2)&&(st=4),dt===null||!(xa&268435455)&&!(au&268435455)||xs(dt,xt)}function Sd(e,t){var r=we;we|=2;var s=w1();(dt!==e||xt!==t)&&(En=null,ca(e,t));do try{dE();break}catch(a){b1(e,a)}while(1);if(Cp(),we=r,jd.current=s,rt!==null)throw Error(W(261));return dt=null,xt=0,st}function dE(){for(;rt!==null;)j1(rt)}function uE(){for(;rt!==null&&!IT();)j1(rt)}function j1(e){var t=S1(e.alternate,e,cr);e.memoizedProps=e.pendingProps,t===null?N1(e):rt=t,$p.current=null}function N1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=sE(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,rt=null;return}}else if(r=nE(r,t,cr),r!==null){rt=r;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);st===0&&(st=5)}function Js(e,t,r){var s=Pe,a=Pr.transition;try{Pr.transition=null,Pe=1,hE(e,t,r,s)}finally{Pr.transition=a,Pe=s}return null}function hE(e,t,r,s){do mi();while(ys!==null);if(we&6)throw Error(W(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(GT(e,i),e===dt&&(rt=dt=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pc||(pc=!0,C1(id,function(){return mi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Pr.transition,Pr.transition=null;var o=Pe;Pe=1;var l=we;we|=4,$p.current=null,iE(e,r),x1(r,e),R5(Pm),ld=!!Em,Pm=Em=null,e.current=r,oE(r),LT(),we=l,Pe=o,Pr.transition=i}else e.current=r;if(pc&&(pc=!1,ys=e,_d=a),i=e.pendingLanes,i===0&&(Ss=null),BT(r.stateNode),tr(e,Ze()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Nd)throw Nd=!1,e=Xm,Xm=null,e;return _d&1&&e.tag!==0&&mi(),i=e.pendingLanes,i&1?e===Qm?Fo++:(Fo=0,Qm=e):Fo=0,Us(),null}function mi(){if(ys!==null){var e=nj(_d),t=Pr.transition,r=Pe;try{if(Pr.transition=null,Pe=16>e?16:e,ys===null)var s=!1;else{if(e=ys,ys=null,_d=0,we&6)throw Error(W(331));var a=we;for(we|=4,J=e.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(J=d;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:Io(8,u,i)}var h=u.child;if(h!==null)h.return=u,J=h;else for(;J!==null;){u=J;var m=u.sibling,p=u.return;if(f1(u),u===d){J=null;break}if(m!==null){m.return=p,J=m;break}J=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Io(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,J=y;break e}J=i.return}}var v=e.current;for(J=v;J!==null;){o=J;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,J=w;else e:for(o=v;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:su(9,l)}}catch(S){Xe(l,l.return,S)}if(l===o){J=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,J=j;break e}J=l.return}}if(we=a,Us(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Xd,e)}catch{}s=!0}return s}finally{Pe=r,Pr.transition=t}}return!1}function Iv(e,t,r){t=_i(r,t),t=n1(e,t,1),e=_s(e,t,1),t=$t(),e!==null&&(Cl(e,1,t),tr(e,t))}function Xe(e,t,r){if(e.tag===3)Iv(e,e,r);else for(;t!==null;){if(t.tag===3){Iv(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ss===null||!Ss.has(s))){e=_i(r,e),e=s1(t,e,1),t=_s(t,e,1),e=$t(),t!==null&&(Cl(t,1,e),tr(t,e));break}}t=t.return}}function mE(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&r,dt===e&&(xt&r)===r&&(st===4||st===3&&(xt&130023424)===xt&&500>Ze()-Vp?ca(e,0):Bp|=r),tr(e,t)}function _1(e,t){t===0&&(e.mode&1?(t=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):t=1);var r=$t();e=zn(e,t),e!==null&&(Cl(e,t,r),tr(e,r))}function fE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_1(e,r)}function pE(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(W(314))}s!==null&&s.delete(t),_1(e,r)}var S1;S1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)Xt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xt=!1,rE(e,t,r);Xt=!!(e.flags&131072)}else Xt=!1,Ue&&t.flags&1048576&&Ej(t,pd,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;zc(e,t),e=t.pendingProps;var a=bi(t,At.current);hi(t,r),a=Mp(null,t,s,e,a,r);var i=Op();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,er(s)?(i=!0,md(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ep(t),a.updater=nu,t.stateNode=a,a._reactInternals=t,$m(t,s,e,r),t=Um(null,t,s,!0,i,r)):(t.tag=0,Ue&&i&&jp(t),Ot(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(zc(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=xE(s),e=qr(s,e),a){case 0:t=Vm(null,t,s,e,r);break e;case 1:t=Cv(null,t,s,e,r);break e;case 11:t=_v(null,t,s,e,r);break e;case 14:t=Sv(null,t,s,qr(s.type,e),r);break e}throw Error(W(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:qr(s,a),Vm(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:qr(s,a),Cv(e,t,s,a,r);case 3:e:{if(l1(t),e===null)throw Error(W(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Oj(e,t),vd(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=_i(Error(W(423)),t),t=kv(e,t,s,r,a);break e}else if(s!==a){a=_i(Error(W(424)),t),t=kv(e,t,s,r,a);break e}else for(hr=Ns(t.stateNode.containerInfo.firstChild),mr=t,Ue=!0,Xr=null,r=Dj(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wi(),s===a){t=Hn(e,t,r);break e}Ot(e,t,s,r)}t=t.child}return t;case 5:return Ij(t),e===null&&Im(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Am(s,a)?o=null:i!==null&&Am(s,i)&&(t.flags|=32),o1(e,t),Ot(e,t,o,r),t.child;case 6:return e===null&&Im(t),null;case 13:return c1(e,t,r);case 4:return Pp(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ji(t,null,s,r):Ot(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:qr(s,a),_v(e,t,s,a,r);case 7:return Ot(e,t,t.pendingProps,r),t.child;case 8:return Ot(e,t,t.pendingProps.children,r),t.child;case 12:return Ot(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,De(gd,s._currentValue),s._currentValue=o,i!==null)if(en(i.value,o)){if(i.children===a.children&&!Zt.current){t=Hn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Mn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Lm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Lm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ot(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,hi(t,r),a=Dr(a),s=s(a),t.flags|=1,Ot(e,t,s,r),t.child;case 14:return s=t.type,a=qr(s,t.pendingProps),a=qr(s.type,a),Sv(e,t,s,a,r);case 15:return a1(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:qr(s,a),zc(e,t),t.tag=1,er(s)?(e=!0,md(t)):e=!1,hi(t,r),r1(t,s,a),$m(t,s,a,r),Um(null,t,s,!0,e,r);case 19:return d1(e,t,r);case 22:return i1(e,t,r)}throw Error(W(156,t.tag))};function C1(e,t){return Zw(e,t)}function gE(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(e,t,r,s){return new gE(e,t,r,s)}function Wp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xE(e){if(typeof e=="function")return Wp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dp)return 11;if(e===up)return 14}return 2}function ks(e,t){var r=e.alternate;return r===null?(r=Er(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gc(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")Wp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ha:return da(r.children,a,i,t);case cp:o=8,a|=8;break;case cm:return e=Er(12,r,t,a|2),e.elementType=cm,e.lanes=i,e;case dm:return e=Er(13,r,t,a),e.elementType=dm,e.lanes=i,e;case um:return e=Er(19,r,t,a),e.elementType=um,e.lanes=i,e;case Iw:return iu(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mw:o=10;break e;case Ow:o=9;break e;case dp:o=11;break e;case up:o=14;break e;case ms:o=16,s=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Er(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function da(e,t,r,s){return e=Er(7,e,s,t),e.lanes=r,e}function iu(e,t,r,s){return e=Er(22,e,s,t),e.elementType=Iw,e.lanes=r,e.stateNode={isHidden:!1},e}function Nh(e,t,r){return e=Er(6,e,null,t),e.lanes=r,e}function _h(e,t,r){return t=Er(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vE(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sh(0),this.expirationTimes=sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sh(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Gp(e,t,r,s,a,i,o,l,c){return e=new vE(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Er(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ep(i),e}function yE(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function k1(e){if(!e)return Es;e=e._reactInternals;e:{if(Ca(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(er(r))return kj(e,r,t)}return t}function T1(e,t,r,s,a,i,o,l,c){return e=Gp(r,s,!0,e,a,i,o,l,c),e.context=k1(null),r=e.current,s=$t(),a=Cs(r),i=Mn(s,a),i.callback=t??null,_s(r,i,a),e.current.lanes=a,Cl(e,a,s),tr(e,s),e}function ou(e,t,r,s){var a=t.current,i=$t(),o=Cs(a);return r=k1(r),t.context===null?t.context=r:t.pendingContext=r,t=Mn(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=_s(a,t,o),e!==null&&(Zr(e,a,o,i),Bc(e,a,o)),o}function Cd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qp(e,t){Lv(e,t),(e=e.alternate)&&Lv(e,t)}function bE(){return null}var E1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kp(e){this._internalRoot=e}lu.prototype.render=Kp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));ou(e,t,null,null)};lu.prototype.unmount=Kp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;va(function(){ou(null,e,null,null)}),t[Un]=null}};function lu(e){this._internalRoot=e}lu.prototype.unstable_scheduleHydration=function(e){if(e){var t=ij();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gs.length&&t!==0&&t<gs[r].priority;r++);gs.splice(r,0,e),r===0&&lj(e)}};function Yp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fv(){}function wE(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Cd(o);i.call(d)}}var o=T1(t,s,e,0,null,!1,!1,"",Fv);return e._reactRootContainer=o,e[Un]=o.current,el(e.nodeType===8?e.parentNode:e),va(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Cd(c);l.call(d)}}var c=Gp(e,0,!1,null,null,!1,!1,"",Fv);return e._reactRootContainer=c,e[Un]=c.current,el(e.nodeType===8?e.parentNode:e),va(function(){ou(t,c,r,s)}),c}function du(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Cd(o);l.call(c)}}ou(t,o,e,a)}else o=wE(r,t,e,a,s);return Cd(o)}sj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jo(t.pendingLanes);r!==0&&(fp(t,r|1),tr(t,Ze()),!(we&6)&&(Si=Ze()+500,Us()))}break;case 13:va(function(){var s=zn(e,1);if(s!==null){var a=$t();Zr(s,e,1,a)}}),qp(e,1)}};pp=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var r=$t();Zr(t,e,134217728,r)}qp(e,134217728)}};aj=function(e){if(e.tag===13){var t=Cs(e),r=zn(e,t);if(r!==null){var s=$t();Zr(r,e,t,s)}qp(e,t)}};ij=function(){return Pe};oj=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}};wm=function(e,t,r){switch(t){case"input":if(fm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=eu(s);if(!a)throw Error(W(90));Fw(s),fm(s,a)}}}break;case"textarea":Bw(e,r);break;case"select":t=r.value,t!=null&&li(e,!!r.multiple,t,!1)}};qw=Up;Kw=va;var jE={usingClientEntryPoint:!1,Events:[Tl,Ka,eu,Ww,Gw,Up]},oo={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NE={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qw(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||bE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Xd=gc.inject(NE),pn=gc}catch{}}jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jE;jr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yp(t))throw Error(W(200));return yE(e,t,null,r)};jr.createRoot=function(e,t){if(!Yp(e))throw Error(W(299));var r=!1,s="",a=E1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Gp(e,1,!1,null,null,r,!1,s,a),e[Un]=t.current,el(e.nodeType===8?e.parentNode:e),new Kp(t)};jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Qw(t),e=e===null?null:e.stateNode,e};jr.flushSync=function(e){return va(e)};jr.hydrate=function(e,t,r){if(!cu(t))throw Error(W(200));return du(null,e,t,!0,r)};jr.hydrateRoot=function(e,t,r){if(!Yp(e))throw Error(W(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=E1;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=T1(t,null,e,1,r??null,a,!1,i,o),e[Un]=t.current,el(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new lu(t)};jr.render=function(e,t,r){if(!cu(t))throw Error(W(200));return du(null,e,t,!1,r)};jr.unmountComponentAtNode=function(e){if(!cu(e))throw Error(W(40));return e._reactRootContainer?(va(function(){du(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1};jr.unstable_batchedUpdates=Up;jr.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!cu(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return du(e,t,r,!1,s)};jr.version="18.3.1-next-f1338f8080-20240426";function P1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P1)}catch(e){console.error(e)}}P1(),Pw.exports=jr;var ka=Pw.exports;const _E=_a(ka);var $v=ka;om.createRoot=$v.createRoot,om.hydrateRoot=$v.hydrateRoot;const SE="modulepreload",CE=function(e){return"/"+e},Bv={},Ps=function(t,r,s){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=CE(i),i in Bv)return;Bv[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!s)for(let u=a.length-1;u>=0;u--){const h=a[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":SE,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.parse=DE;Xp.serialize=ME;const kE=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,TE=/^[\u0021-\u003A\u003C-\u007E]*$/,EE=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,PE=/^[\u0020-\u003A\u003D-\u007E]*$/,AE=Object.prototype.toString,RE=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function DE(e,t){const r=new RE,s=e.length;if(s<2)return r;const a=(t==null?void 0:t.decode)||OE;let i=0;do{const o=e.indexOf("=",i);if(o===-1)break;const l=e.indexOf(";",i),c=l===-1?s:l;if(o>c){i=e.lastIndexOf(";",o-1)+1;continue}const d=Vv(e,i,o),u=Uv(e,o,d),h=e.slice(d,u);if(r[h]===void 0){let m=Vv(e,o+1,c),p=Uv(e,c,m);const x=a(e.slice(m,p));r[h]=x}i=c+1}while(i<s);return r}function Vv(e,t,r){do{const s=e.charCodeAt(t);if(s!==32&&s!==9)return t}while(++t<r);return r}function Uv(e,t,r){for(;t>r;){const s=e.charCodeAt(--t);if(s!==32&&s!==9)return t+1}return r}function ME(e,t,r){const s=(r==null?void 0:r.encode)||encodeURIComponent;if(!kE.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=s(t);if(!TE.test(a))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+a;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!EE.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!PE.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!IE(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}function OE(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function IE(e){return AE.call(e)==="[object Date]"}var zv="popstate";function LE(e={}){function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return ef("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:cl(a)}return $E(t,r,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Or(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FE(){return Math.random().toString(36).substring(2,10)}function Hv(e,t){return{usr:e.state,key:e.key,idx:t}}function ef(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Li(t):t,state:r,key:t&&t.key||s||FE()}}function cl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Li(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function $E(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let b=u(),y=b==null?null:b-d;d=b,c&&c({action:l,location:g.location,delta:y})}function m(b,y){l="PUSH";let v=ef(g.location,b,y);r&&r(v,b),d=u()+1;let w=Hv(v,d),j=g.createHref(v);try{o.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function p(b,y){l="REPLACE";let v=ef(g.location,b,y);r&&r(v,b),d=u();let w=Hv(v,d),j=g.createHref(v);o.replaceState(w,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function x(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof b=="string"?b:cl(b);return v=v.replace(/ $/,"%20"),He(y,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,y)}let g={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(zv,h),c=b,()=>{a.removeEventListener(zv,h),c=null}},createHref(b){return t(a,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(b){return o.go(b)}};return g}function A1(e,t,r="/"){return BE(e,t,r,!1)}function BE(e,t,r,s){let a=typeof t=="string"?Li(t):t,i=As(a.pathname||"/",r);if(i==null)return null;let o=R1(e);VE(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=JE(i);l=XE(o[c],d,s)}return l}function R1(e,t=[],r=[],s=""){let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(He(c.relativePath.startsWith(s),`Absolute route path "${c.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(s.length));let d=On([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(He(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),R1(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:KE(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of D1(i.path))a(i,o,c)}),t}function D1(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=D1(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function VE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YE(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var UE=/^:[\w-]+$/,zE=3,HE=2,WE=1,GE=10,qE=-2,Wv=e=>e==="*";function KE(e,t){let r=e.split("/"),s=r.length;return r.some(Wv)&&(s+=qE),t&&(s+=HE),r.filter(a=>!Wv(a)).reduce((a,i)=>a+(UE.test(i)?zE:i===""?WE:GE),s)}function YE(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function XE(e,t,r=!1){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=kd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!s[s.length-1].route.index&&(h=kd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:On([i,h.pathname]),pathnameBase:rP(On([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=On([i,h.pathnameBase]))}return o}function kd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=QE(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:h},m)=>{if(u==="*"){let x=l[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=l[m];return h&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function QE(e,t=!1,r=!0){Or(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function JE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Or(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function As(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function ZE(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Li(e):e;return{pathname:r?r.startsWith("/")?r:eP(r,t):t,search:nP(s),hash:sP(a)}}function eP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Sh(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qp(e){let t=tP(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Jp(e,t,r,s=!1){let a;typeof e=="string"?a=Li(e):(a={...e},He(!a.pathname||!a.pathname.includes("?"),Sh("?","pathname","search",a)),He(!a.pathname||!a.pathname.includes("#"),Sh("#","pathname","hash",a)),He(!a.search||!a.search.includes("#"),Sh("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=ZE(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var On=e=>e.join("/").replace(/\/\/+/g,"/"),rP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var M1=["POST","PUT","PATCH","DELETE"];new Set(M1);var iP=["GET",...M1];new Set(iP);var Fi=f.createContext(null);Fi.displayName="DataRouter";var uu=f.createContext(null);uu.displayName="DataRouterState";var O1=f.createContext({isTransitioning:!1});O1.displayName="ViewTransition";var oP=f.createContext(new Map);oP.displayName="Fetchers";var lP=f.createContext(null);lP.displayName="Await";var sn=f.createContext(null);sn.displayName="Navigation";var Pl=f.createContext(null);Pl.displayName="Location";var Lr=f.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var Zp=f.createContext(null);Zp.displayName="RouteError";function cP(e,{relative:t}={}){He($i(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=f.useContext(sn),{hash:a,pathname:i,search:o}=Al(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:On([r,i])),s.createHref({pathname:l,search:o,hash:a})}function $i(){return f.useContext(Pl)!=null}function jt(){return He($i(),"useLocation() may be used only in the context of a <Router> component."),f.useContext(Pl).location}var I1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L1(e){f.useContext(sn).static||f.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=f.useContext(Lr);return e?_P():dP()}function dP(){He($i(),"useNavigate() may be used only in the context of a <Router> component.");let e=f.useContext(Fi),{basename:t,navigator:r}=f.useContext(sn),{matches:s}=f.useContext(Lr),{pathname:a}=jt(),i=JSON.stringify(Qp(s)),o=f.useRef(!1);return L1(()=>{o.current=!0}),f.useCallback((c,d={})=>{if(Or(o.current,I1),!o.current)return;if(typeof c=="number"){r.go(c);return}let u=Jp(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:On([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,i,a,e])}var uP=f.createContext(null);function hP(e){let t=f.useContext(Lr).outlet;return t&&f.createElement(uP.Provider,{value:e},t)}function an(){let{matches:e}=f.useContext(Lr),t=e[e.length-1];return t?t.params:{}}function Al(e,{relative:t}={}){let{matches:r}=f.useContext(Lr),{pathname:s}=jt(),a=JSON.stringify(Qp(r));return f.useMemo(()=>Jp(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function mP(e,t){return F1(e,t)}function F1(e,t,r,s){var y;He($i(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=f.useContext(sn),{matches:i}=f.useContext(Lr),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",u=o&&o.route;{let v=u&&u.path||"";$1(c,!u||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=jt(),m;if(t){let v=typeof t=="string"?Li(t):t;He(d==="/"||((y=v.pathname)==null?void 0:y.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${v.pathname}" was given in the \`location\` prop.`),m=v}else m=h;let p=m.pathname||"/",x=p;if(d!=="/"){let v=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=A1(e,{pathname:x});Or(u||g!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Or(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=vP(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:On([d,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:On([d,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,s);return t&&b?f.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function fP(){let e=NP(),t=aP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=f.createElement(f.Fragment,null,f.createElement("p",null," Hey developer "),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",f.createElement("code",{style:i},"ErrorBoundary")," or"," ",f.createElement("code",{style:i},"errorElement")," prop on your route.")),f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,o)}var pP=f.createElement(fP,null),gP=class extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?f.createElement(Lr.Provider,{value:this.props.routeContext},f.createElement(Zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xP({routeContext:e,match:t,children:r}){let s=f.useContext(Fi);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),f.createElement(Lr.Provider,{value:e},r)}function vP(e,t=[],r=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let c=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);He(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:u,errors:h}=r,m=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,u)=>{let h,m=!1,p=null,x=null;r&&(h=i&&d.route.id?i[d.route.id]:void 0,p=d.route.errorElement||pP,o&&(l<0&&u===0?($1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):l===u&&(m=!0,x=d.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,u+1)),b=()=>{let y;return h?y=p:m?y=x:d.route.Component?y=f.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,f.createElement(xP,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?f.createElement(gP,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}function eg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yP(e){let t=f.useContext(Fi);return He(t,eg(e)),t}function bP(e){let t=f.useContext(uu);return He(t,eg(e)),t}function wP(e){let t=f.useContext(Lr);return He(t,eg(e)),t}function tg(e){let t=wP(e),r=t.matches[t.matches.length-1];return He(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function jP(){return tg("useRouteId")}function NP(){var s;let e=f.useContext(Zp),t=bP("useRouteError"),r=tg("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[r]}function _P(){let{router:e}=yP("useNavigate"),t=tg("useNavigate"),r=f.useRef(!1);return L1(()=>{r.current=!0}),f.useCallback(async(a,i={})=>{Or(r.current,I1),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Gv={};function $1(e,t,r){!t&&!Gv[e]&&(Gv[e]=!0,Or(!1,r))}f.memo(SP);function SP({routes:e,future:t,state:r}){return F1(e,void 0,r,t)}function ya({to:e,replace:t,state:r,relative:s}){He($i(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=f.useContext(sn);Or(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=f.useContext(Lr),{pathname:o}=jt(),l=ge(),c=Jp(e,Qp(i),o,s==="path"),d=JSON.stringify(c);return f.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:s})},[l,d,s,t,r]),null}function rg(e){return hP(e.context)}function re(e){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CP({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:i=!1}){He(!$i(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=f.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=Li(r));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:m="default"}=r,p=f.useMemo(()=>{let x=As(c,o);return x==null?null:{location:{pathname:x,search:d,hash:u,state:h,key:m},navigationType:s}},[o,c,d,u,h,m,s]);return Or(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:f.createElement(sn.Provider,{value:l},f.createElement(Pl.Provider,{children:t,value:p}))}function kP({children:e,location:t}){return mP(tf(e),t)}function tf(e,t=[]){let r=[];return f.Children.forEach(e,(s,a)=>{if(!f.isValidElement(s))return;let i=[...t,a];if(s.type===f.Fragment){r.push.apply(r,tf(s.props.children,i));return}He(s.type===re,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=tf(s.props.children,i)),r.push(o)}),r}var qc="get",Kc="application/x-www-form-urlencoded";function hu(e){return e!=null&&typeof e.tagName=="string"}function TP(e){return hu(e)&&e.tagName.toLowerCase()==="button"}function EP(e){return hu(e)&&e.tagName.toLowerCase()==="form"}function PP(e){return hu(e)&&e.tagName.toLowerCase()==="input"}function AP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RP(e,t){return e.button===0&&(!t||t==="_self")&&!AP(e)}function rf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function DP(e,t){let r=rf(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var xc=null;function MP(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var OP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ch(e){return e!=null&&!OP.has(e)?(Or(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):e}function IP(e,t){let r,s,a,i,o;if(EP(e)){let l=e.getAttribute("action");s=l?As(l,t):null,r=e.getAttribute("method")||qc,a=Ch(e.getAttribute("enctype"))||Kc,i=new FormData(e)}else if(TP(e)||PP(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?As(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||qc,a=Ch(e.getAttribute("formenctype"))||Ch(l.getAttribute("enctype"))||Kc,i=new FormData(l,e),!MP()){let{name:d,type:u,value:h}=e;if(u==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,h)}}else{if(hu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=qc,s=null,a=Kc,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:i,body:o}}function ng(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function LP(e,t){if(e.id in t)return t[e.id];try{let r=await Ps(()=>import(e.module),[]);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FP(e){return e!=null&&typeof e.page=="string"}function $P(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function BP(e,t,r){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await LP(i,r);return o.links?o.links():[]}return[]}));return HP(s.flat(1).filter($P).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function qv(e,t,r,s,a,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?t.filter((c,d)=>{var h;let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function VP(e,t){return UP(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function UP(e){return[...new Set(e)]}function zP(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function HP(e,t){let r=new Set,s=new Set(t);return e.reduce((a,i)=>{if(t&&!FP(i)&&i.as==="script"&&i.href&&s.has(i.href))return a;let l=JSON.stringify(zP(i));return r.has(l)||(r.add(l),a.push({key:l,link:i})),a},[])}function WP(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function GP(){let e=f.useContext(Fi);return ng(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function qP(){let e=f.useContext(uu);return ng(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sg=f.createContext(void 0);sg.displayName="FrameworkContext";function B1(){let e=f.useContext(sg);return ng(e,"You must render this element inside a <HydratedRouter> element"),e}function KP(e,t){let r=f.useContext(sg),[s,a]=f.useState(!1),[i,o]=f.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,m=f.useRef(null);f.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let g=y=>{y.forEach(v=>{o(v.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[e]),f.useEffect(()=>{if(s){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[s]);let p=()=>{a(!0)},x=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,m,{}]:[i,m,{onFocus:lo(l,p),onBlur:lo(c,x),onMouseEnter:lo(d,p),onMouseLeave:lo(u,x),onTouchStart:lo(h,p)}]:[!1,m,{}]}function lo(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function YP({page:e,...t}){let{router:r}=GP(),s=f.useMemo(()=>A1(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?f.createElement(QP,{page:e,matches:s,...t}):null}function XP(e){let{manifest:t,routeModules:r}=B1(),[s,a]=f.useState([]);return f.useEffect(()=>{let i=!1;return BP(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),s}function QP({page:e,matches:t,...r}){let s=jt(),{manifest:a,routeModules:i}=B1(),{loaderData:o,matches:l}=qP(),c=f.useMemo(()=>qv(e,t,l,a,s,"data"),[e,t,l,a,s]),d=f.useMemo(()=>qv(e,t,l,a,s,"assets"),[e,t,l,a,s]),u=f.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let p=new Set,x=!1;if(t.forEach(b=>{var v;let y=a.routes[b.route.id];!y||!y.hasLoader||(!c.some(w=>w.route.id===b.route.id)&&b.route.id in o&&((v=i[b.route.id])!=null&&v.shouldRevalidate)||y.hasClientLoader?x=!0:p.add(b.route.id))}),p.size===0)return[];let g=WP(e);return x&&p.size>0&&g.searchParams.set("_routes",t.filter(b=>p.has(b.route.id)).map(b=>b.route.id).join(",")),[g.pathname+g.search]},[o,s,a,c,t,e,i]),h=f.useMemo(()=>VP(d,a),[d,a]),m=XP(d);return f.createElement(f.Fragment,null,u.map(p=>f.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),h.map(p=>f.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:x})=>f.createElement("link",{key:p,...x})))}function JP(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var V1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V1&&(window.__reactRouterVersion="7.1.1")}catch{}function ZP({basename:e,children:t,window:r}){let s=f.useRef();s.current==null&&(s.current=LE({window:r,v5Compat:!0}));let a=s.current,[i,o]=f.useState({action:a.action,location:a.location}),l=f.useCallback(c=>{f.startTransition(()=>o(c))},[o]);return f.useLayoutEffect(()=>a.listen(l),[a,l]),f.createElement(CP,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var U1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=f.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...m},p){let{basename:x}=f.useContext(sn),g=typeof d=="string"&&U1.test(d),b,y=!1;if(typeof d=="string"&&g&&(b=d,V1))try{let E=new URL(window.location.href),k=d.startsWith("//")?new URL(E.protocol+d):new URL(d),$=As(k.pathname,x);k.origin===E.origin&&$!=null?d=$+k.search+k.hash:y=!0}catch{Or(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=cP(d,{relative:a}),[w,j,S]=KP(s,m),C=r3(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function N(E){t&&t(E),E.defaultPrevented||C(E)}let _=f.createElement("a",{...m,...S,href:b||v,onClick:y||i?t:N,ref:JP(p,j),target:c,"data-discover":!g&&r==="render"?"true":void 0});return w&&!g?f.createElement(f.Fragment,null,_,f.createElement(YP,{page:v})):_});ie.displayName="Link";var nf=f.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let h=Al(o,{relative:d.relative}),m=jt(),p=f.useContext(uu),{navigator:x,basename:g}=f.useContext(sn),b=p!=null&&o3(h)&&l===!0,y=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,v=m.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(v=v.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&g&&(w=As(w,g)||w);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=v===y||!a&&v.startsWith(y)&&v.charAt(j)==="/",C=w!=null&&(w===y||!a&&w.startsWith(y)&&w.charAt(y.length)==="/"),N={isActive:S,isPending:C,isTransitioning:b},_=S?t:void 0,E;typeof s=="function"?E=s(N):E=[s,S?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let k=typeof i=="function"?i(N):i;return f.createElement(ie,{...d,"aria-current":_,className:E,ref:u,style:k,to:o,viewTransition:l},typeof c=="function"?c(N):c)});nf.displayName="NavLink";var e3=f.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:i,method:o=qc,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...m},p)=>{let x=a3(),g=i3(l,{relative:d}),b=o.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&U1.test(l),v=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let j=w.nativeEvent.submitter,S=(j==null?void 0:j.getAttribute("formmethod"))||o;x(j||w.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:h})};return f.createElement("form",{ref:p,method:b,action:g,onSubmit:s?c:v,...m,"data-discover":!y&&e==="render"?"true":void 0})});e3.displayName="Form";function t3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(e){let t=f.useContext(Fi);return He(t,t3(e)),t}function r3(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=ge(),c=jt(),d=Al(e,{relative:i});return f.useCallback(u=>{if(RP(u,t)){u.preventDefault();let h=r!==void 0?r:cl(c)===cl(d);l(e,{replace:h,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,s,t,e,a,i,o])}function H1(e){Or(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=f.useRef(rf(e)),r=f.useRef(!1),s=jt(),a=f.useMemo(()=>DP(s.search,r.current?null:t.current),[s.search]),i=ge(),o=f.useCallback((l,c)=>{const d=rf(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var n3=0,s3=()=>`__${String(++n3)}__`;function a3(){let{router:e}=z1("useSubmit"),{basename:t}=f.useContext(sn),r=jP();return f.useCallback(async(s,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=IP(s,t);if(a.navigate===!1){let u=a.fetcherKey||s3();await e.fetch(u,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function i3(e,{relative:t}={}){let{basename:r}=f.useContext(sn),s=f.useContext(Lr);He(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...Al(e||".",{relative:t})},o=jt();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:On([r,i.pathname])),cl(i)}function o3(e,t={}){let r=f.useContext(O1);He(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=z1("useViewTransitionState"),a=Al(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=As(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=As(r.nextLocation.pathname,s)||r.nextLocation.pathname;return kd(a.pathname,o)!=null||kd(a.pathname,i)!=null}new TextEncoder;var W1={exports:{}},l3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",c3=l3,d3=c3;function G1(){}function q1(){}q1.resetWarningCache=G1;var u3=function(){function e(s,a,i,o,l,c){if(c!==d3){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:q1,resetWarningCache:G1};return r.PropTypes=r,r};W1.exports=u3();var h3=W1.exports;const Be=_a(h3);function m3(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var K1=f,f3=m3(K1);function Kv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var g3=!!(typeof window<"u"&&window.document&&window.document.createElement);function x3(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function s(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(u){return u.props})),d.canUseDOM?t(l):r&&(l=r(l))}var d=function(u){p3(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var x=l;return l=void 0,o=[],x};var m=h.prototype;return m.UNSAFE_componentWillMount=function(){o.push(this),c()},m.componentDidUpdate=function(){c()},m.componentWillUnmount=function(){var x=o.indexOf(this);o.splice(x,1),c()},m.render=function(){return f3.createElement(i,this.props)},h}(K1.PureComponent);return Kv(d,"displayName","SideEffect("+s(i)+")"),Kv(d,"canUseDOM",g3),d}}var v3=x3;const y3=_a(v3);var b3=typeof Element<"u",w3=typeof Map=="function",j3=typeof Set=="function",N3=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!Yc(e[s],t[s]))return!1;return!0}var i;if(w3&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;for(i=e.entries();!(s=i.next()).done;)if(!Yc(s.value[1],t.get(s.value[0])))return!1;return!0}if(j3&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(N3&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(b3&&e instanceof Element)return!1;for(s=r;s--!==0;)if(!((a[s]==="_owner"||a[s]==="__v"||a[s]==="__o")&&e.$$typeof)&&!Yc(e[a[s]],t[a[s]]))return!1;return!0}return e!==e&&t!==t}var _3=function(t,r){try{return Yc(t,r)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const S3=_a(_3);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Yv=Object.getOwnPropertySymbols,C3=Object.prototype.hasOwnProperty,k3=Object.prototype.propertyIsEnumerable;function T3(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function E3(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var s=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(s.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var P3=E3()?Object.assign:function(e,t){for(var r,s=T3(e),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)C3.call(r,o)&&(s[o]=r[o]);if(Yv){a=Yv(r);for(var l=0;l<a.length;l++)k3.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s};const A3=_a(P3);var ua={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ue={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ue).map(function(e){return ue[e]});var Ve={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Td={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},dl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},R3=Object.keys(Td).reduce(function(e,t){return e[Td[t]]=t,e},{}),D3=[ue.NOSCRIPT,ue.SCRIPT,ue.STYLE],Qr="data-react-helmet",M3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O3=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},I3=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},L3=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Xv=function(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r},F3=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},sf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},$3=function(t){var r=fi(t,ue.TITLE),s=fi(t,dl.TITLE_TEMPLATE);if(s&&r)return s.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=fi(t,dl.DEFAULT_TITLE);return r||a||void 0},B3=function(t){return fi(t,dl.ON_CHANGE_CLIENT_STATE)||function(){}},kh=function(t,r){return r.filter(function(s){return typeof s[t]<"u"}).map(function(s){return s[t]}).reduce(function(s,a){return qt({},s,a)},{})},V3=function(t,r){return r.filter(function(s){return typeof s[ue.BASE]<"u"}).map(function(s){return s[ue.BASE]}).reverse().reduce(function(s,a){if(!s.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return s.concat(a)}return s},[])},co=function(t,r,s){var a={};return s.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&W3("Helmet: "+t+' should be of type "Array". Instead found type "'+M3(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(m){for(var p=void 0,x=Object.keys(m),g=0;g<x.length;g++){var b=x[g],y=b.toLowerCase();r.indexOf(y)!==-1&&!(p===Ve.REL&&m[p].toLowerCase()==="canonical")&&!(y===Ve.REL&&m[y].toLowerCase()==="stylesheet")&&(p=y),r.indexOf(b)!==-1&&(b===Ve.INNER_HTML||b===Ve.CSS_TEXT||b===Ve.ITEM_PROP)&&(p=b)}if(!p||!m[p])return!1;var v=m[p].toLowerCase();return a[p]||(a[p]={}),l[p]||(l[p]={}),a[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(function(m){return i.push(m)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=A3({},a[u],l[u]);a[u]=h}return i},[]).reverse()},fi=function(t,r){for(var s=t.length-1;s>=0;s--){var a=t[s];if(a.hasOwnProperty(r))return a[r]}return null},U3=function(t){return{baseTag:V3([Ve.HREF,Ve.TARGET],t),bodyAttributes:kh(ua.BODY,t),defer:fi(t,dl.DEFER),encode:fi(t,dl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:kh(ua.HTML,t),linkTags:co(ue.LINK,[Ve.REL,Ve.HREF],t),metaTags:co(ue.META,[Ve.NAME,Ve.CHARSET,Ve.HTTPEQUIV,Ve.PROPERTY,Ve.ITEM_PROP],t),noscriptTags:co(ue.NOSCRIPT,[Ve.INNER_HTML],t),onChangeClientState:B3(t),scriptTags:co(ue.SCRIPT,[Ve.SRC,Ve.INNER_HTML],t),styleTags:co(ue.STYLE,[Ve.CSS_TEXT],t),title:$3(t),titleAttributes:kh(ua.TITLE,t)}},af=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){af(t)},0)}}(),Qv=function(t){return clearTimeout(t)},z3=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||af:global.requestAnimationFrame||af,H3=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Qv:global.cancelAnimationFrame||Qv,W3=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},uo=null,G3=function(t){uo&&H3(uo),t.defer?uo=z3(function(){Jv(t,function(){uo=null})}):(Jv(t),uo=null)},Jv=function(t,r){var s=t.baseTag,a=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.onChangeClientState,u=t.scriptTags,h=t.styleTags,m=t.title,p=t.titleAttributes;of(ue.BODY,a),of(ue.HTML,i),q3(m,p);var x={baseTag:Oa(ue.BASE,s),linkTags:Oa(ue.LINK,o),metaTags:Oa(ue.META,l),noscriptTags:Oa(ue.NOSCRIPT,c),scriptTags:Oa(ue.SCRIPT,u),styleTags:Oa(ue.STYLE,h)},g={},b={};Object.keys(x).forEach(function(y){var v=x[y],w=v.newTags,j=v.oldTags;w.length&&(g[y]=w),j.length&&(b[y]=x[y].oldTags)}),r&&r(),d(t,g,b)},Y1=function(t){return Array.isArray(t)?t.join(""):t},q3=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=Y1(t)),of(ue.TITLE,r)},of=function(t,r){var s=document.getElementsByTagName(t)[0];if(s){for(var a=s.getAttribute(Qr),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var d=l[c],u=r[d]||"";s.getAttribute(d)!==u&&s.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var m=o.length-1;m>=0;m--)s.removeAttribute(o[m]);i.length===o.length?s.removeAttribute(Qr):s.getAttribute(Qr)!==l.join(",")&&s.setAttribute(Qr,l.join(","))}},Oa=function(t,r){var s=document.head||document.querySelector(ue.HEAD),a=s.querySelectorAll(t+"["+Qr+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var d=document.createElement(t);for(var u in c)if(c.hasOwnProperty(u))if(u===Ve.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===Ve.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(Qr,"true"),i.some(function(m,p){return l=p,d.isEqualNode(m)})?i.splice(l,1):o.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return s.appendChild(c)}),{oldTags:i,newTags:o}},X1=function(t){return Object.keys(t).reduce(function(r,s){var a=typeof t[s]<"u"?s+'="'+t[s]+'"':""+s;return r?r+" "+a:a},"")},K3=function(t,r,s,a){var i=X1(s),o=Y1(r);return i?"<"+t+" "+Qr+'="true" '+i+">"+sf(o,a)+"</"+t+">":"<"+t+" "+Qr+'="true">'+sf(o,a)+"</"+t+">"},Y3=function(t,r,s){return r.reduce(function(a,i){var o=Object.keys(i).filter(function(d){return!(d===Ve.INNER_HTML||d===Ve.CSS_TEXT)}).reduce(function(d,u){var h=typeof i[u]>"u"?u:u+'="'+sf(i[u],s)+'"';return d?d+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=D3.indexOf(t)===-1;return a+"<"+t+" "+Qr+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},Q1=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,a){return s[Td[a]||a]=t[a],s},r)},X3=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,a){return s[R3[a]||a]=t[a],s},r)},Q3=function(t,r,s){var a,i=(a={key:r},a[Qr]=!0,a),o=Q1(s,i);return[X.createElement(ue.TITLE,o,r)]},J3=function(t,r){return r.map(function(s,a){var i,o=(i={key:a},i[Qr]=!0,i);return Object.keys(s).forEach(function(l){var c=Td[l]||l;if(c===Ve.INNER_HTML||c===Ve.CSS_TEXT){var d=s.innerHTML||s.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=s[l]}),X.createElement(t,o)})},Sn=function(t,r,s){switch(t){case ue.TITLE:return{toComponent:function(){return Q3(t,r.title,r.titleAttributes)},toString:function(){return K3(t,r.title,r.titleAttributes,s)}};case ua.BODY:case ua.HTML:return{toComponent:function(){return Q1(r)},toString:function(){return X1(r)}};default:return{toComponent:function(){return J3(t,r)},toString:function(){return Y3(t,r,s)}}}},J1=function(t){var r=t.baseTag,s=t.bodyAttributes,a=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.scriptTags,u=t.styleTags,h=t.title,m=h===void 0?"":h,p=t.titleAttributes;return{base:Sn(ue.BASE,r,a),bodyAttributes:Sn(ua.BODY,s,a),htmlAttributes:Sn(ua.HTML,i,a),link:Sn(ue.LINK,o,a),meta:Sn(ue.META,l,a),noscript:Sn(ue.NOSCRIPT,c,a),script:Sn(ue.SCRIPT,d,a),style:Sn(ue.STYLE,u,a),title:Sn(ue.TITLE,{title:m,titleAttributes:p},a)}},Z3=function(t){var r,s;return s=r=function(a){L3(i,a);function i(){return O3(this,i),F3(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!S3(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case ue.SCRIPT:case ue.NOSCRIPT:return{innerHTML:c};case ue.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,m=l.nestedChildren;return qt({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[qt({},h,this.mapNestedChildrenToProps(d,m))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,m=l.newChildProps,p=l.nestedChildren;switch(u.type){case ue.TITLE:return qt({},h,(c={},c[u.type]=p,c.titleAttributes=qt({},m),c));case ue.BODY:return qt({},h,{bodyAttributes:qt({},m)});case ue.HTML:return qt({},h,{htmlAttributes:qt({},m)})}return qt({},h,(d={},d[u.type]=qt({},m),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=qt({},c);return Object.keys(l).forEach(function(u){var h;d=qt({},d,(h={},h[u]=l[u],h))}),d},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return X.Children.forEach(l,function(h){if(!(!h||!h.props)){var m=h.props,p=m.children,x=Xv(m,["children"]),g=X3(x);switch(d.warnOnInvalidChildren(h,p),h.type){case ue.LINK:case ue.META:case ue.NOSCRIPT:case ue.SCRIPT:case ue.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:g,nestedChildren:p});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:g,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},i.prototype.render=function(){var l=this.props,c=l.children,d=Xv(l,["children"]),u=qt({},d);return c&&(u=this.mapChildrenToProps(c,u)),X.createElement(t,u)},I3(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(X.Component),r.propTypes={base:Be.object,bodyAttributes:Be.object,children:Be.oneOfType([Be.arrayOf(Be.node),Be.node]),defaultTitle:Be.string,defer:Be.bool,encodeSpecialCharacters:Be.bool,htmlAttributes:Be.object,link:Be.arrayOf(Be.object),meta:Be.arrayOf(Be.object),noscript:Be.arrayOf(Be.object),onChangeClientState:Be.func,script:Be.arrayOf(Be.object),style:Be.arrayOf(Be.object),title:Be.string,titleAttributes:Be.object,titleTemplate:Be.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var a=t.rewind();return a||(a=J1({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},s},eA=function(){return null},tA=y3(U3,G3,J1)(eA),vr=Z3(tA);vr.renderStatic=vr.rewind;function Z1(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Z1(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function eN(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Z1(e))&&(s&&(s+=" "),s+=t);return s}const ag="-",rA=e=>{const t=sA(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(ag);return l[0]===""&&l.length!==1&&l.shift(),tN(l,t)||nA(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},tN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?tN(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(ag);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Zv=/^\[(.+)\]$/,nA=e=>{if(Zv.test(e)){const t=Zv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},sA=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return iA(Object.entries(e.classGroups),r).forEach(([i,o])=>{lf(o,s,i,t)}),s},lf=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:ey(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(aA(a)){lf(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{lf(o,ey(t,i),r,s)})})},ey=(e,t)=>{let r=e;return t.split(ag).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},aA=e=>e.isThemeGetter,iA=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,oA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},rN="!",lA=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let b=0;b<l.length;b++){let y=l[b];if(d===0){if(y===a&&(s||l.slice(b,b+i)===t)){c.push(l.slice(u,b)),u=b+i;continue}if(y==="/"){h=b;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(rN),x=p?m.substring(1):m,g=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},cA=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},dA=e=>({cache:oA(e.cacheSize),parseClassName:lA(e),...rA(e)}),uA=/\s+/,hA=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(uA);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let x=!!p,g=s(x?m.substring(0,p):m);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=s(m),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const b=cA(u).join(":"),y=h?b+rN:b,v=y+g;if(i.includes(v))continue;i.push(v);const w=a(g,x);for(let j=0;j<w.length;++j){const S=w[j];i.push(y+S)}l=d+(l.length>0?" "+l:l)}return l};function mA(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=nN(t))&&(s&&(s+=" "),s+=r);return s}const nN=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=nN(e[s]))&&(r&&(r+=" "),r+=t);return r};function fA(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=dA(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=hA(c,r);return a(c,u),u}return function(){return i(mA.apply(null,arguments))}}const Oe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},sN=/^\[(?:([a-z-]+):)?(.+)\]$/i,pA=/^\d+\/\d+$/,gA=new Set(["px","full","screen"]),xA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cn=e=>pi(e)||gA.has(e)||pA.test(e),os=e=>Bi(e,"length",EA),pi=e=>!!e&&!Number.isNaN(Number(e)),Th=e=>Bi(e,"number",pi),ho=e=>!!e&&Number.isInteger(Number(e)),jA=e=>e.endsWith("%")&&pi(e.slice(0,-1)),me=e=>sN.test(e),ls=e=>xA.test(e),NA=new Set(["length","size","percentage"]),_A=e=>Bi(e,NA,aN),SA=e=>Bi(e,"position",aN),CA=new Set(["image","url"]),kA=e=>Bi(e,CA,AA),TA=e=>Bi(e,"",PA),mo=()=>!0,Bi=(e,t,r)=>{const s=sN.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},EA=e=>vA.test(e)&&!yA.test(e),aN=()=>!1,PA=e=>bA.test(e),AA=e=>wA.test(e),RA=()=>{const e=Oe("colors"),t=Oe("spacing"),r=Oe("blur"),s=Oe("brightness"),a=Oe("borderColor"),i=Oe("borderRadius"),o=Oe("borderSpacing"),l=Oe("borderWidth"),c=Oe("contrast"),d=Oe("grayscale"),u=Oe("hueRotate"),h=Oe("invert"),m=Oe("gap"),p=Oe("gradientColorStops"),x=Oe("gradientColorStopPositions"),g=Oe("inset"),b=Oe("margin"),y=Oe("opacity"),v=Oe("padding"),w=Oe("saturate"),j=Oe("scale"),S=Oe("sepia"),C=Oe("skew"),N=Oe("space"),_=Oe("translate"),E=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",me,t],F=()=>[me,t],H=()=>["",Cn,os],B=()=>["auto",pi,me],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",me],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[pi,me];return{cacheSize:500,separator:":",theme:{colors:[mo],spacing:[Cn,os],blur:["none","",ls,me],brightness:Y(),borderColor:[e],borderRadius:["none","","full",ls,me],borderSpacing:F(),borderWidth:H(),contrast:Y(),grayscale:I(),hueRotate:Y(),invert:I(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[jA,os],inset:$(),margin:$(),opacity:Y(),padding:F(),saturate:Y(),scale:Y(),sepia:I(),skew:Y(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[ls]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),me]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ho,me]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",ho,me]}],"grid-cols":[{"grid-cols":[mo]}],"col-start-end":[{col:["auto",{span:["full",ho,me]},me]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[mo]}],"row-start-end":[{row:["auto",{span:[ho,me]},me]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[ls]},ls]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ls,os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Th]}],"font-family":[{font:[mo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",pi,Th]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cn,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cn,os]}],"underline-offset":[{"underline-offset":["auto",Cn,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),SA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_A]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Cn,me]}],"outline-w":[{outline:[Cn,os]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Cn,os]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ls,TA]}],"shadow-color":[{shadow:[mo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ls,me]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ho,me]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cn,os,Th]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DA=fA(RA);function Q(...e){return DA(eN(e))}function Pt(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"GEL",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("GEL","")}function K(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ty(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mu(...e){return t=>{let r=!1;const s=e.map(a=>{const i=ty(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():ty(e[a],null)}}}}function ve(...e){return f.useCallback(mu(...e),e)}function MA(e,t){const r=f.createContext(t),s=i=>{const{children:o,...l}=i,c=f.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=f.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Ut(e,t=[]){let r=[];function s(i,o){const l=f.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:m,children:p,...x}=h,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,b=f.useMemo(()=>x,Object.values(x));return n.jsx(g.Provider,{value:b,children:p})};d.displayName=i+"Provider";function u(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=f.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,OA(a,...t)]}function OA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Rs=f.forwardRef((e,t)=>{const{children:r,...s}=e,a=f.Children.toArray(r),i=a.find(IA);if(i){const o=i.props.children,l=a.map(c=>c===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:c);return n.jsx(cf,{...s,ref:t,children:f.isValidElement(o)?f.cloneElement(o,void 0,l):null})}return n.jsx(cf,{...s,ref:t,children:r})});Rs.displayName="Slot";var cf=f.forwardRef((e,t)=>{const{children:r,...s}=e;if(f.isValidElement(r)){const a=FA(r);return f.cloneElement(r,{...LA(s,r.props),ref:t?mu(t,a):a})}return f.Children.count(r)>1?f.Children.only(null):null});cf.displayName="SlotClone";var iN=({children:e})=>n.jsx(n.Fragment,{children:e});function IA(e){return f.isValidElement(e)&&e.type===iN}function LA(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function FA(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Rl(e){const t=e+"CollectionProvider",[r,s]=Ut(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:g}=p,b=X.useRef(null),y=X.useRef(new Map).current;return n.jsx(a,{scope:x,itemMap:y,collectionRef:b,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=X.forwardRef((p,x)=>{const{scope:g,children:b}=p,y=i(l,g),v=ve(x,y.collectionRef);return n.jsx(Rs,{ref:v,children:b})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",h=X.forwardRef((p,x)=>{const{scope:g,children:b,...y}=p,v=X.useRef(null),w=ve(x,v),j=i(d,g);return X.useEffect(()=>(j.itemMap.set(v,{ref:v,...y}),()=>void j.itemMap.delete(v))),n.jsx(Rs,{[u]:"",ref:w,children:b})});h.displayName=d;function m(p){const x=i(e+"CollectionConsumer",p);return X.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((j,S)=>y.indexOf(j.ref.current)-y.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},m,s]}var $A=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ne=$A.reduce((e,t)=>{const r=f.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?Rs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ig(e,t){e&&ka.flushSync(()=>e.dispatchEvent(t))}function Rt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function BA(e,t=globalThis==null?void 0:globalThis.document){const r=Rt(e);f.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var VA="DismissableLayer",df="dismissableLayer.update",UA="dismissableLayer.pointerDownOutside",zA="dismissableLayer.focusOutside",ry,oN=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vi=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=f.useContext(oN),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),x=ve(t,N=>h(N)),g=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(b),v=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=y,S=WA(N=>{const _=N.target,E=[...d.branches].some(k=>k.contains(_));!j||E||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},m),C=GA(N=>{const _=N.target;[...d.branches].some(k=>k.contains(_))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},m);return BA(N=>{v===d.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ry=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),ny(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ry)}},[u,m,r,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),ny())},[u,d]),f.useEffect(()=>{const N=()=>p({});return document.addEventListener(df,N),()=>document.removeEventListener(df,N)},[]),n.jsx(ne.div,{...c,ref:x,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:K(e.onFocusCapture,C.onFocusCapture),onBlurCapture:K(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:K(e.onPointerDownCapture,S.onPointerDownCapture)})});Vi.displayName=VA;var HA="DismissableLayerBranch",lN=f.forwardRef((e,t)=>{const r=f.useContext(oN),s=f.useRef(null),a=ve(t,s);return f.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(ne.div,{...e,ref:a})});lN.displayName=HA;function WA(e,t=globalThis==null?void 0:globalThis.document){const r=Rt(e),s=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){cN(UA,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function GA(e,t=globalThis==null?void 0:globalThis.document){const r=Rt(e),s=f.useRef(!1);return f.useEffect(()=>{const a=i=>{i.target&&!s.current&&cN(zA,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ny(){const e=new CustomEvent(df);document.dispatchEvent(e)}function cN(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?ig(a,i):a.dispatchEvent(i)}var qA=Vi,KA=lN,yt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},YA="Portal",Dl=f.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=f.useState(!1);yt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?_E.createPortal(n.jsx(ne.div,{...s,ref:t}),o):null});Dl.displayName=YA;function XA(e,t){return f.useReducer((r,s)=>t[r][s]??r,e)}var _r=e=>{const{present:t,children:r}=e,s=QA(t),a=typeof r=="function"?r({present:s.isPresent}):f.Children.only(r),i=ve(s.ref,JA(a));return typeof r=="function"||s.isPresent?f.cloneElement(a,{ref:i}):null};_r.displayName="Presence";function QA(e){const[t,r]=f.useState(),s=f.useRef({}),a=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[l,c]=XA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=vc(s.current);i.current=l==="mounted"?d:"none"},[l]),yt(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,p=vc(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),yt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const g=vc(s.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(i.current=vc(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function vc(e){return(e==null?void 0:e.animationName)||"none"}function JA(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function yr({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=ZA({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Rt(r),c=f.useCallback(d=>{if(i){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else a(d)},[i,e,a,l]);return[o,c]}function ZA({defaultProp:e,onChange:t}){const r=f.useState(e),[s]=r,a=f.useRef(s),i=Rt(t);return f.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var eR="VisuallyHidden",Ml=f.forwardRef((e,t)=>n.jsx(ne.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ml.displayName=eR;var tR=Ml,og="ToastProvider",[lg,rR,nR]=Rl("Toast"),[dN,jW]=Ut("Toast",[nR]),[sR,fu]=dN(og),uN=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${og}\`. Expected non-empty \`string\`.`),n.jsx(lg.Provider,{scope:t,children:n.jsx(sR,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};uN.displayName=og;var hN="ToastViewport",aR=["F8"],uf="toast.viewportPause",hf="toast.viewportResume",mN=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=aR,label:a="Notifications ({hotkey})",...i}=e,o=fu(hN,r),l=rR(r),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=ve(t,h,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;f.useEffect(()=>{const b=y=>{var w;s.length!==0&&s.every(j=>y[j]||y.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[s]),f.useEffect(()=>{const b=c.current,y=h.current;if(x&&b&&y){const v=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(uf);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(hf);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},j=C=>{!b.contains(C.relatedTarget)&&w()},S=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",v),b.addEventListener("focusout",j),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:b})=>{const v=l().map(w=>{const j=w.ref.current,S=[j,...vR(j)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?v.reverse():v).flat()},[l]);return f.useEffect(()=>{const b=h.current;if(b){const y=v=>{var S,C,N;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const _=document.activeElement,E=v.shiftKey;if(v.target===b&&E){(S=d.current)==null||S.focus();return}const F=g({tabbingDirection:E?"backwards":"forwards"}),H=F.findIndex(B=>B===_);Eh(F.slice(H+1))?v.preventDefault():E?(C=d.current)==null||C.focus():(N=u.current)==null||N.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,g]),n.jsxs(KA,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(mf,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});Eh(b)}}),n.jsx(lg.Slot,{scope:r,children:n.jsx(ne.ol,{tabIndex:-1,...i,ref:m})}),x&&n.jsx(mf,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});Eh(b)}})]})});mN.displayName=hN;var fN="ToastFocusProxy",mf=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=fu(fN,r);return n.jsx(Ml,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});mf.displayName=fN;var pu="Toast",iR="toast.swipeStart",oR="toast.swipeMove",lR="toast.swipeCancel",cR="toast.swipeEnd",pN=f.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=yr({prop:s,defaultProp:a,onChange:i});return n.jsx(_r,{present:r||l,children:n.jsx(hR,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Rt(e.onPause),onResume:Rt(e.onResume),onSwipeStart:K(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:K(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:K(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:K(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});pN.displayName=pu;var[dR,uR]=dN(pu,{onClose(){}}),hR=f.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...x}=e,g=fu(pu,r),[b,y]=f.useState(null),v=ve(t,B=>y(B)),w=f.useRef(null),j=f.useRef(null),S=a||g.duration,C=f.useRef(0),N=f.useRef(S),_=f.useRef(0),{onToastAdd:E,onToastRemove:k}=g,$=Rt(()=>{var A;(b==null?void 0:b.contains(document.activeElement))&&((A=g.viewport)==null||A.focus()),o()}),F=f.useCallback(B=>{!B||B===1/0||(window.clearTimeout(_.current),C.current=new Date().getTime(),_.current=window.setTimeout($,B))},[$]);f.useEffect(()=>{const B=g.viewport;if(B){const A=()=>{F(N.current),d==null||d()},M=()=>{const U=new Date().getTime()-C.current;N.current=N.current-U,window.clearTimeout(_.current),c==null||c()};return B.addEventListener(uf,M),B.addEventListener(hf,A),()=>{B.removeEventListener(uf,M),B.removeEventListener(hf,A)}}},[g.viewport,S,c,d,F]),f.useEffect(()=>{i&&!g.isClosePausedRef.current&&F(S)},[i,S,g.isClosePausedRef,F]),f.useEffect(()=>(E(),()=>k()),[E,k]);const H=f.useMemo(()=>b?jN(b):null,[b]);return g.viewport?n.jsxs(n.Fragment,{children:[H&&n.jsx(mR,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),n.jsx(dR,{scope:r,onClose:$,children:ka.createPortal(n.jsx(lg.ItemSlot,{scope:r,children:n.jsx(qA,{asChild:!0,onEscapeKeyDown:K(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||$(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:K(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:K(e.onPointerDown,B=>{B.button===0&&(w.current={x:B.clientX,y:B.clientY})}),onPointerMove:K(e.onPointerMove,B=>{if(!w.current)return;const A=B.clientX-w.current.x,M=B.clientY-w.current.y,U=!!j.current,R=["left","right"].includes(g.swipeDirection),I=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,V=R?I(0,A):0,Y=R?0:I(0,M),oe=B.pointerType==="touch"?10:2,fe={x:V,y:Y},le={originalEvent:B,delta:fe};U?(j.current=fe,yc(oR,h,le,{discrete:!1})):sy(fe,g.swipeDirection,oe)?(j.current=fe,yc(iR,u,le,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(A)>oe||Math.abs(M)>oe)&&(w.current=null)}),onPointerUp:K(e.onPointerUp,B=>{const A=j.current,M=B.target;if(M.hasPointerCapture(B.pointerId)&&M.releasePointerCapture(B.pointerId),j.current=null,w.current=null,A){const U=B.currentTarget,R={originalEvent:B,delta:A};sy(A,g.swipeDirection,g.swipeThreshold)?yc(cR,p,R,{discrete:!0}):yc(lR,m,R,{discrete:!0}),U.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),mR=e=>{const{__scopeToast:t,children:r,...s}=e,a=fu(pu,t),[i,o]=f.useState(!1),[l,c]=f.useState(!1);return gR(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Dl,{asChild:!0,children:n.jsx(Ml,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},fR="ToastTitle",gN=f.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ne.div,{...s,ref:t})});gN.displayName=fR;var pR="ToastDescription",xN=f.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ne.div,{...s,ref:t})});xN.displayName=pR;var vN="ToastAction",yN=f.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(wN,{altText:r,asChild:!0,children:n.jsx(cg,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${vN}\`. Expected non-empty \`string\`.`),null)});yN.displayName=vN;var bN="ToastClose",cg=f.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=uR(bN,r);return n.jsx(wN,{asChild:!0,children:n.jsx(ne.button,{type:"button",...s,ref:t,onClick:K(e.onClick,a.onClose)})})});cg.displayName=bN;var wN=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function jN(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),xR(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...jN(s))}}),t}function yc(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?ig(a,i):a.dispatchEvent(i)}var sy=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function gR(e=()=>{}){const t=Rt(e);yt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function xR(e){return e.nodeType===e.ELEMENT_NODE}function vR(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Eh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var yR=uN,NN=mN,_N=pN,SN=gN,CN=xN,kN=yN,TN=cg;const ay=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,iy=eN,gu=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return iy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const m=ay(u)||ay(h);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(x=>{let[g,b]=x;return Array.isArray(b)?b.includes({...i,...l}[g]):{...i,...l}[g]===b})?[...d,h,m]:d},[]);return iy(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EN=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...wR,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:EN("lucide",a),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=(e,t)=>{const r=f.forwardRef(({className:s,...a},i)=>f.createElement(jR,{ref:i,iconNode:t,className:EN(`lucide-${bR(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=z("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=z("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=z("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=z("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=z("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=z("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=z("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=z("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=z("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=z("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=z("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=z("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=z("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=z("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=z("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=z("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=z("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=z("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=z("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=z("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=z("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=z("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=z("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=z("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=z("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=z("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=z("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=z("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=z("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=z("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=z("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=z("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=z("SearchX",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=z("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=z("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=z("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=z("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=z("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=z("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=z("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=z("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=z("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=z("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=z("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),e6=yR,HN=X.forwardRef(({className:e,...t},r)=>n.jsx(NN,{ref:r,className:Q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));HN.displayName=NN.displayName;const t6=gu("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),WN=X.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(_N,{ref:s,className:Q(t6({variant:t}),e),...r}));WN.displayName=_N.displayName;const r6=X.forwardRef(({className:e,...t},r)=>n.jsx(kN,{ref:r,className:Q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));r6.displayName=kN.displayName;const GN=X.forwardRef(({className:e,...t},r)=>n.jsx(TN,{ref:r,className:Q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Dt,{className:"h-4 w-4"})}));GN.displayName=TN.displayName;const qN=X.forwardRef(({className:e,...t},r)=>n.jsx(SN,{ref:r,className:Q("text-sm font-semibold",e),...t}));qN.displayName=SN.displayName;const KN=X.forwardRef(({className:e,...t},r)=>n.jsx(CN,{ref:r,className:Q("text-sm opacity-90",e),...t}));KN.displayName=CN.displayName;const n6=1;let Ph=0;function s6(){return Ph=(Ph+1)%Number.MAX_VALUE,Ph.toString()}const Mt={state:{toasts:[]},listeners:[],getState:()=>Mt.state,setState:e=>{typeof e=="function"?Mt.state=e(Mt.state):Mt.state={...Mt.state,...e},Mt.listeners.forEach(t=>t(Mt.state))},subscribe:e=>(Mt.listeners.push(e),()=>{Mt.listeners=Mt.listeners.filter(t=>t!==e)})},a6=({...e})=>{const t=s6(),r=a=>Mt.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===t?{...o,...a}:o)})),s=()=>Mt.setState(a=>({...a,toasts:a.toasts.filter(i=>i.id!==t)}));return Mt.setState(a=>({...a,toasts:[{...e,id:t,dismiss:s},...a.toasts].slice(0,n6)})),{id:t,dismiss:s,update:r}};function ae(){const[e,t]=f.useState(Mt.getState());return f.useEffect(()=>Mt.subscribe(s=>{t(s)}),[]),f.useEffect(()=>{const r=[];return e.toasts.forEach(s=>{if(s.duration===1/0)return;const a=setTimeout(()=>{s.dismiss()},s.duration||5e3);r.push(a)}),()=>{r.forEach(s=>clearTimeout(s))}},[e.toasts]),{toast:a6,toasts:e.toasts}}function i6(){const{toasts:e}=ae();return n.jsxs(e6,{children:[e.map(({id:t,title:r,description:s,action:a,...i})=>n.jsxs(WN,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(qN,{children:r}),s&&n.jsx(KN,{children:s})]}),a,n.jsx(GN,{})]},t)),n.jsx(HN,{})]})}const o6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ps(()=>Promise.resolve().then(()=>Ul),void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class vg extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class l6 extends vg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class c6 extends vg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class d6 extends vg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pf||(pf={}));var u6=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class h6{constructor(t,{headers:r={},customFetch:s,region:a=pf.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=o6(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return u6(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(x=>{throw new l6(x)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new c6(u);if(!u.ok)throw new d6(u);let m=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield u.json():m==="application/octet-stream"?p=yield u.blob():m==="text/event-stream"?p=u:m==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Yt={},yg={},wu={},Vl={},ju={},Nu={},m6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ki=m6();const f6=ki.fetch,p6=ki.fetch.bind(ki),g6=ki.Headers,x6=ki.Request,v6=ki.Response,Ul=Object.freeze(Object.defineProperty({__proto__:null,Headers:g6,Request:x6,Response:v6,default:p6,fetch:f6},Symbol.toStringTag,{value:"Module"})),y6=Qk(Ul);var _u={};Object.defineProperty(_u,"__esModule",{value:!0});let b6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_u.default=b6;var YN=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nu,"__esModule",{value:!0});const w6=YN(y6),j6=YN(_u);let N6=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=w6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{d=JSON.parse(g),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,p="OK")}catch{i.status===404&&g===""?(m=204,p="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,p="OK"),d&&this.shouldThrowOnError)throw new j6.default(d)}return{error:d,data:u,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}};Nu.default=N6;var _6=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ju,"__esModule",{value:!0});const S6=_6(Nu);let C6=class extends S6.default{select(t){let r=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:s,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:s,referencedTable:a=s}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:s=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,s?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ju.default=C6;var k6=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vl,"__esModule",{value:!0});const T6=k6(ju);let E6=class extends T6.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:s,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(t,r,s){return this.url.searchParams.append(t,`not.${r}.${s}`),this}or(t,{foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,s){return this.url.searchParams.append(t,`${r}.${s}`),this}};Vl.default=E6;var P6=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wu,"__esModule",{value:!0});const fo=P6(Vl);let A6=class{constructor(t,{headers:r={},schema:s,fetch:a}){this.url=t,this.headers=r,this.schema=s,this.fetch=a}select(t,{head:r=!1,count:s}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new fo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:s=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new fo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:s=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new fo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new fo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new fo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wu.default=A6;var Su={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.version=void 0;Cu.version="0.0.0-automated";Object.defineProperty(Su,"__esModule",{value:!0});Su.DEFAULT_HEADERS=void 0;const R6=Cu;Su.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${R6.version}`};var XN=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yg,"__esModule",{value:!0});const D6=XN(wu),M6=XN(Vl),O6=Su;let I6=class QN{constructor(t,{headers:r={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},O6.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new D6.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new QN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||a?(o=s?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new M6.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};yg.default=I6;var Hi=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.PostgrestError=Yt.PostgrestBuilder=Yt.PostgrestTransformBuilder=Yt.PostgrestFilterBuilder=Yt.PostgrestQueryBuilder=Yt.PostgrestClient=void 0;const JN=Hi(yg);Yt.PostgrestClient=JN.default;const ZN=Hi(wu);Yt.PostgrestQueryBuilder=ZN.default;const e_=Hi(Vl);Yt.PostgrestFilterBuilder=e_.default;const t_=Hi(ju);Yt.PostgrestTransformBuilder=t_.default;const r_=Hi(Nu);Yt.PostgrestBuilder=r_.default;const n_=Hi(_u);Yt.PostgrestError=n_.default;var L6=Yt.default={PostgrestClient:JN.default,PostgrestQueryBuilder:ZN.default,PostgrestFilterBuilder:e_.default,PostgrestTransformBuilder:t_.default,PostgrestBuilder:r_.default,PostgrestError:n_.default};const{PostgrestClient:F6,PostgrestQueryBuilder:TW,PostgrestFilterBuilder:EW,PostgrestTransformBuilder:PW,PostgrestBuilder:AW,PostgrestError:RW}=L6,$6="2.11.3",B6={"X-Client-Info":`realtime-js/${$6}`},V6="1.0.0",s_=1e4,U6=1e3;var gi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(gi||(gi={}));var lr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lr||(lr={}));var Yr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yr||(Yr={}));var gf;(function(e){e.websocket="websocket"})(gf||(gf={}));var ra;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ra||(ra={}));class z6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+a));o=o+a;const c=s.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class a_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Re||(Re={}));const ly=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=H6(o,e,t,a),i),{})},H6=(e,t,r,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!s.includes(i)?i_(i,o):xf(o)},i_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return K6(t,r)}switch(e){case Re.bool:return W6(t);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return G6(t);case Re.json:case Re.jsonb:return q6(t);case Re.timestamp:return Y6(t);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return xf(t);default:return xf(t)}},xf=e=>e,W6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},G6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},q6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},K6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>i_(t,l))}return e},Y6=e=>typeof e=="string"?e.replace(" ","T"):e,o_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ah{constructor(t,r,s={},a=s_){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cy||(cy={}));class Bo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bo.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Bo.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bo.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),x=u.filter(b=>p.indexOf(b.presence_ref)<0),g=h.filter(b=>m.indexOf(b.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(p=>p.presence_ref),m=u.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}s(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dy||(dy={}));var uy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uy||(uy={}));var Pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class bg{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ah(this,Yr.join,this.params,this.timeout),this.rejoinTimer=new a_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Bo(this),this.broadcastEndpointURL=o_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Pn.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Pn.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(Pn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,x=[];for(let g=0;g<p;g++){const b=m[g],{filter:{event:y,schema:v,table:w,filter:j}}=b,S=u&&u[g];if(S&&S.event===y&&S.schema===v&&S.table===w&&S.filter===j)x.push(Object.assign(Object.assign({},b),{id:S.id}));else{this.unsubscribe(),t==null||t(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Pn.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this._on(t,r,s)}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const a=new Ah(this,Yr.leave,{},t);a.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ah(this,t,r,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Yr;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,r,s);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var x,g,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(m,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,g,b,y,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,S=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:b,commit_timestamp:y,type:v,errors:w}=x;m=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(x))}p.callback(m,s)})}_isClosed(){return this.state===lr.closed}_isJoined(){return this.state===lr.joined}_isJoining(){return this.state===lr.joining}_isLeaving(){return this.state===lr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&bg.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yr.close,{},t)}_onError(t){this._on(Yr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ly(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ly(t.columns,t.old_record)),r}}const X6=()=>{},Q6=typeof WebSocket<"u",J6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Z6{constructor(t,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=B6,this.params={},this.timeout=s_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=X6,this.conn=null,this.sendBuffer=[],this.serializer=new z6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Ps(()=>Promise.resolve().then(()=>Ul),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${gf.websocket}`,this.httpEndpoint=o_(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new a_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}if(Q6){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new eD(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ps(()=>import("./browser-630a5909.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:V6}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case gi.connecting:return ra.Connecting;case gi.open:return ra.Open;case gi.closing:return ra.Closing;default:return ra.Closed}}isConnected(){return this.connectionState()===ra.Open}channel(t,r={config:{}}){const s=new bg(`realtime:${t}`,r,this);return this.channels.push(s),s}push(t){const{topic:r,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let s=null;try{s=JSON.parse(atob(r.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Yr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(U6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:s,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(s)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([J6],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class eD{constructor(t,r,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=gi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class wg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tD extends wg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vf extends wg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var rD=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const l_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ps(()=>Promise.resolve().then(()=>Ul),void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},nD=()=>rD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ps(()=>Promise.resolve().then(()=>Ul),void 0)).Response:Response}),yf=e=>{if(Array.isArray(e))return e.map(r=>yf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=yf(s)}),t};var Pa=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const Rh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sD=(e,t,r)=>Pa(void 0,void 0,void 0,function*(){const s=yield nD();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new tD(Rh(a),e.status||500))}).catch(a=>{t(new vf(Rh(a),a))}):t(new vf(Rh(e),e))}),aD=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),r))};function zl(e,t,r,s,a,i){return Pa(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,aD(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>sD(c,l,s))})})}function Ed(e,t,r,s){return Pa(this,void 0,void 0,function*(){return zl(e,"GET",t,r,s)})}function ps(e,t,r,s,a){return Pa(this,void 0,void 0,function*(){return zl(e,"POST",t,s,a,r)})}function iD(e,t,r,s,a){return Pa(this,void 0,void 0,function*(){return zl(e,"PUT",t,s,a,r)})}function oD(e,t,r,s){return Pa(this,void 0,void 0,function*(){return zl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function c_(e,t,r,s,a){return Pa(this,void 0,void 0,function*(){return zl(e,"DELETE",t,s,a,r)})}var Wt=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const lD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cD{constructor(t,r={},s,a){this.url=t,this.headers=r,this.bucketId=s,this.fetch=l_(a)}uploadOrUpdate(t,r,s,a){return Wt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},hy),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}upload(t,r,s){return Wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,a){return Wt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:hy.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Wt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ps(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new wg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}update(t,r,s){return Wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return Wt(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}copy(t,r,s){return Wt(this,void 0,void 0,function*(){try{return{data:{path:(yield ps(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,s){return Wt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ps(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,s){return Wt(this,void 0,void 0,function*(){try{const a=yield ps(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}download(t,r){return Wt(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ed(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(lt(l))return{data:null,error:l};throw l}})}info(t){return Wt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield Ed(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yf(s),error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}exists(t){return Wt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield oD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(lt(s)&&s instanceof vf){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return Wt(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}list(t,r,s){return Wt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},lD),r),{prefix:t||""});return{data:yield ps(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const dD="2.7.1",uD={"X-Client-Info":`storage-js/${dD}`};var Ia=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class hD{constructor(t,r={},s){this.url=t,this.headers=Object.assign(Object.assign({},uD),r),this.fetch=l_(s)}listBuckets(){return Ia(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ia(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ia(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Ia(this,void 0,void 0,function*(){try{return{data:yield iD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ia(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ia(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}}class mD extends hD{constructor(t,r={},s){super(t,r,s)}from(t){return new cD(this.url,this.headers,t,this.fetch)}}const fD="2.30.0",pD={"X-Client-Info":`supabase-js/${fD}`};var bf={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Et<"u"&&Et,s=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var l=typeof i<"u"&&i||typeof self<"u"&&self||typeof Et<"u"&&Et||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(A){return A&&DataView.prototype.isPrototypeOf(A)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(A){return A&&u.indexOf(Object.prototype.toString.call(A))>-1};function m(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function p(A){return typeof A!="string"&&(A=String(A)),A}function x(A){var M={next:function(){var U=A.shift();return{done:U===void 0,value:U}}};return c.iterable&&(M[Symbol.iterator]=function(){return M}),M}function g(A){this.map={},A instanceof g?A.forEach(function(M,U){this.append(U,M)},this):Array.isArray(A)?A.forEach(function(M){if(M.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+M.length);this.append(M[0],M[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(M){this.append(M,A[M])},this)}g.prototype.append=function(A,M){A=m(A),M=p(M);var U=this.map[A];this.map[A]=U?U+", "+M:M},g.prototype.delete=function(A){delete this.map[m(A)]},g.prototype.get=function(A){return A=m(A),this.has(A)?this.map[A]:null},g.prototype.has=function(A){return this.map.hasOwnProperty(m(A))},g.prototype.set=function(A,M){this.map[m(A)]=p(M)},g.prototype.forEach=function(A,M){for(var U in this.map)this.map.hasOwnProperty(U)&&A.call(M,this.map[U],U,this)},g.prototype.keys=function(){var A=[];return this.forEach(function(M,U){A.push(U)}),x(A)},g.prototype.values=function(){var A=[];return this.forEach(function(M){A.push(M)}),x(A)},g.prototype.entries=function(){var A=[];return this.forEach(function(M,U){A.push([U,M])}),x(A)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function b(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function y(A){return new Promise(function(M,U){A.onload=function(){M(A.result)},A.onerror=function(){U(A.error)}})}function v(A){var M=new FileReader,U=y(M);return M.readAsArrayBuffer(A),U}function w(A){var M=new FileReader,U=y(M),R=/charset=([A-Za-z0-9_-]+)/.exec(A.type),I=R?R[1]:"utf-8";return M.readAsText(A,I),U}function j(A){for(var M=new Uint8Array(A),U=new Array(M.length),R=0;R<M.length;R++)U[R]=String.fromCharCode(M[R]);return U.join("")}function S(A){if(A.slice)return A.slice(0);var M=new Uint8Array(A.byteLength);return M.set(new Uint8Array(A)),M.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:c.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:c.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():c.arrayBuffer&&c.blob&&d(A)?(this._bodyArrayBuffer=S(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||h(A))?this._bodyArrayBuffer=S(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var A=b(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=b(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=b(this);if(A)return A;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(A){var M=A.toUpperCase();return N.indexOf(M)>-1?M:A}function E(A,M){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');M=M||{};var U=M.body;if(A instanceof E){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,M.headers||(this.headers=new g(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!U&&A._bodyInit!=null&&(U=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=M.credentials||this.credentials||"same-origin",(M.headers||!this.headers)&&(this.headers=new g(M.headers)),this.method=_(M.method||this.method||"GET"),this.mode=M.mode||this.mode||null,this.signal=M.signal||this.signal||function(){if("AbortController"in l){var V=new AbortController;return V.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(U),(this.method==="GET"||this.method==="HEAD")&&(M.cache==="no-store"||M.cache==="no-cache")){var R=/([?&])_=[^&]*/;if(R.test(this.url))this.url=this.url.replace(R,"$1_="+new Date().getTime());else{var I=/\?/;this.url+=(I.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})};function k(A){var M=new FormData;return A.trim().split("&").forEach(function(U){if(U){var R=U.split("="),I=R.shift().replace(/\+/g," "),V=R.join("=").replace(/\+/g," ");M.append(decodeURIComponent(I),decodeURIComponent(V))}}),M}function $(A){var M=new g,U=A.replace(/\r?\n[\t ]+/g," ");return U.split("\r").map(function(R){return R.indexOf(`
`)===0?R.substr(1,R.length):R}).forEach(function(R){var I=R.split(":"),V=I.shift().trim();if(V){var Y=I.join(":").trim();try{M.append(V,Y)}catch(oe){console.warn("Response "+oe.message)}}}),M}C.call(E.prototype);function F(A,M){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(M||(M={}),this.type="default",this.status=M.status===void 0?200:M.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=M.statusText===void 0?"":""+M.statusText,this.headers=new g(M.headers),this.url=M.url||"",this._initBody(A)}C.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},F.error=function(){var A=new F(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var H=[301,302,303,307,308];F.redirect=function(A,M){if(H.indexOf(M)===-1)throw new RangeError("Invalid status code");return new F(null,{status:M,headers:{location:A}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(M,U){this.message=M,this.name=U;var R=Error(M);this.stack=R.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function B(A,M){return new Promise(function(U,R){var I=new E(A,M);if(I.signal&&I.signal.aborted)return R(new o.DOMException("Aborted","AbortError"));var V=new XMLHttpRequest;function Y(){V.abort()}V.onload=function(){var le={statusText:V.statusText,headers:$(V.getAllResponseHeaders()||"")};I.url.indexOf("file://")===0&&(V.status<200||V.status>599)?le.status=200:le.status=V.status,le.url="responseURL"in V?V.responseURL:le.headers.get("X-Request-URL");var Fe="response"in V?V.response:V.responseText;setTimeout(function(){U(new F(Fe,le))},0)},V.onerror=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},V.ontimeout=function(){setTimeout(function(){R(new TypeError("Network request timed out"))},0)},V.onabort=function(){setTimeout(function(){R(new o.DOMException("Aborted","AbortError"))},0)};function oe(le){try{return le===""&&l.location.href?l.location.href:le}catch{return le}}if(V.open(I.method,oe(I.url),!0),I.credentials==="include"?V.withCredentials=!0:I.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&(c.blob?V.responseType="blob":c.arrayBuffer&&(V.responseType="arraybuffer")),M&&typeof M.headers=="object"&&!(M.headers instanceof g||l.Headers&&M.headers instanceof l.Headers)){var fe=[];Object.getOwnPropertyNames(M.headers).forEach(function(le){fe.push(m(le)),V.setRequestHeader(le,p(M.headers[le]))}),I.headers.forEach(function(le,Fe){fe.indexOf(Fe)===-1&&V.setRequestHeader(Fe,le)})}else I.headers.forEach(function(le,Fe){V.setRequestHeader(Fe,le)});I.signal&&(I.signal.addEventListener("abort",Y),V.onreadystatechange=function(){V.readyState===4&&I.signal.removeEventListener("abort",Y)}),V.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return B.polyfill=!0,l.fetch||(l.fetch=B,l.Headers=g,l.Request=E,l.Response=F),o.Headers=g,o.Request=E,o.Response=F,o.fetch=B,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var a=r.fetch?r:s;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(bf,bf.exports);var jg=bf.exports;const d_=_a(jg),gD=vw({__proto__:null,default:d_},[jg]);var xD=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const vD=e=>{let t;return e?t=e:typeof fetch>"u"?t=d_:t=fetch,(...r)=>t(...r)},yD=()=>typeof Headers>"u"?jg.Headers:Headers,bD=(e,t,r)=>{const s=vD(r),a=yD();return(i,o)=>xD(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};function wD(e){return e.replace(/\/$/,"")}function jD(e,t){const{db:r,auth:s,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:d}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},d),i)}}function ND(e){return Math.round(Date.now()/1e3)+e}function _D(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Tn=()=>typeof document<"u",Ks={tested:!1,writable:!1},Xc=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function Gt(e,t){var r;t||(t=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const s=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),a=s.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const u_=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...r)=>await(await Ps(()=>Promise.resolve().then(()=>gD),void 0)).fetch(...r):t=fetch,(...r)=>t(...r)},SD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",po=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},bc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dh=async(e,t)=>{await e.removeItem(t)};function CD(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",s,a,i,o,l,c,d,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),d=t.indexOf(e.charAt(u++)),s=o<<2|l>>4,a=(l&15)<<4|c>>2,i=(c&3)<<6|d,r=r+String.fromCharCode(s),c!=64&&a!=0&&(r=r+String.fromCharCode(a)),d!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class ku{constructor(){this.promise=new ku.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ku.promiseConstructor=Promise;function my(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=r[1];return JSON.parse(CD(s))}function kD(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function TD(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function ED(e){return("0"+e.toString(16)).substr(-2)}function wc(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,ED).join("")}async function PD(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function AD(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jc(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await PD(e);return AD(t)}const RD="__stack_guard__",DD="__",MD=/__stack_guard__([a-zA-Z0-9_-]+)__/;let fy=!1,Ng;function wf(e){var t,r;Ng();let s;try{throw new Error}catch(i){s=i}const a=(r=(t=s.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&r!==void 0?r:[];for(let i=0;i<a.length;i+=1){const l=a[i].match(MD);if(l&&l[1]===e)return!0}return!1}async function jf(e,t){await Ng();const r=`${RD}${e}${DD}`;return await{[r]:async()=>await t()}[r]()}Ng=async()=>{fy||(fy=!0,await jf("ENV_CHECK",async()=>{const e=wf("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class _g extends Error{constructor(t,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class OD extends _g{constructor(t,r){super(t,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function ID(e){return be(e)&&e.name==="AuthApiError"}class h_ extends _g{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Wi extends _g{constructor(t,r,s){super(t),this.name=r,this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class La extends Wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Mh extends Wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Nc extends Wi{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class kn extends Wi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Oh extends Wi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nf extends Wi{constructor(t,r){super(t,"AuthRetryableFetchError",r)}}function py(e){return be(e)&&e.name==="AuthRetryableFetchError"}var LD=globalThis&&globalThis.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};const _o=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FD=[502,503,504];async function gy(e){if(!SD(e))throw new Nf(_o(e),0);if(FD.includes(e.status))throw new Nf(_o(e),e.status);let t;try{t=await e.json()}catch(r){throw new h_(_o(r),r)}throw new OD(_o(t),e.status||500)}const $D=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function ke(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await BD(e,t,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function BD(e,t,r,s,a,i){const o=$D(t,s,a,i);let l;try{l=await e(r,o)}catch(c){throw console.error(c),new Nf(_o(c),0)}if(l.ok||await gy(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await gy(c)}}function cs(e){var t;let r=null;HD(e)&&(r=Object.assign({},e),r.expires_at=ND(e.expires_in));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function na(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function VD(e){return{data:e,error:null}}function UD(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,o=LD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function zD(e){return e}function HD(e){return e.access_token&&e.refresh_token&&e.expires_in}var WD=globalThis&&globalThis.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};class GD{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=u_(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:na})}catch(s){if(be(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=WD(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:UD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:na})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:zD});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);d[`${b}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(be(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:na})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:na})}catch(s){if(be(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:na})}catch(s){if(be(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:r,error:s}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}}const qD="2.43.1",KD="http://localhost:9999",YD="supabase.auth.token",XD={"X-Client-Info":`gotrue-js/${qD}`},xy=10,vy={getItem:e=>Xc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Xc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Xc()&&globalThis.localStorage.removeItem(e)}};function QD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}QD();const JD={url:KD,storageKey:YD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XD,flowType:"implicit",debug:!1},_c=30*1e3,yy=3;class ml{constructor(t){var r;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=ml.nextInstanceID,ml.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},JD),t);if(this.logDebugMessages=s.debug,this.inMemorySession=null,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.persistSession=s.persistSession,this.storage=s.storage||vy,this.admin=new GD({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=u_(s.fetch),this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===vy&&!Xc()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=jf("_initialize",async()=>{try{const t=Tn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:s}=await this._getSessionFromUrl(t);if(s)return this._debug("#_initialize()","error detecting session from URL",s),await this._removeSession(),{error:s};const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return be(t)?{error:t}:{error:new h_("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var r,s,a;try{await this._removeSession();let i;if("email"in t){const{email:u,password:h,options:m}=t;let p=null,x=null;if(this.flowType==="pkce"){const g=wc();await po(this.storage,`${this.storageKey}-code-verifier`,g),p=await jc(g),x=g===p?"plain":"s256"}i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:cs})}else if("phone"in t){const{phone:u,password:h,options:m}=t;i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:cs})}else throw new Nc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{await this._removeSession();let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cs})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cs})}else throw new Nc("You must provide either an email or phone number and a password");const{data:s,error:a}=r;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Mh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:{user:s.user,session:s.session},error:a})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){const r=await bc(this.storage,`${this.storageKey}-code-verifier`),{data:s,error:a}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:cs});return await Dh(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Mh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:a})}async signInWithIdToken(t){await this._removeSession();try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:cs}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Mh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,a,i,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let d=null,u=null;if(this.flowType==="pkce"){const m=wc();await po(this.storage,`${this.storageKey}-code-verifier`,m),d=await jc(m),u=m===d?"plain":"s256"}const{error:h}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Nc("You must provide either an email or phone number.")}catch(l){if(be(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,s;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:a,error:i}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(r=t.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,xform:cs});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,s,a;try{return await this._removeSession(),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:VD})}catch(i){if(be(i))return{data:null,error:i};throw i}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new La;const{error:a}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Nc("You must provide either an email or phone number and a type")}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await jf("_useSession",async()=>{const r=await this.__loadSession();return await t(r)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!wf("_useSession"))throw new Error("Please use #_useSession()");wf("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const i=await bc(this.storage,this.storageKey);this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async r=>{var s,a;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0}return await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:na})})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new La;const o=a.session,{data:l,error:c}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:t,jwt:o.access_token,xform:na});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(be(s))return{data:{user:null},error:s};throw s}}_decodeJWT(t){return my(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new La;const r=Date.now()/1e3;let s=r,a=!0,i=null;const o=my(t.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new La;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromUrl(t){try{if(!Tn())throw new kn("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new kn("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Oh("Not a valid PKCE flow url.");if(t){const b=Gt("code");if(!b)throw new Oh("No code detected.");const{data:y,error:v}=await this.exchangeCodeForSession(b);if(v)throw v;if(!y.session)throw new Oh("No session detected.");let w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const r=Gt("error_description");if(r){const b=Gt("error_code");if(!b)throw new kn("No error_code detected.");const y=Gt("error");throw y?new kn(r,{error:y,code:b}):new kn("No error detected.")}const s=Gt("provider_token"),a=Gt("provider_refresh_token"),i=Gt("access_token");if(!i)throw new kn("No access_token detected.");const o=Gt("expires_in");if(!o)throw new kn("No expires_in detected.");const l=Gt("refresh_token");if(!l)throw new kn("No refresh_token detected.");const c=Gt("token_type");if(!c)throw new kn("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(o),{data:h,error:m}=await this.getUser(i);if(m)throw m;const p=h.user,x={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:parseInt(o),expires_at:u,refresh_token:l,token_type:c,user:p},g=Gt("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:x,redirectType:g},error:null}}catch(r){if(be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){return Tn()&&(!!Gt("access_token")||!!Gt("error_description"))}async _isPKCEFlow(){const t=await bc(this.storage,`${this.storageKey}-code-verifier`);return!!Gt("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ID(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Dh(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const r=_D(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),this._emitInitialSession(r),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;if(this.flowType==="pkce"){const i=wc();await po(this.storage,`${this.storageKey}-code-verifier`,i),s=await jc(i),a=i===s?"plain":"s256"}try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(be(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await TD(async a=>(await kD(a*200),this._debug(r,"refreshing attempt",a),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cs})),(a,i,o)=>o&&o.error&&py(o.error)&&Date.now()+(a+1)*200-s<_c)}catch(s){if(this._debug(r,"error",s),be(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),Tn()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await bc(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((t=s.expires_at)!==null&&t!==void 0?t:1/0)<a+xy;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${xy}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),py(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new La;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ku;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new La;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),be(i)){const o={session:null,error:i};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),po(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await Dh(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_c);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/_c);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${_c}ms, refresh threshold is ${yy} ticks`),a<=yy&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const a=wc();await po(this.storage,`${this.storageKey}-code-verifier`,a);const i=await jc(a),o=a===i?"plain":"s256";this._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",i,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return`${this.url}/authorize?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:l,error:c}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _verify(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _challenge(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(t==null?void 0:t.factors)||[],a=s.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:s,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var r,s;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}})}}ml.nextInstanceID=0;class ZD extends ml{constructor(t){super(t)}}var eM=globalThis&&globalThis.__awaiter||function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const tM={headers:pD},rM={schema:"public"},nM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sM={};class aM{constructor(t,r,s){var a,i,o,l,c,d,u,h;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const m=wD(t);this.realtimeUrl=`${m}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${m}/auth/v1`,this.storageUrl=`${m}/storage/v1`,this.functionsUrl=`${m}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,x={db:rM,realtime:sM,auth:Object.assign(Object.assign({},nM),{storageKey:p}),global:tM},g=jD(s??{},x);this.storageKey=(i=(a=g.auth)===null||a===void 0?void 0:a.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=(o=g.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(d=g.global)===null||d===void 0?void 0:d.fetch),this.fetch=bD(r,this._getAccessToken.bind(this),(u=g.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new F6(`${m}/rest/v1`,{headers:this.headers,schema:(h=g.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new h6(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mD(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,r={},s){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return eM(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,storageKey:i,flowType:o,debug:l},c,d){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZD({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,flowType:o,debug:l,fetch:d})}_initRealtimeClient(t){return new Z6(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iM=(e,t,r)=>new aM(e,t,r),oM="https://whxtvtbhrrmqfnclqvxw.supabase.co",lM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndoeHR2dGJocnJtcWZuY2xxdnh3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3MTU5MTcsImV4cCI6MjA4MzI5MTkxN30.ULNulds6TUoBvRZLN7CTWteRSBw7fY6y9jn6uBP3SOs",O=iM(oM,lM),m_=f.createContext(void 0),cM=({children:e})=>{const{toast:t}=ae(),[r,s]=f.useState(null),[a,i]=f.useState(null),[o,l]=f.useState(!0),c=f.useCallback(async b=>{i(b),s((b==null?void 0:b.user)??null),l(!1)},[]);f.useEffect(()=>{(async()=>{try{const{data:{session:v},error:w}=await O.auth.getSession();if(w)throw w;c(v)}catch(v){console.error("Error getting session:",v),l(!1)}})();const{data:{subscription:y}}=O.auth.onAuthStateChange(async(v,w)=>{c(w)});return()=>y.unsubscribe()},[c]);const d=f.useCallback(async(b,y,v)=>{const{data:w,error:j}=await O.auth.signUp({email:b,password:y,options:v});return j&&t({variant:"destructive",title:"Sign up Failed",description:j.message||"Something went wrong"}),{data:w,error:j}},[t]),u=f.useCallback(async(b,y)=>{const{data:v,error:w}=await O.auth.signInWithPassword({email:b,password:y});return w&&console.error("Login error:",w.message),{data:v,error:w}},[]),h=f.useCallback(async()=>{const{error:b}=await O.auth.signOut();return b&&t({variant:"destructive",title:"Sign out Failed",description:b.message||"Something went wrong"}),s(null),i(null),{error:b}},[t]),m=f.useCallback(()=>{var y;const b=(y=r==null?void 0:r.user_metadata)==null?void 0:y.role;return b==="admin"||b==="super_admin"},[r]),p=f.useCallback(()=>{var b;return((b=r==null?void 0:r.user_metadata)==null?void 0:b.role)==="super_admin"},[r]),x=f.useMemo(()=>{var y;const b=(y=r==null?void 0:r.user_metadata)==null?void 0:y.role;return b==="admin"||b==="super_admin"},[r]),g=f.useMemo(()=>({user:r,session:a,loading:o,signUp:d,signIn:u,signOut:h,checkAdminRole:m,isSuperAdmin:p,isAdmin:x}),[r,a,o,d,u,h,m,p,x]);return n.jsx(m_.Provider,{value:g,children:e})},Ke=()=>{const e=f.useContext(m_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},f_=f.createContext(),by={ka:{home:"",tours:"",transfers:"",contact:"",driverPanel:" ",adminPanel:" ",signOut:"",signIn:"",heroTitle:"   ",heroSubtitle:" ,  ",startLocation:"",endLocation:"",addStop:" ",date:"",time:"",searchCars:" ",noFees:"  ",freeCancel:" ",englishDrivers:" ",unlimitedStops:" ",verifiedDrivers:" ",support247:"24/7 ",noFeesDesc:"    .",freeCancelDesc:"    24  .",englishDriversDesc:"   .",verifiedDriversDesc:"     .",support247Desc:"      .",howItWorks:" ?",step1:" ",step2:"  ",step3:" ",step4:"  ",step5:" ",step6:" ",popularDestinations:" ",bookNow:"",readMore:"",benefitsTitle:" ",benefit1:"  ",benefit2:"  ",benefit3:"  ",benefit4:"   ",followUs:" ",planTrip:"  ",readyToExplore:"   ?",firstName:"",phone:"",email:". ",comment:"",availableCars:" ",seats:""},en:{home:"Home",tours:"Tours",transfers:"Transfers",contact:"Contact",driverPanel:"Driver Panel",adminPanel:"Admin Panel",signOut:"Sign Out",signIn:"Sign In",heroTitle:"Transfers and tours around Georgia",heroSubtitle:"From private drivers at the best prices",startLocation:"Pick-up",endLocation:"Drop-off",addStop:"Add stop",date:"Date",time:"Time",searchCars:"Find car",noFees:"No hidden fees",freeCancel:"Free cancellation",englishDrivers:"English-speaking drivers",unlimitedStops:"Unlimited stops",verifiedDrivers:"Verified Drivers",support247:"24/7 Support",noFeesDesc:"Transparent pricing with no hidden charges or surprises.",freeCancelDesc:"Flexible bookings with free cancellation up to 24 hours.",englishDriversDesc:"Communication is easy with our English-speaking drivers.",verifiedDriversDesc:"Every driver is vetted for safety and professionalism.",support247Desc:"We are here to help you anytime, anywhere in Georgia.",howItWorks:"How it works?",step1:"Choose your route",step2:"We calculate distance",step3:"Choose your driver",step4:"Leave contact info",step5:"Driver confirms",step6:"Enjoy your ride",popularDestinations:"Popular Destinations",bookNow:"Book now",readMore:"Read more",benefitsTitle:"Our Benefits",benefit1:"Accurate price upfront",benefit2:"Reliable verified drivers",benefit3:"Free waiting time",benefit4:"Stops without extra fees",followUs:"Follow us on Instagram",planTrip:"Plan your trip",readyToExplore:"Ready to explore Georgia?",firstName:"First Name",phone:"Phone",email:"Email",comment:"Comment",availableCars:"Available Cars",seats:"Seats"},ru:{home:"",tours:"",transfers:"",contact:"",driverPanel:" ",adminPanel:" ",signOut:"",signIn:"",heroTitle:"    ",heroSubtitle:"     ",startLocation:"",endLocation:"",addStop:" ",date:"",time:"",searchCars:" ",noFees:"  ",freeCancel:" ",englishDrivers:" ",unlimitedStops:" ",verifiedDrivers:" ",support247:" 24/7",noFeesDesc:"    .",freeCancelDesc:"      24 .",englishDriversDesc:"     .",verifiedDriversDesc:"      .",support247Desc:"        .",howItWorks:"  ?",step1:" ",step2:"  ",step3:" ",step4:" ",step5:" ",step6:" ",popularDestinations:" ",bookNow:"",readMore:"",benefitsTitle:" ",benefit1:"  ",benefit2:" ",benefit3:" ",benefit4:"  ",followUs:"  Instagram",planTrip:" ",readyToExplore:"  ?",firstName:"",phone:"",email:"Email",comment:"",availableCars:" ",seats:""}},dM=({children:e})=>{const[t,r]=f.useState(()=>{try{return localStorage.getItem("georgiantrip-lang")||"en"}catch{return"en"}}),s=f.useCallback(i=>{var o,l;return((o=by[t])==null?void 0:o[i])||((l=by.en)==null?void 0:l[i])||i},[t]),a=f.useCallback(i=>{r(i);try{localStorage.setItem("georgiantrip-lang",i)}catch{}},[]);return n.jsx(f_.Provider,{value:{currentLanguage:t,changeLanguage:a,t:s},children:e})},zs=()=>{const e=f.useContext(f_);if(!e)throw new Error("useLanguage must be used within LanguageProvider");return e};class uM extends X.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught:",t,r)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center space-y-4",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:n.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-500",children:"An error occurred while loading the page. Please try again."}),n.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.href="/"},className:"inline-flex items-center justify-center px-6 py-3 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors",children:"Go to Home Page"})]})}):this.props.children}}const hM=()=>{const{pathname:e}=jt();return f.useLayoutEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e]),null},mM=gu("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=X.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?Rs:"button";return n.jsx(o,{className:Q(mM({variant:t,size:r,className:e})),ref:i,...a})});P.displayName="Button";var fM=f.createContext(void 0);function Gi(e){const t=f.useContext(fM);return e||t||"ltr"}var Ih=0;function Sg(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wy()),document.body.insertAdjacentElement("beforeend",e[1]??wy()),Ih++,()=>{Ih===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ih--}},[])}function wy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lh="focusScope.autoFocusOnMount",Fh="focusScope.autoFocusOnUnmount",jy={bubbles:!1,cancelable:!0},pM="FocusScope",Tu=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=f.useState(null),d=Rt(a),u=Rt(i),h=f.useRef(null),m=ve(t,g=>c(g)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(s){let g=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:us(h.current,{select:!0})},b=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||us(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&us(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),v.disconnect()}}},[s,l,p.paused]),f.useEffect(()=>{if(l){_y.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Lh,jy);l.addEventListener(Lh,d),l.dispatchEvent(y),y.defaultPrevented||(gM(wM(p_(l)),{select:!0}),document.activeElement===g&&us(l))}return()=>{l.removeEventListener(Lh,d),setTimeout(()=>{const y=new CustomEvent(Fh,jy);l.addEventListener(Fh,u),l.dispatchEvent(y),y.defaultPrevented||us(g??document.body,{select:!0}),l.removeEventListener(Fh,u),_y.remove(p)},0)}}},[l,d,u,p]);const x=f.useCallback(g=>{if(!r&&!s||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(b&&y){const v=g.currentTarget,[w,j]=xM(v);w&&j?!g.shiftKey&&y===j?(g.preventDefault(),r&&us(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&us(j,{select:!0})):y===v&&g.preventDefault()}},[r,s,p.paused]);return n.jsx(ne.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Tu.displayName=pM;function gM(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(us(s,{select:t}),document.activeElement!==r)return}function xM(e){const t=p_(e),r=Ny(t,e),s=Ny(t.reverse(),e);return[r,s]}function p_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ny(e,t){for(const r of e)if(!vM(r,{upTo:t}))return r}function vM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function yM(e){return e instanceof HTMLInputElement&&"select"in e}function us(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&yM(e)&&t&&e.select()}}var _y=bM();function bM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Sy(e,t),e.unshift(t)},remove(t){var r;e=Sy(e,t),(r=e[0])==null||r.resume()}}}function Sy(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function wM(e){return e.filter(t=>t.tagName!=="A")}var jM=mT["useId".toString()]||(()=>{}),NM=0;function fr(e){const[t,r]=f.useState(jM());return yt(()=>{e||r(s=>s??String(NM++))},[e]),e||(t?`radix-${t}`:"")}const _M=["top","right","bottom","left"],Ms=Math.min,dr=Math.max,Pd=Math.round,Sc=Math.floor,xn=e=>({x:e,y:e}),SM={left:"right",right:"left",bottom:"top",top:"bottom"},CM={start:"end",end:"start"};function _f(e,t,r){return dr(e,Ms(t,r))}function Kn(e,t){return typeof e=="function"?e(t):e}function Yn(e){return e.split("-")[0]}function qi(e){return e.split("-")[1]}function Cg(e){return e==="x"?"y":"x"}function kg(e){return e==="y"?"height":"width"}function Os(e){return["top","bottom"].includes(Yn(e))?"y":"x"}function Tg(e){return Cg(Os(e))}function kM(e,t,r){r===void 0&&(r=!1);const s=qi(e),a=Tg(e),i=kg(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ad(o)),[o,Ad(o)]}function TM(e){const t=Ad(e);return[Sf(e),t,Sf(t)]}function Sf(e){return e.replace(/start|end/g,t=>CM[t])}function EM(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function PM(e,t,r,s){const a=qi(e);let i=EM(Yn(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Sf)))),i}function Ad(e){return e.replace(/left|right|bottom|top/g,t=>SM[t])}function AM(e){return{top:0,right:0,bottom:0,left:0,...e}}function g_(e){return typeof e!="number"?AM(e):{top:e,right:e,bottom:e,left:e}}function Rd(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function Cy(e,t,r){let{reference:s,floating:a}=e;const i=Os(t),o=Tg(t),l=kg(o),c=Yn(t),d=i==="y",u=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:s.y-a.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:h};break;case"left":p={x:s.x-a.width,y:h};break;default:p={x:s.x,y:s.y}}switch(qi(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const RM=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=Cy(d,s,c),m=s,p={},x=0;for(let g=0;g<l.length;g++){const{name:b,fn:y}=l[g],{x:v,y:w,data:j,reset:S}=await y({x:u,y:h,initialPlacement:s,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,h=w??h,p={...p,[b]:{...p[b],...j}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:u,y:h}=Cy(d,m,c)),g=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:p}};async function fl(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=Kn(t,e),x=g_(p),b=l[m?h==="floating"?"reference":"floating":h],y=Rd(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=h==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Rd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(y.top-S.top+x.top)/j.y,bottom:(S.bottom-y.bottom+x.bottom)/j.y,left:(y.left-S.left+x.left)/j.x,right:(S.right-y.right+x.right)/j.x}}const DM=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Kn(e,t)||{};if(d==null)return{};const h=g_(u),m={x:r,y:s},p=Tg(a),x=kg(p),g=await o.getDimensions(d),b=p==="y",y=b?"top":"left",v=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=i.reference[x]+i.reference[p]-m[p]-i.floating[x],S=m[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=C?C[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(C)))&&(N=l.floating[w]||i.floating[x]);const _=j/2-S/2,E=N/2-g[x]/2-1,k=Ms(h[y],E),$=Ms(h[v],E),F=k,H=N-g[x]-$,B=N/2-g[x]/2+_,A=_f(F,B,H),M=!c.arrow&&qi(a)!=null&&B!==A&&i.reference[x]/2-(B<F?k:$)-g[x]/2<0,U=M?B<F?B-F:B-H:0;return{[p]:m[p]+U,data:{[p]:A,centerOffset:B-A-U,...M&&{alignmentOffset:U}},reset:M}}}),MM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...b}=Kn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Yn(a),v=Os(l),w=Yn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=m||(w||!g?[Ad(l)]:TM(l)),C=x!=="none";!m&&C&&S.push(...PM(l,g,x,j));const N=[l,...S],_=await fl(t,b),E=[];let k=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&E.push(_[y]),h){const B=kM(a,o,j);E.push(_[B[0]],_[B[1]])}if(k=[...k,{placement:a,overflows:E}],!E.every(B=>B<=0)){var $,F;const B=((($=i.flip)==null?void 0:$.index)||0)+1,A=N[B];if(A)return{data:{index:B,overflows:k},reset:{placement:A}};let M=(F=k.filter(U=>U.overflows[0]<=0).sort((U,R)=>U.overflows[1]-R.overflows[1])[0])==null?void 0:F.placement;if(!M)switch(p){case"bestFit":{var H;const U=(H=k.filter(R=>{if(C){const I=Os(R.placement);return I===v||I==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(I=>I>0).reduce((I,V)=>I+V,0)]).sort((R,I)=>R[1]-I[1])[0])==null?void 0:H[0];U&&(M=U);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function ky(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ty(e){return _M.some(t=>e[t]>=0)}const OM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Kn(e,t);switch(s){case"referenceHidden":{const i=await fl(t,{...a,elementContext:"reference"}),o=ky(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ty(o)}}}case"escaped":{const i=await fl(t,{...a,altBoundary:!0}),o=ky(i,r.floating);return{data:{escapedOffsets:o,escaped:Ty(o)}}}default:return{}}}}};async function IM(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Yn(r),l=qi(r),c=Os(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,h=Kn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const LM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await IM(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},FM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:y,y:v}=b;return{x:y,y:v}}},...c}=Kn(e,t),d={x:r,y:s},u=await fl(t,c),h=Os(Yn(a)),m=Cg(h);let p=d[m],x=d[h];if(i){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=p+u[b],w=p-u[y];p=_f(v,p,w)}if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=x+u[b],w=x-u[y];x=_f(v,x,w)}const g=l.fn({...t,[m]:p,[h]:x});return{...g,data:{x:g.x-r,y:g.y-s,enabled:{[m]:i,[h]:o}}}}}},$M=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Kn(e,t),u={x:r,y:s},h=Os(a),m=Cg(h);let p=u[m],x=u[h];const g=Kn(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=m==="y"?"height":"width",j=i.reference[m]-i.floating[w]+b.mainAxis,S=i.reference[m]+i.reference[w]-b.mainAxis;p<j?p=j:p>S&&(p=S)}if(d){var y,v;const w=m==="y"?"width":"height",j=["top","left"].includes(Yn(a)),S=i.reference[h]-i.floating[w]+(j&&((y=o.offset)==null?void 0:y[h])||0)+(j?0:b.crossAxis),C=i.reference[h]+i.reference[w]+(j?0:((v=o.offset)==null?void 0:v[h])||0)-(j?b.crossAxis:0);x<S?x=S:x>C&&(x=C)}return{[m]:p,[h]:x}}}},BM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Kn(e,t),u=await fl(t,d),h=Yn(a),m=qi(a),p=Os(a)==="y",{width:x,height:g}=i.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,b=m==="end"?"top":"bottom");const v=g-u.top-u.bottom,w=x-u.left-u.right,j=Ms(g-u[b],v),S=Ms(x-u[y],w),C=!t.middlewareData.shift;let N=j,_=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(_=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(N=v),C&&!m){const k=dr(u.left,0),$=dr(u.right,0),F=dr(u.top,0),H=dr(u.bottom,0);p?_=x-2*(k!==0||$!==0?k+$:dr(u.left,u.right)):N=g-2*(F!==0||H!==0?F+H:dr(u.top,u.bottom))}await c({...t,availableWidth:_,availableHeight:N});const E=await o.getDimensions(l.floating);return x!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function Eu(){return typeof window<"u"}function Ki(e){return x_(e)?(e.nodeName||"").toLowerCase():"#document"}function pr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _n(e){var t;return(t=(x_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function x_(e){return Eu()?e instanceof Node||e instanceof pr(e).Node:!1}function rn(e){return Eu()?e instanceof Element||e instanceof pr(e).Element:!1}function wn(e){return Eu()?e instanceof HTMLElement||e instanceof pr(e).HTMLElement:!1}function Ey(e){return!Eu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pr(e).ShadowRoot}function Hl(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=nn(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function VM(e){return["table","td","th"].includes(Ki(e))}function Pu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Eg(e){const t=Pg(),r=rn(e)?nn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function UM(e){let t=Is(e);for(;wn(t)&&!Ti(t);){if(Eg(t))return t;if(Pu(t))return null;t=Is(t)}return null}function Pg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ti(e){return["html","body","#document"].includes(Ki(e))}function nn(e){return pr(e).getComputedStyle(e)}function Au(e){return rn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Is(e){if(Ki(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ey(e)&&e.host||_n(e);return Ey(t)?t.host:t}function v_(e){const t=Is(e);return Ti(t)?e.ownerDocument?e.ownerDocument.body:e.body:wn(t)&&Hl(t)?t:v_(t)}function pl(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=v_(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=pr(a);if(i){const l=Cf(o);return t.concat(o,o.visualViewport||[],Hl(a)?a:[],l&&r?pl(l):[])}return t.concat(a,pl(a,[],r))}function Cf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function y_(e){const t=nn(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=wn(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Pd(r)!==i||Pd(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Ag(e){return rn(e)?e:e.contextElement}function xi(e){const t=Ag(e);if(!wn(t))return xn(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=y_(t);let o=(i?Pd(r.width):r.width)/s,l=(i?Pd(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zM=xn(0);function b_(e){const t=pr(e);return!Pg()||!t.visualViewport?zM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function HM(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==pr(e)?!1:t}function wa(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Ag(e);let o=xn(1);t&&(s?rn(s)&&(o=xi(s)):o=xi(e));const l=HM(i,r,s)?b_(i):xn(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const m=pr(i),p=s&&rn(s)?pr(s):s;let x=m,g=Cf(x);for(;g&&s&&p!==x;){const b=xi(g),y=g.getBoundingClientRect(),v=nn(g),w=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,j=y.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,d*=b.y,u*=b.x,h*=b.y,c+=w,d+=j,x=pr(g),g=Cf(x)}}return Rd({width:u,height:h,x:c,y:d})}function Rg(e,t){const r=Au(e).scrollLeft;return t?t.left+r:wa(_n(e)).left+r}function w_(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:Rg(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function WM(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=_n(s),l=t?Pu(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=xn(1);const u=xn(0),h=wn(s);if((h||!h&&!i)&&((Ki(s)!=="body"||Hl(o))&&(c=Au(s)),wn(s))){const p=wa(s);d=xi(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const m=o&&!h&&!i?w_(o,c,!0):xn(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function GM(e){return Array.from(e.getClientRects())}function qM(e){const t=_n(e),r=Au(e),s=e.ownerDocument.body,a=dr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=dr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+Rg(e);const l=-r.scrollTop;return nn(s).direction==="rtl"&&(o+=dr(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function KM(e,t){const r=pr(e),s=_n(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Pg();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function YM(e,t){const r=wa(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=wn(e)?xi(e):xn(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Py(e,t,r){let s;if(t==="viewport")s=KM(e,r);else if(t==="document")s=qM(_n(e));else if(rn(t))s=YM(t,r);else{const a=b_(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Rd(s)}function j_(e,t){const r=Is(e);return r===t||!rn(r)||Ti(r)?!1:nn(r).position==="fixed"||j_(r,t)}function XM(e,t){const r=t.get(e);if(r)return r;let s=pl(e,[],!1).filter(l=>rn(l)&&Ki(l)!=="body"),a=null;const i=nn(e).position==="fixed";let o=i?Is(e):e;for(;rn(o)&&!Ti(o);){const l=nn(o),c=Eg(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Hl(o)&&!c&&j_(e,o))?s=s.filter(u=>u!==o):a=l,o=Is(o)}return t.set(e,s),s}function QM(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?Pu(t)?[]:XM(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const h=Py(t,u,a);return d.top=dr(h.top,d.top),d.right=Ms(h.right,d.right),d.bottom=Ms(h.bottom,d.bottom),d.left=dr(h.left,d.left),d},Py(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JM(e){const{width:t,height:r}=y_(e);return{width:t,height:r}}function ZM(e,t,r){const s=wn(t),a=_n(t),i=r==="fixed",o=wa(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=xn(0);if(s||!s&&!i)if((Ki(t)!=="body"||Hl(a))&&(l=Au(t)),s){const m=wa(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=Rg(a));const d=a&&!s&&!i?w_(a,l):xn(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function $h(e){return nn(e).position==="static"}function Ay(e,t){if(!wn(e)||nn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return _n(e)===r&&(r=r.ownerDocument.body),r}function N_(e,t){const r=pr(e);if(Pu(e))return r;if(!wn(e)){let a=Is(e);for(;a&&!Ti(a);){if(rn(a)&&!$h(a))return a;a=Is(a)}return r}let s=Ay(e,t);for(;s&&VM(s)&&$h(s);)s=Ay(s,t);return s&&Ti(s)&&$h(s)&&!Eg(s)?r:s||UM(e)||r}const eO=async function(e){const t=this.getOffsetParent||N_,r=this.getDimensions,s=await r(e.floating);return{reference:ZM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function tO(e){return nn(e).direction==="rtl"}const rO={convertOffsetParentRelativeRectToViewportRelativeRect:WM,getDocumentElement:_n,getClippingRect:QM,getOffsetParent:N_,getElementRects:eO,getClientRects:GM,getDimensions:JM,getScale:xi,isElement:rn,isRTL:tO};function nO(e,t){let r=null,s;const a=_n(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:h,height:m}=e.getBoundingClientRect();if(l||t(),!h||!m)return;const p=Sc(u),x=Sc(a.clientWidth-(d+h)),g=Sc(a.clientHeight-(u+m)),b=Sc(d),v={rootMargin:-p+"px "+-x+"px "+-g+"px "+-b+"px",threshold:dr(0,Ms(1,c))||1};let w=!0;function j(S){const C=S[0].intersectionRatio;if(C!==c){if(!w)return o();C?o(!1,C):s=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(j,{...v,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,v)}r.observe(e)}return o(!0),i}function sO(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Ag(e),u=a||i?[...d?pl(d):[],...pl(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?nO(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let x,g=c?wa(e):null;c&&b();function b(){const y=wa(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,x=requestAnimationFrame(b)}return r(),()=>{var y;u.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const aO=LM,iO=FM,oO=MM,lO=BM,cO=OM,Ry=DM,dO=$M,uO=(e,t,r)=>{const s=new Map,a={platform:rO,...r},i={...a.platform,_c:s};return RM(e,t,{...a,platform:i})};var Qc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Dd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Dd(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Dd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function __(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dy(e,t){const r=__(e);return Math.round(t*r)/r}function Bh(e){const t=f.useRef(e);return Qc(()=>{t.current=e}),t}function hO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(s);Dd(m,s)||p(s);const[x,g]=f.useState(null),[b,y]=f.useState(null),v=f.useCallback(R=>{R!==C.current&&(C.current=R,g(R))},[]),w=f.useCallback(R=>{R!==N.current&&(N.current=R,y(R))},[]),j=i||x,S=o||b,C=f.useRef(null),N=f.useRef(null),_=f.useRef(u),E=c!=null,k=Bh(c),$=Bh(a),F=Bh(d),H=f.useCallback(()=>{if(!C.current||!N.current)return;const R={placement:t,strategy:r,middleware:m};$.current&&(R.platform=$.current),uO(C.current,N.current,R).then(I=>{const V={...I,isPositioned:F.current!==!1};B.current&&!Dd(_.current,V)&&(_.current=V,ka.flushSync(()=>{h(V)}))})},[m,t,r,$,F]);Qc(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[d]);const B=f.useRef(!1);Qc(()=>(B.current=!0,()=>{B.current=!1}),[]),Qc(()=>{if(j&&(C.current=j),S&&(N.current=S),j&&S){if(k.current)return k.current(j,S,H);H()}},[j,S,H,k,E]);const A=f.useMemo(()=>({reference:C,floating:N,setReference:v,setFloating:w}),[v,w]),M=f.useMemo(()=>({reference:j,floating:S}),[j,S]),U=f.useMemo(()=>{const R={position:r,left:0,top:0};if(!M.floating)return R;const I=Dy(M.floating,u.x),V=Dy(M.floating,u.y);return l?{...R,transform:"translate("+I+"px, "+V+"px)",...__(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:V}},[r,l,M.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:H,refs:A,elements:M,floatingStyles:U}),[u,H,A,M,U])}const mO=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?Ry({element:s.current,padding:a}).fn(r):{}:s?Ry({element:s,padding:a}).fn(r):{}}}},fO=(e,t)=>({...aO(e),options:[e,t]}),pO=(e,t)=>({...iO(e),options:[e,t]}),gO=(e,t)=>({...dO(e),options:[e,t]}),xO=(e,t)=>({...oO(e),options:[e,t]}),vO=(e,t)=>({...lO(e),options:[e,t]}),yO=(e,t)=>({...cO(e),options:[e,t]}),bO=(e,t)=>({...mO(e),options:[e,t]});var wO="Arrow",S_=f.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(ne.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});S_.displayName=wO;var jO=S_;function Dg(e){const[t,r]=f.useState(void 0);return yt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Mg="Popper",[C_,Yi]=Ut(Mg),[NO,k_]=C_(Mg),T_=e=>{const{__scopePopper:t,children:r}=e,[s,a]=f.useState(null);return n.jsx(NO,{scope:t,anchor:s,onAnchorChange:a,children:r})};T_.displayName=Mg;var E_="PopperAnchor",P_=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=k_(E_,r),o=f.useRef(null),l=ve(t,o);return f.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(ne.div,{...a,ref:l})});P_.displayName=E_;var Og="PopperContent",[_O,SO]=C_(Og),A_=f.forwardRef((e,t)=>{var te,_e,Te,je,Se,Ce;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,b=k_(Og,r),[y,v]=f.useState(null),w=ve(t,Nt=>v(Nt)),[j,S]=f.useState(null),C=Dg(j),N=(C==null?void 0:C.width)??0,_=(C==null?void 0:C.height)??0,E=s+(i!=="center"?"-"+i:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},$=Array.isArray(d)?d:[d],F=$.length>0,H={padding:k,boundary:$.filter(kO),altBoundary:F},{refs:B,floatingStyles:A,placement:M,isPositioned:U,middlewareData:R}=hO({strategy:"fixed",placement:E,whileElementsMounted:(...Nt)=>sO(...Nt,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[fO({mainAxis:a+_,alignmentAxis:o}),c&&pO({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?gO():void 0,...H}),c&&xO({...H}),vO({...H,apply:({elements:Nt,rects:or,availableWidth:ns,availableHeight:ss})=>{const{width:as,height:Zl}=or.reference,qs=Nt.floating.style;qs.setProperty("--radix-popper-available-width",`${ns}px`),qs.setProperty("--radix-popper-available-height",`${ss}px`),qs.setProperty("--radix-popper-anchor-width",`${as}px`),qs.setProperty("--radix-popper-anchor-height",`${Zl}px`)}}),j&&bO({element:j,padding:l}),TO({arrowWidth:N,arrowHeight:_}),m&&yO({strategy:"referenceHidden",...H})]}),[I,V]=M_(M),Y=Rt(x);yt(()=>{U&&(Y==null||Y())},[U,Y]);const oe=(te=R.arrow)==null?void 0:te.x,fe=(_e=R.arrow)==null?void 0:_e.y,le=((Te=R.arrow)==null?void 0:Te.centerOffset)!==0,[Fe,$e]=f.useState();return yt(()=>{y&&$e(window.getComputedStyle(y).zIndex)},[y]),n.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:U?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(je=R.transformOrigin)==null?void 0:je.x,(Se=R.transformOrigin)==null?void 0:Se.y].join(" "),...((Ce=R.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(_O,{scope:r,placedSide:I,onArrowChange:S,arrowX:oe,arrowY:fe,shouldHideArrow:le,children:n.jsx(ne.div,{"data-side":I,"data-align":V,...g,ref:w,style:{...g.style,animation:U?void 0:"none"}})})})});A_.displayName=Og;var R_="PopperArrow",CO={top:"bottom",right:"left",bottom:"top",left:"right"},D_=f.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=SO(R_,s),o=CO[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(jO,{...a,ref:r,style:{...a.style,display:"block"}})})});D_.displayName=R_;function kO(e){return e!==null}var TO=e=>({name:"transformOrigin",options:e,fn(t){var b,y,v;const{placement:r,rects:s,middlewareData:a}=t,o=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=M_(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?h:`${m}px`,g=`${-c}px`):d==="top"?(x=o?h:`${m}px`,g=`${s.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?h:`${p}px`):d==="left"&&(x=`${s.floating.width+c}px`,g=o?h:`${p}px`),{data:{x,y:g}}}});function M_(e){const[t,r="center"]=e.split("-");return[t,r]}var Ig=T_,Lg=P_,Fg=A_,$g=D_,Vh="rovingFocusGroup.onEntryFocus",EO={bubbles:!1,cancelable:!0},Ru="RovingFocusGroup",[kf,O_,PO]=Rl(Ru),[AO,Xi]=Ut(Ru,[PO]),[RO,DO]=AO(Ru),I_=f.forwardRef((e,t)=>n.jsx(kf.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(kf.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(MO,{...e,ref:t})})}));I_.displayName=Ru;var MO=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=f.useRef(null),p=ve(t,m),x=Gi(i),[g=null,b]=yr({prop:o,defaultProp:l,onChange:c}),[y,v]=f.useState(!1),w=Rt(d),j=O_(r),S=f.useRef(!1),[C,N]=f.useState(0);return f.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(Vh,w),()=>_.removeEventListener(Vh,w)},[w]),n.jsx(RO,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:g,onItemFocus:f.useCallback(_=>b(_),[b]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(_=>_+1),[]),onFocusableItemRemove:f.useCallback(()=>N(_=>_-1),[]),children:n.jsx(ne.div,{tabIndex:y||C===0?-1:0,"data-orientation":s,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:K(e.onMouseDown,()=>{S.current=!0}),onFocus:K(e.onFocus,_=>{const E=!S.current;if(_.target===_.currentTarget&&E&&!y){const k=new CustomEvent(Vh,EO);if(_.currentTarget.dispatchEvent(k),!k.defaultPrevented){const $=j().filter(M=>M.focusable),F=$.find(M=>M.active),H=$.find(M=>M.id===g),A=[F,H,...$].filter(Boolean).map(M=>M.ref.current);$_(A,u)}}S.current=!1}),onBlur:K(e.onBlur,()=>v(!1))})})}),L_="RovingFocusGroupItem",F_=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=fr(),c=i||l,d=DO(L_,r),u=d.currentTabStopId===c,h=O_(r),{onFocusableItemAdd:m,onFocusableItemRemove:p}=d;return f.useEffect(()=>{if(s)return m(),()=>p()},[s,m,p]),n.jsx(kf.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(ne.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:K(e.onMouseDown,x=>{s?d.onItemFocus(c):x.preventDefault()}),onFocus:K(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:K(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=LO(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=h().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const v=y.indexOf(x.currentTarget);y=d.loop?FO(y,v+1):y.slice(v+1)}setTimeout(()=>$_(y))}})})})});F_.displayName=L_;var OO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function LO(e,t,r){const s=IO(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return OO[s]}function $_(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function FO(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var Bg=I_,Vg=F_,$O=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fa=new WeakMap,Cc=new WeakMap,kc={},Uh=0,B_=function(e){return e&&(e.host||B_(e.parentNode))},BO=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=B_(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},VO=function(e,t,r,s){var a=BO(t,Array.isArray(e)?e:[e]);kc[r]||(kc[r]=new WeakMap);var i=kc[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(s),x=p!==null&&p!=="false",g=(Fa.get(m)||0)+1,b=(i.get(m)||0)+1;Fa.set(m,g),i.set(m,b),o.push(m),g===1&&x&&Cc.set(m,!0),b===1&&m.setAttribute(r,"true"),x||m.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return u(t),l.clear(),Uh++,function(){o.forEach(function(h){var m=Fa.get(h)-1,p=i.get(h)-1;Fa.set(h,m),i.set(h,p),m||(Cc.has(h)||h.removeAttribute(s),Cc.delete(h)),p||h.removeAttribute(r)}),Uh--,Uh||(Fa=new WeakMap,Fa=new WeakMap,Cc=new WeakMap,kc={})}},Ug=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t||$O(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),VO(s,a,r,"aria-hidden")):function(){return null}},fn=function(){return fn=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fn.apply(this,arguments)};function V_(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function UO(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Jc="right-scroll-bar-position",Zc="width-before-scroll-bar",zO="with-scroll-bars-hidden",HO="--removed-body-scroll-bar-size";function zh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function WO(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var GO=typeof window<"u"?f.useLayoutEffect:f.useEffect,My=new WeakMap;function qO(e,t){var r=WO(t||null,function(s){return e.forEach(function(a){return zh(a,s)})});return GO(function(){var s=My.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||zh(l,null)}),i.forEach(function(l){a.has(l)||zh(l,o)})}My.set(r,e)},[e]),r}function KO(e){return e}function YO(e,t){t===void 0&&(t=KO);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function XO(e){e===void 0&&(e={});var t=YO(null);return t.options=fn({async:!0,ssr:!1},e),t}var U_=function(e){var t=e.sideCar,r=V_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return f.createElement(s,fn({},r))};U_.isSideCarExport=!0;function QO(e,t){return e.useMedium(t),U_}var z_=XO(),Hh=function(){},Du=f.forwardRef(function(e,t){var r=f.useRef(null),s=f.useState({onScrollCapture:Hh,onWheelCapture:Hh,onTouchMoveCapture:Hh}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,p=e.noIsolation,x=e.inert,g=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,v=e.gapMode,w=V_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,S=qO([r,t]),C=fn(fn({},w),a);return f.createElement(f.Fragment,null,u&&f.createElement(j,{sideCar:z_,removeScrollBar:d,shards:h,noIsolation:p,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:v}),o?f.cloneElement(f.Children.only(l),fn(fn({},C),{ref:S})):f.createElement(y,fn({},C,{className:c,ref:S}),l))});Du.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Du.classNames={fullWidth:Zc,zeroRight:Jc};var Oy,JO=function(){if(Oy)return Oy;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=JO();return t&&e.setAttribute("nonce",t),e}function eI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rI=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ZO())&&(eI(t,r),tI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nI=function(){var e=rI();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},H_=function(){var e=nI(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},sI={left:0,top:0,right:0,gap:0},Wh=function(e){return parseInt(e||"",10)||0},aI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Wh(r),Wh(s),Wh(a)]},iI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sI;var t=aI(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},oI=H_(),vi="data-scroll-locked",lI=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(zO,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(vi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jc,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Zc,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Jc," .").concat(Jc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Zc," .").concat(Zc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(vi,`] {
    `).concat(HO,": ").concat(l,`px;
  }
`)},Iy=function(){var e=parseInt(document.body.getAttribute(vi)||"0",10);return isFinite(e)?e:0},cI=function(){f.useEffect(function(){return document.body.setAttribute(vi,(Iy()+1).toString()),function(){var e=Iy()-1;e<=0?document.body.removeAttribute(vi):document.body.setAttribute(vi,e.toString())}},[])},dI=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;cI();var i=f.useMemo(function(){return iI(a)},[a]);return f.createElement(oI,{styles:lI(i,!t,a,r?"":"!important")})},Tf=!1;if(typeof window<"u")try{var Tc=Object.defineProperty({},"passive",{get:function(){return Tf=!0,!0}});window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{Tf=!1}var $a=Tf?{passive:!1}:!1,uI=function(e){return e.tagName==="TEXTAREA"},W_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uI(e)&&r[t]==="visible")},hI=function(e){return W_(e,"overflowY")},mI=function(e){return W_(e,"overflowX")},Ly=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=G_(e,s);if(a){var i=q_(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},fI=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},pI=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},G_=function(e,t){return e==="v"?hI(t):mI(t)},q_=function(e,t){return e==="v"?fI(t):pI(t)},gI=function(e,t){return e==="h"&&t==="rtl"?-1:1},xI=function(e,t,r,s,a){var i=gI(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{var p=q_(e,l),x=p[0],g=p[1],b=p[2],y=g-b-i*x;(x||y)&&G_(e,l)&&(h+=y,m+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(a&&Math.abs(h)<1||!a&&o>h)||!u&&(a&&Math.abs(m)<1||!a&&-o>m))&&(d=!0),d},Ec=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fy=function(e){return[e.deltaX,e.deltaY]},$y=function(e){return e&&"current"in e?e.current:e},vI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bI=0,Ba=[];function wI(e){var t=f.useRef([]),r=f.useRef([0,0]),s=f.useRef(),a=f.useState(bI++)[0],i=f.useState(H_)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=UO([e.lockRef.current],(e.shards||[]).map($y),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Ec(g),v=r.current,w="deltaX"in g?g.deltaX:v[0]-y[0],j="deltaY"in g?g.deltaY:v[1]-y[1],S,C=g.target,N=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&N==="h"&&C.type==="range")return!1;var _=Ly(N,C);if(!_)return!0;if(_?S=N:(S=N==="v"?"h":"v",_=Ly(N,C)),!_)return!1;if(!s.current&&"changedTouches"in g&&(w||j)&&(s.current=S),!S)return!0;var E=s.current||S;return xI(E,b,g,E==="h"?w:j,!0)},[]),c=f.useCallback(function(g){var b=g;if(!(!Ba.length||Ba[Ba.length-1]!==i)){var y="deltaY"in b?Fy(b):Ec(b),v=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&vI(S.delta,y)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var w=(o.current.shards||[]).map($y).filter(Boolean).filter(function(S){return S.contains(b.target)}),j=w.length>0?l(b,w[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),d=f.useCallback(function(g,b,y,v){var w={name:g,delta:b,target:y,should:v,shadowParent:jI(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),u=f.useCallback(function(g){r.current=Ec(g),s.current=void 0},[]),h=f.useCallback(function(g){d(g.type,Fy(g),g.target,l(g,e.lockRef.current))},[]),m=f.useCallback(function(g){d(g.type,Ec(g),g.target,l(g,e.lockRef.current))},[]);f.useEffect(function(){return Ba.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,$a),document.addEventListener("touchmove",c,$a),document.addEventListener("touchstart",u,$a),function(){Ba=Ba.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,$a),document.removeEventListener("touchmove",c,$a),document.removeEventListener("touchstart",u,$a)}},[]);var p=e.removeScrollBar,x=e.inert;return f.createElement(f.Fragment,null,x?f.createElement(i,{styles:yI(a)}):null,p?f.createElement(dI,{gapMode:e.gapMode}):null)}function jI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NI=QO(z_,wI);var K_=f.forwardRef(function(e,t){return f.createElement(Du,fn({},e,{ref:t,sideCar:NI}))});K_.classNames=Du.classNames;const zg=K_;var Ef=["Enter"," "],_I=["ArrowDown","PageUp","Home"],Y_=["ArrowUp","PageDown","End"],SI=[..._I,...Y_],CI={ltr:[...Ef,"ArrowRight"],rtl:[...Ef,"ArrowLeft"]},kI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wl="Menu",[gl,TI,EI]=Rl(Wl),[Aa,X_]=Ut(Wl,[EI,Yi,Xi]),Mu=Yi(),Q_=Xi(),[PI,Ra]=Aa(Wl),[AI,Gl]=Aa(Wl),J_=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=Mu(t),[c,d]=f.useState(null),u=f.useRef(!1),h=Rt(i),m=Gi(a);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(Ig,{...l,children:n.jsx(PI,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:n.jsx(AI,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:s})})})};J_.displayName=Wl;var RI="MenuAnchor",Hg=f.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Mu(r);return n.jsx(Lg,{...a,...s,ref:t})});Hg.displayName=RI;var Wg="MenuPortal",[DI,Z_]=Aa(Wg,{forceMount:void 0}),e2=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=Ra(Wg,t);return n.jsx(DI,{scope:t,forceMount:r,children:n.jsx(_r,{present:r||i.open,children:n.jsx(Dl,{asChild:!0,container:a,children:s})})})};e2.displayName=Wg;var Rr="MenuContent",[MI,Gg]=Aa(Rr),t2=f.forwardRef((e,t)=>{const r=Z_(Rr,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Ra(Rr,e.__scopeMenu),o=Gl(Rr,e.__scopeMenu);return n.jsx(gl.Provider,{scope:e.__scopeMenu,children:n.jsx(_r,{present:s||i.open,children:n.jsx(gl.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(OI,{...a,ref:t}):n.jsx(II,{...a,ref:t})})})})}),OI=f.forwardRef((e,t)=>{const r=Ra(Rr,e.__scopeMenu),s=f.useRef(null),a=ve(t,s);return f.useEffect(()=>{const i=s.current;if(i)return Ug(i)},[]),n.jsx(qg,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:K(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),II=f.forwardRef((e,t)=>{const r=Ra(Rr,e.__scopeMenu);return n.jsx(qg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),qg=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...g}=e,b=Ra(Rr,r),y=Gl(Rr,r),v=Mu(r),w=Q_(r),j=TI(r),[S,C]=f.useState(null),N=f.useRef(null),_=ve(t,N,b.onContentChange),E=f.useRef(0),k=f.useRef(""),$=f.useRef(0),F=f.useRef(null),H=f.useRef("right"),B=f.useRef(0),A=x?zg:f.Fragment,M=x?{as:Rs,allowPinchZoom:!0}:void 0,U=I=>{var te,_e;const V=k.current+I,Y=j().filter(Te=>!Te.disabled),oe=document.activeElement,fe=(te=Y.find(Te=>Te.ref.current===oe))==null?void 0:te.textValue,le=Y.map(Te=>Te.textValue),Fe=KI(le,V,fe),$e=(_e=Y.find(Te=>Te.textValue===Fe))==null?void 0:_e.ref.current;(function Te(je){k.current=je,window.clearTimeout(E.current),je!==""&&(E.current=window.setTimeout(()=>Te(""),1e3))})(V),$e&&setTimeout(()=>$e.focus())};f.useEffect(()=>()=>window.clearTimeout(E.current),[]),Sg();const R=f.useCallback(I=>{var Y,oe;return H.current===((Y=F.current)==null?void 0:Y.side)&&XI(I,(oe=F.current)==null?void 0:oe.area)},[]);return n.jsx(MI,{scope:r,searchRef:k,onItemEnter:f.useCallback(I=>{R(I)&&I.preventDefault()},[R]),onItemLeave:f.useCallback(I=>{var V;R(I)||((V=N.current)==null||V.focus(),C(null))},[R]),onTriggerLeave:f.useCallback(I=>{R(I)&&I.preventDefault()},[R]),pointerGraceTimerRef:$,onPointerGraceIntentChange:f.useCallback(I=>{F.current=I},[]),children:n.jsx(A,{...M,children:n.jsx(Tu,{asChild:!0,trapped:a,onMountAutoFocus:K(i,I=>{var V;I.preventDefault(),(V=N.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Vi,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:n.jsx(Bg,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:s,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:K(c,I=>{y.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(Fg,{role:"menu","aria-orientation":"vertical","data-state":x2(b.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:_,style:{outline:"none",...g.style},onKeyDown:K(g.onKeyDown,I=>{const Y=I.target.closest("[data-radix-menu-content]")===I.currentTarget,oe=I.ctrlKey||I.altKey||I.metaKey,fe=I.key.length===1;Y&&(I.key==="Tab"&&I.preventDefault(),!oe&&fe&&U(I.key));const le=N.current;if(I.target!==le||!SI.includes(I.key))return;I.preventDefault();const $e=j().filter(te=>!te.disabled).map(te=>te.ref.current);Y_.includes(I.key)&&$e.reverse(),GI($e)}),onBlur:K(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(E.current),k.current="")}),onPointerMove:K(e.onPointerMove,xl(I=>{const V=I.target,Y=B.current!==I.clientX;if(I.currentTarget.contains(V)&&Y){const oe=I.clientX>B.current?"right":"left";H.current=oe,B.current=I.clientX}}))})})})})})})});t2.displayName=Rr;var LI="MenuGroup",Kg=f.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ne.div,{role:"group",...s,ref:t})});Kg.displayName=LI;var FI="MenuLabel",r2=f.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ne.div,{...s,ref:t})});r2.displayName=FI;var Md="MenuItem",By="menu.itemSelect",Ou=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=f.useRef(null),o=Gl(Md,e.__scopeMenu),l=Gg(Md,e.__scopeMenu),c=ve(t,i),d=f.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(By,{bubbles:!0,cancelable:!0});h.addEventListener(By,p=>s==null?void 0:s(p),{once:!0}),ig(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(n2,{...a,ref:c,disabled:r,onClick:K(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:K(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:K(e.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||Ef.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ou.displayName=Md;var n2=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=Gg(Md,r),l=Q_(r),c=f.useRef(null),d=ve(t,c),[u,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[i.children]),n.jsx(gl.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:n.jsx(Vg,{asChild:!0,...l,focusable:!s,children:n.jsx(ne.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:K(e.onPointerMove,xl(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:K(e.onPointerLeave,xl(x=>o.onItemLeave(x))),onFocus:K(e.onFocus,()=>h(!0)),onBlur:K(e.onBlur,()=>h(!1))})})})}),$I="MenuCheckboxItem",s2=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(c2,{scope:e.__scopeMenu,checked:r,children:n.jsx(Ou,{role:"menuitemcheckbox","aria-checked":Od(r)?"mixed":r,...a,ref:t,"data-state":Xg(r),onSelect:K(a.onSelect,()=>s==null?void 0:s(Od(r)?!0:!r),{checkForDefaultPrevented:!1})})})});s2.displayName=$I;var a2="MenuRadioGroup",[BI,VI]=Aa(a2,{value:void 0,onValueChange:()=>{}}),i2=f.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=Rt(s);return n.jsx(BI,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(Kg,{...a,ref:t})})});i2.displayName=a2;var o2="MenuRadioItem",l2=f.forwardRef((e,t)=>{const{value:r,...s}=e,a=VI(o2,e.__scopeMenu),i=r===a.value;return n.jsx(c2,{scope:e.__scopeMenu,checked:i,children:n.jsx(Ou,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":Xg(i),onSelect:K(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});l2.displayName=o2;var Yg="MenuItemIndicator",[c2,UI]=Aa(Yg,{checked:!1}),d2=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=UI(Yg,r);return n.jsx(_r,{present:s||Od(i.checked)||i.checked===!0,children:n.jsx(ne.span,{...a,ref:t,"data-state":Xg(i.checked)})})});d2.displayName=Yg;var zI="MenuSeparator",u2=f.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ne.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});u2.displayName=zI;var HI="MenuArrow",h2=f.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Mu(r);return n.jsx($g,{...a,...s,ref:t})});h2.displayName=HI;var WI="MenuSub",[DW,m2]=Aa(WI),So="MenuSubTrigger",f2=f.forwardRef((e,t)=>{const r=Ra(So,e.__scopeMenu),s=Gl(So,e.__scopeMenu),a=m2(So,e.__scopeMenu),i=Gg(So,e.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),n.jsx(Hg,{asChild:!0,...d,children:n.jsx(n2,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":x2(r.open),...e,ref:mu(t,a.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:K(e.onPointerMove,xl(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:K(e.onPointerLeave,xl(h=>{var p,x;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(x=r.content)==null?void 0:x.dataset.side,b=g==="right",y=b?-5:5,v=m[b?"left":"right"],w=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:v,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:K(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||CI[s.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});f2.displayName=So;var p2="MenuSubContent",g2=f.forwardRef((e,t)=>{const r=Z_(Rr,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Ra(Rr,e.__scopeMenu),o=Gl(Rr,e.__scopeMenu),l=m2(p2,e.__scopeMenu),c=f.useRef(null),d=ve(t,c);return n.jsx(gl.Provider,{scope:e.__scopeMenu,children:n.jsx(_r,{present:s||i.open,children:n.jsx(gl.Slot,{scope:e.__scopeMenu,children:n.jsx(qg,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:K(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:K(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:K(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),m=kI[o.dir].includes(u.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});g2.displayName=p2;function x2(e){return e?"open":"closed"}function Od(e){return e==="indeterminate"}function Xg(e){return Od(e)?"indeterminate":e?"checked":"unchecked"}function GI(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function qI(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function KI(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=qI(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function YI(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function XI(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return YI(r,t)}function xl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var QI=J_,JI=Hg,ZI=e2,eL=t2,tL=Kg,rL=r2,nL=Ou,sL=s2,aL=i2,iL=l2,oL=d2,lL=u2,cL=h2,dL=f2,uL=g2,Qg="DropdownMenu",[hL,MW]=Ut(Qg,[X_]),zt=X_(),[mL,v2]=hL(Qg),y2=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=zt(t),d=f.useRef(null),[u=!1,h]=yr({prop:a,defaultProp:i,onChange:o});return n.jsx(mL,{scope:t,triggerId:fr(),triggerRef:d,contentId:fr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(QI,{...c,open:u,onOpenChange:h,dir:s,modal:l,children:r})})};y2.displayName=Qg;var b2="DropdownMenuTrigger",w2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=v2(b2,r),o=zt(r);return n.jsx(JI,{asChild:!0,...o,children:n.jsx(ne.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:mu(t,i.triggerRef),onPointerDown:K(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:K(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});w2.displayName=b2;var fL="DropdownMenuPortal",j2=e=>{const{__scopeDropdownMenu:t,...r}=e,s=zt(t);return n.jsx(ZI,{...s,...r})};j2.displayName=fL;var N2="DropdownMenuContent",_2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=v2(N2,r),i=zt(r),o=f.useRef(!1);return n.jsx(eL,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:K(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:K(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_2.displayName=N2;var pL="DropdownMenuGroup",gL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(tL,{...a,...s,ref:t})});gL.displayName=pL;var xL="DropdownMenuLabel",S2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(rL,{...a,...s,ref:t})});S2.displayName=xL;var vL="DropdownMenuItem",C2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(nL,{...a,...s,ref:t})});C2.displayName=vL;var yL="DropdownMenuCheckboxItem",k2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(sL,{...a,...s,ref:t})});k2.displayName=yL;var bL="DropdownMenuRadioGroup",wL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(aL,{...a,...s,ref:t})});wL.displayName=bL;var jL="DropdownMenuRadioItem",T2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(iL,{...a,...s,ref:t})});T2.displayName=jL;var NL="DropdownMenuItemIndicator",E2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(oL,{...a,...s,ref:t})});E2.displayName=NL;var _L="DropdownMenuSeparator",P2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(lL,{...a,...s,ref:t})});P2.displayName=_L;var SL="DropdownMenuArrow",CL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(cL,{...a,...s,ref:t})});CL.displayName=SL;var kL="DropdownMenuSubTrigger",A2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(dL,{...a,...s,ref:t})});A2.displayName=kL;var TL="DropdownMenuSubContent",R2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zt(r);return n.jsx(uL,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R2.displayName=TL;var EL=y2,PL=w2,AL=j2,D2=_2,M2=S2,O2=C2,I2=k2,L2=T2,F2=E2,$2=P2,B2=A2,V2=R2;const Id=EL,Ld=PL,RL=X.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(B2,{ref:a,className:Q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(sr,{className:"ml-auto h-4 w-4"})]}));RL.displayName=B2.displayName;const DL=X.forwardRef(({className:e,...t},r)=>n.jsx(V2,{ref:r,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));DL.displayName=V2.displayName;const vl=X.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(AL,{children:n.jsx(D2,{ref:s,sideOffset:t,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white p-1 text-black shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));vl.displayName=D2.displayName;const Tt=X.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(O2,{ref:s,className:Q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-green-50 focus:text-black data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Tt.displayName=O2.displayName;const ML=X.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(I2,{ref:a,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(F2,{children:n.jsx(jn,{className:"h-4 w-4"})})}),t]}));ML.displayName=I2.displayName;const OL=X.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(L2,{ref:s,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(F2,{children:n.jsx(ti,{className:"h-2 w-2 fill-current"})})}),t]}));OL.displayName=L2.displayName;const IL=X.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(M2,{ref:s,className:Q("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));IL.displayName=M2.displayName;const yl=X.forwardRef(({className:e,...t},r)=>n.jsx($2,{ref:r,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));yl.displayName=$2.displayName;const LL=({onNavigate:e})=>{const{currentLanguage:t,changeLanguage:r,t:s}=zs(),{user:a,signOut:i}=Ke(),[o,l]=f.useState(!1),[c,d]=f.useState(!1),u=jt();f.useEffect(()=>{const x=()=>{d(window.scrollY>20)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const m=u.pathname==="/"&&!c?"bg-transparent":"bg-gray-950/95 backdrop-blur-xl shadow-lg border-b border-white/5",p=[{name:s("home"),path:"/"},{name:"Transfers",path:"/transfers"},{name:s("tours"),path:"/tours"},{name:"About",path:"/about"},{name:s("contact"),path:"/contact"}];return n.jsxs("header",{className:Q("fixed top-0 left-0 right-0 z-50 transition-all duration-300 py-3",m),children:[n.jsx("div",{className:"container-custom",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ie,{to:"/",className:"flex items-center gap-2 group relative z-50",children:n.jsx("img",{src:"https://i.postimg.cc/mgptfmRm/1-edited-1-1-qy5zwzzwpu0j6dxk2m4luqhe8smsejxkfebuablb4a.png",alt:"GeorgianTrip Logo",className:"h-12 w-auto object-contain hover:opacity-90 transition-opacity"})}),n.jsx("nav",{className:"hidden lg:flex items-center gap-2",children:p.map(x=>n.jsx(ie,{to:x.path,className:"px-4 py-2 text-sm font-bold text-white/90 hover:text-white hover:bg-white/10 rounded-full transition-all tracking-wide",children:x.name},x.name))}),n.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[n.jsxs(Id,{children:[n.jsx(Ld,{asChild:!0,children:n.jsx(P,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10 hover:text-white border border-white/20 rounded-full px-3 h-9",children:n.jsxs("span",{className:"uppercase flex items-center gap-2 font-medium",children:[t==="ka"&&"",t==="en"&&"",t==="ru"&&"",n.jsx("span",{className:"text-xs",children:t.toUpperCase()}),n.jsx(ba,{className:"w-3 h-3 opacity-70"})]})})}),n.jsxs(vl,{align:"end",className:"w-40 bg-white rounded-xl shadow-xl p-1 border-gray-100 mt-2",children:[n.jsx(Tt,{onClick:()=>r("ka"),className:"cursor-pointer rounded-lg font-medium",children:" "}),n.jsx(Tt,{onClick:()=>r("en"),className:"cursor-pointer rounded-lg font-medium",children:" English"}),n.jsx(Tt,{onClick:()=>r("ru"),className:"cursor-pointer rounded-lg font-medium",children:" "})]})]}),a?n.jsxs(Id,{children:[n.jsx(Ld,{asChild:!0,children:n.jsxs(P,{className:"bg-green-500 hover:bg-green-400 text-white rounded-full px-5 shadow-lg shadow-green-900/40 border border-green-400/50 font-bold transition-all transform hover:scale-105",children:[n.jsx(qn,{className:"w-4 h-4 mr-2"}),"Account"]})}),n.jsxs(vl,{align:"end",className:"w-56 bg-white border-gray-100 shadow-xl rounded-xl p-2 mt-2",children:[n.jsx(Tt,{asChild:!0,children:n.jsxs(ie,{to:"/driver",className:"rounded-lg cursor-pointer py-2.5 w-full flex items-center font-medium",children:[n.jsx(fg,{className:"w-4 h-4 mr-2 text-green-600"}),s("driverPanel")]})}),n.jsx(yl,{}),n.jsxs(Tt,{onClick:i,className:"text-red-600 focus:text-red-600 rounded-lg cursor-pointer py-2.5 flex items-center font-medium",children:[n.jsx(pg,{className:"w-4 h-4 mr-2"}),s("signOut")]})]})]}):n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ie,{to:"/login",children:n.jsx(P,{variant:"ghost",className:"text-white hover:bg-white/10 hover:text-white font-medium",children:s("signIn")})}),n.jsx(ie,{to:"/driver/login",children:n.jsx(P,{className:"rounded-full px-6 font-bold shadow-lg shadow-green-500/20 bg-green-500 text-white hover:bg-green-400 transition-all transform hover:-translate-y-0.5 border border-green-400/50",children:"Become a Driver"})})]})]}),n.jsx("button",{className:"lg:hidden p-2 rounded-lg text-white hover:bg-white/10 transition-colors",onClick:()=>l(!o),children:o?n.jsx(Dt,{className:"w-7 h-7"}):n.jsx($N,{className:"w-7 h-7"})})]})}),o&&n.jsxs("div",{className:"fixed inset-0 top-0 bg-gray-950 z-40 lg:hidden flex flex-col animate-in slide-in-from-right-10 duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[n.jsx("img",{src:"https://i.postimg.cc/mgptfmRm/1-edited-1-1-qy5zwzzwpu0j6dxk2m4luqhe8smsejxkfebuablb4a.png",alt:"GeorgianTrip Logo",className:"h-10 w-auto"}),n.jsx("button",{onClick:()=>l(!1),className:"p-2 bg-white/10 text-white rounded-full hover:bg-white/20",children:n.jsx(Dt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 flex flex-col gap-6 overflow-y-auto flex-1",children:[n.jsx("nav",{className:"flex flex-col gap-2",children:p.map(x=>n.jsxs(ie,{to:x.path,onClick:()=>l(!1),className:"text-xl font-bold text-white text-left py-4 border-b border-white/10 flex justify-between items-center hover:text-green-400 transition-colors",children:[x.name,n.jsx(ba,{className:"w-5 h-5 -rotate-90 text-white/50"})]},x.name))}),n.jsxs("div",{className:"flex flex-col gap-4 mt-auto pb-8",children:[a?n.jsx(ie,{to:"/driver",onClick:()=>l(!1),children:n.jsx(P,{className:"w-full bg-green-500 hover:bg-green-400 py-6 rounded-xl text-lg shadow-lg font-bold border border-green-400/50",children:s("driverPanel")})}):n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsx(ie,{to:"/driver/login",onClick:()=>l(!1),children:n.jsx(P,{className:"w-full bg-green-500 text-white hover:bg-green-400 py-6 rounded-xl text-lg font-bold shadow-lg border border-green-400/50",children:"Join as Driver"})}),n.jsx(ie,{to:"/login",onClick:()=>l(!1),children:n.jsx(P,{variant:"outline",className:"w-full border-white/30 text-white hover:bg-white/10 hover:text-white py-6 rounded-xl text-lg font-medium",children:s("signIn")})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[n.jsx("button",{onClick:()=>r("ka"),className:`py-3 rounded-xl border font-bold ${t==="ka"?"border-green-400 bg-green-500/20 text-white":"border-white/10 bg-white/5 text-gray-300"}`,children:"KA"}),n.jsx("button",{onClick:()=>r("en"),className:`py-3 rounded-xl border font-bold ${t==="en"?"border-green-400 bg-green-500/20 text-white":"border-white/10 bg-white/5 text-gray-300"}`,children:"EN"}),n.jsx("button",{onClick:()=>r("ru"),className:`py-3 rounded-xl border font-bold ${t==="ru"?"border-green-400 bg-green-500/20 text-white":"border-white/10 bg-white/5 text-gray-300"}`,children:"RU"})]})]})]})]})]})},FL=async(e,t)=>{try{const{data:r,error:s}=await O.from("site_content").select("content").eq("page",e).eq("section",t).maybeSingle();if(s)throw s;return(r==null?void 0:r.content)||null}catch(r){return console.warn("site_content section fetch:",r.message),null}},$L=async()=>{try{const{data:e,error:t}=await O.from("site_content").select("*").order("page").order("section");if(t)throw t;const r={};return e==null||e.forEach(s=>{r[s.page]||(r[s.page]={}),r[s.page][s.section]=s.content}),r}catch(e){return console.warn("site_content all fetch:",e.message),{}}},BL=async(e,t,r)=>{try{const{data:s,error:a}=await O.from("site_content").upsert({page:e,section:t,content:r,updated_at:new Date().toISOString()},{onConflict:"page,section"}).select().single();if(a)throw a;return s}catch(s){throw console.error("site_content update error:",s.message),s}},et={home:{how_it_works:{title:"How It Works",subtitle:"Simple and easy booking process",steps:[{title:"Search",description:"Enter your pickup location, destination, and preferred date."},{title:"Choose",description:"Select from a wide range of vehicles and professional drivers."},{title:"Book",description:"Complete your booking in 4 easy steps with instant confirmation."},{title:"Enjoy",description:"Meet your driver and relax as you enjoy a safe ride."}]},our_story:{label:"About Us",title:"Our Story: Discover Georgia with Locals",paragraphs:["Welcome to <strong>GeorgianTrip</strong>, where every journey is a story waiting to be told. Born from a passion for our homeland's breathtaking landscapes and rich traditions, we started as a small team of local enthusiasts dedicated to sharing the real Georgia with the world.","We believe that travel isn't just about reaching a destination; it's about the warmth of the welcome, the stories shared on the road, and the hidden gems you find along the way."],features:[{title:"Passionate Locals",description:"Drivers who know every corner and legend."},{title:"Safe & Reliable",description:"Verified vehicles and professional service."}],buttonText:"Read More About Us",images:["https://images.unsplash.com/photo-1682667027683-19908f23dd89","https://images.unsplash.com/photo-1597566360895-5d93e580554e","https://images.unsplash.com/photo-1492713239497-a6fa9352daff","https://images.unsplash.com/photo-1672674779705-a58c96cdc8c5"]},value_icons:{title:"Why Choose GeorgianTrip?",subtitle:"We provide the safest, most comfortable way to explore Georgia's beautiful landscapes."},faq:{title:"Frequently Asked Questions",items:[{question:"Can I request stops along the way?",answer:"Yes! You can add as many stops as you like for sightseeing or lunch. There is no extra fee for waiting time, as the price is per vehicle for the day."},{question:"Is the price per person or per car?",answer:"The price shown is for the entire vehicle, not per person. It includes fuel and driver services."},{question:"Do I need to pay in advance?",answer:"No prepayment is required. You pay the driver directly in cash (GEL, USD, or EUR) after you reach your destination."},{question:"Are tips included?",answer:"Tips are not included in the price but are appreciated if you are happy with the service. Standard tipping in Georgia is around 10%."}]},bottom_cta:{title:"Ready to Explore Georgia?",subtitle:"Book your private transfer today and discover the hidden gems of the Caucasus with our trusted local drivers.",buttonText:"Plan Your Trip",contactButtonText:"Contact Support",backgroundImage:"https://images.unsplash.com/photo-1678984451800-4a21019d74f0"},testimonials:{title:"What Travelers Say",rating:"4.9/5",reviewCount:"1,500+ reviews",reviews:[{name:"Sarah Jenkins",location:"United Kingdom",text:"The best way to travel in Georgia! Our driver Giorgi was amazing, he showed us hidden gems we wouldn't have found otherwise.",date:"January 2026"},{name:"Michael Weber",location:"Germany",text:"Much more comfortable than a bus and cheaper than a standard taxi. The car was clean and the driver drove very safely.",date:"December 2025"},{name:"Elena Sokolova",location:"Israel",text:"We booked 3 transfers during our week in Georgia. Every time the driver was on time and very polite. Highly recommended!",date:"January 2026"}]},driver_registration:{bannerTitle:"Join Our Team of Professionals",heading:"Become a Partner",description:"Are you an experienced driver with a reliable vehicle? Join GeorgianTrip and turn your kilometers into income. We provide the passengers; you provide the excellent service.",benefits:["Flexible working hours - be your own boss","Competitive earnings and instant payouts","Professional support 24/7","Access to thousands of tourists","Easy registration process"],quote:'"Flexible schedule and great passengers. I recommend it to everyone."'}},about:{hero:{title:"About GeorgianTrip",subtitle:"We are more than just a transfer service. We are your local friends, dedicated to showing you the real beauty, culture, and warmth of Georgia.",ctaText:"Discover Our Mission",backgroundImage:"https://images.unsplash.com/photo-1565008447742-97f6f38c985c"},mission:{label:"Our Mission",title:"Preserving Culture, Creating Connections",paragraphs:["Our mission is to connect travelers with the authentic spirit of Georgia through safe, comfortable, and personalized transportation and tour experiences.","We aim to empower local drivers and communities while providing world-class service that turns every journey into an unforgettable adventure."],imageCaption:"Sharing our heritage with the world.",imageUrl:"https://images.unsplash.com/photo-1565008447742-97f6f38c985c"},vision:{label:"Our Vision",title:"The Future of Georgian Travel",paragraphs:["We envision a future where every traveler to Georgia experiences the country through the eyes of passionate locals.","By leveraging technology and deep cultural knowledge, we are building the most trusted travel platform in the Caucasus region."],imageCaption:"Building the future of travel.",imageUrl:"https://images.unsplash.com/photo-1597566360895-5d93e580554e"},values:{label:"Our DNA",title:"Values That Guide Us",subtitle:"At GeorgianTrip, these core principles shape everything we do.",items:[{title:"Authenticity",description:"We believe in genuine experiences that connect travelers with Georgian culture and traditions.",imageUrl:"https://images.unsplash.com/photo-1565008447742-97f6f38c985c"},{title:"Trust & Safety",description:"Every driver is verified, every vehicle is inspected, and every journey is tracked for your peace of mind.",imageUrl:"https://images.unsplash.com/photo-1597566360895-5d93e580554e"},{title:"Excellence",description:"We strive for excellence in every detail, from vehicle comfort to guide knowledge.",imageUrl:"https://images.unsplash.com/photo-1492713239497-a6fa9352daff"},{title:"Sustainability",description:"We care for Georgia's environment and culture, promoting responsible tourism.",imageUrl:"https://images.unsplash.com/photo-1672674779705-a58c96cdc8c5"}]},stats:{items:[{value:"2015",label:"Founded",description:"Years of excellence"},{value:"10k+",label:"Happy Travelers",description:"From all over the world"},{value:"50+",label:"Unique Tours",description:"Crafted to perfection"},{value:"#1",label:"Travel Choice",description:"Top rated service"}]},gallery:{label:"Our Gallery",title:"Beauty of Georgia",subtitle:"A glimpse into the diverse landscapes and breathtaking scenery you can discover with GeorgianTrip.",instagramUrl:"https://www.instagram.com/georgiantrip_go/",images:[{url:"https://images.unsplash.com/photo-1565008447742-97f6f38c985c",alt:"Tbilisi Old Town"},{url:"https://images.unsplash.com/photo-1682667027683-19908f23dd89",alt:"Kazbegi Mountains"},{url:"https://images.unsplash.com/photo-1597566360895-5d93e580554e",alt:"Georgian Wine Country"},{url:"https://images.unsplash.com/photo-1492713239497-a6fa9352daff",alt:"Old Tbilisi"},{url:"https://images.unsplash.com/photo-1672674779705-a58c96cdc8c5",alt:"Martvili Canyon"}]},cta:{title:"Ready to Explore Georgia?",subtitle:"Start your adventure with us today. Explore breathtaking tours or book a private transfer with trusted local drivers.",button1Text:"Explore Tours",button2Text:"Contact Us",backgroundImage:"https://images.unsplash.com/photo-1678984451800-4a21019d74f0"}},contact:{info:{phone:"+995 555 123 456",phoneNote:"Available on WhatsApp & Telegram",email:"info@georgiantrip.com",supportEmail:"support@georgiantrip.com",address:"123 Rustaveli Avenue, Tbilisi 0108, Georgia",customerSupportHours:"Customer Support: 24/7",officeHours:"Office: Mon-Fri, 10:00 - 19:00",mapEmbedUrl:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2978.597362777326!2d44.79377401568057!3d41.69666797923714!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40440cf6e37e179d%3A0x6001a0e1b071060!2sRustaveli%20Ave%2C%20Tbilisi!5e0!3m2!1sen!2sge!4v1689771234567!5m2!1sen!2sge"}},footer:{general:{brandDescription:"The most reliable way to travel across Georgia. We connect travelers with verified local drivers for safe, comfortable, and affordable private transfers.",phone:"+995 32 2 000 000",phoneHours:"Mon-Sun 9am-9pm",email:"info@georgiantrip.com",emailNote:"Online support 24/7",address:"Rustaveli Ave 12, Tbilisi, Georgia",facebookUrl:"",instagramUrl:"",twitterUrl:""}},pages:{tours:{title:"Tours",subtitle:"Discover the beauty of Georgia with our curated selection of tours."},transfers:{title:"Transfer Routes",subtitle:"Fixed price private transfers to all major destinations in Georgia. Book online, pay driver in cash."}}},ot=(e,t,r={})=>{const[s,a]=f.useState(r),[i,o]=f.useState(!0);return f.useEffect(()=>{let l=!0;return FL(e,t).then(c=>{l&&c&&typeof c=="object"&&a(d=>({...d,...c}))}).catch(()=>{}).finally(()=>{l&&o(!1)}),()=>{l=!1}},[e,t]),{content:s,loading:i}},VL=()=>{zs();const{content:e}=ot("footer","general",et.footer.general);return n.jsx("footer",{className:"bg-gray-950 text-gray-300 pt-20 pb-8 border-t border-gray-800/50 text-sm",children:n.jsxs("div",{className:"container-custom",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-xl flex items-center justify-center shadow-lg shadow-green-900/30",children:n.jsx("span",{className:"text-white font-heading font-bold text-xl",children:"GT"})}),n.jsx("h2",{className:"text-2xl font-heading font-bold text-white",children:"GeorgianTrip"})]}),n.jsx("p",{className:"leading-relaxed text-gray-400",children:e.brandDescription||"The most reliable way to travel across Georgia. We connect travelers with verified local drivers for safe, comfortable, and affordable private transfers."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("a",{href:e.facebookUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-gray-800/80 flex items-center justify-center hover:bg-green-600 hover:text-white transition-all duration-300 hover:-translate-y-0.5",children:n.jsx(DN,{className:"w-5 h-5"})}),n.jsx("a",{href:e.instagramUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-gray-800/80 flex items-center justify-center hover:bg-pink-600 hover:text-white transition-all duration-300 hover:-translate-y-0.5",children:n.jsx(Ll,{className:"w-5 h-5"})}),n.jsx("a",{href:e.twitterUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-gray-800/80 flex items-center justify-center hover:bg-blue-400 hover:text-white transition-all duration-300 hover:-translate-y-0.5",children:n.jsx(XR,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-bold mb-6 text-lg",children:"Company"}),n.jsxs("ul",{className:"space-y-4",children:[n.jsx("li",{children:n.jsx(ie,{to:"/about",className:"hover:text-green-400 transition-colors flex items-center gap-2",children:"About Us"})}),n.jsx("li",{children:n.jsx(ie,{to:"/contact",className:"hover:text-green-400 transition-colors flex items-center gap-2",children:"Contact Us"})}),n.jsx("li",{children:n.jsx(ie,{to:"/driver/login",className:"hover:text-green-400 transition-colors flex items-center gap-2",children:"For Drivers"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-bold mb-6 text-lg",children:"Support"}),n.jsxs("ul",{className:"space-y-4",children:[n.jsx("li",{children:n.jsx(ie,{to:"/contact",className:"hover:text-green-400 transition-colors",children:"Help & Support"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-green-400 transition-colors",children:"Terms of Service"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-green-400 transition-colors",children:"Privacy Policy"})})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-800/50",children:n.jsxs(ie,{to:"/admin-login",className:"flex items-center gap-2 text-gray-500 hover:text-green-400 transition-colors text-xs font-medium",children:[n.jsx(bn,{className:"w-3 h-3"}),"Admin Panel Access"]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-bold mb-6 text-lg",children:"Contact Info"}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(Gn,{className:"w-5 h-5 text-green-500 shrink-0 mt-0.5"}),n.jsxs("span",{children:[e.phone||"+995 32 2 000 000",n.jsx("br",{}),n.jsx("span",{className:"text-xs text-gray-500",children:e.phoneNote||"Mon-Sun 9am-9pm"})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(zi,{className:"w-5 h-5 text-green-500 shrink-0 mt-0.5"}),n.jsxs("span",{children:[e.email||"info@georgiantrip.com",n.jsx("br",{}),n.jsx("span",{className:"text-xs text-gray-500",children:e.emailNote||"Online support 24/7"})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(br,{className:"w-5 h-5 text-green-500 shrink-0 mt-0.5"}),n.jsx("span",{children:e.address||"Rustaveli Ave 12, Tbilisi, Georgia"})]})]})]})]}),n.jsxs("div",{className:"border-t border-gray-800/50 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",new Date().getFullYear()," GeorgianTrip. All rights reserved."]}),n.jsxs("p",{className:"text-gray-500 text-xs flex items-center gap-1",children:["Made with ",n.jsx(Il,{className:"w-3 h-3 text-red-500 fill-red-500"})," in Georgia"]})]})]})})},UL=()=>{const e=ge();return n.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[n.jsx(LL,{onNavigate:t=>e(t==="home"?"/":`/${t}`)}),n.jsx("main",{className:"flex-grow",children:n.jsx(rg,{})}),n.jsx(VL,{})]})},zL=()=>{const{signOut:e}=Ke(),t=ge(),r=jt(),[s,a]=f.useState({drivers:!0,bookings:!1,finances:!1,tours:!1}),i=c=>{a(d=>({...d,[c]:!d[c]}))},o=async()=>{await e(),t("/admin-login")},l=[{to:"/paneli/dashboard",icon:fg,label:"Dashboard"},{id:"drivers",label:"Drivers",icon:nr,submenu:[{to:"/paneli/drivers",label:"All Drivers"}]},{id:"bookings",label:"Bookings",icon:it,submenu:[{to:"/paneli/bookings",label:"All Bookings"}]},{id:"finances",label:"Finances",icon:Ar,submenu:[{to:"/paneli/earnings",label:"Driver Earnings"},{to:"/paneli/finances",label:"Financial Overview"}]},{id:"tours",label:"Tours",icon:UN,submenu:[{to:"/paneli/tours",label:"All Tours"},{to:"/paneli/tour-bookings",label:"Tour Bookings"}]},{to:"/paneli/cars",icon:rr,label:"Cars"},{to:"/paneli/transfers",icon:br,label:"Transfers"},{to:"/paneli/locations",icon:br,label:"Locations"},{type:"divider",label:"Content Management"},{to:"/paneli/site-content",icon:MN,label:"Site Content"},{to:"/paneli/hero",icon:mg,label:"Hero Section"},{to:"/paneli/about",icon:tn,label:"About Page"},{to:"/paneli/sms",icon:Fl,label:"SMS Settings"},{to:"/paneli/settings",icon:xg,label:"Settings"}];return n.jsxs("div",{className:"fixed left-0 top-0 w-64 h-full bg-gray-900 z-50 flex flex-col",children:[n.jsx("div",{className:"p-5 border-b border-gray-800",children:n.jsxs("div",{className:"flex items-center gap-2.5",children:[n.jsx("div",{className:"w-9 h-9 bg-green-600 rounded-lg flex items-center justify-center shadow-lg shadow-green-900/40",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"G"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-bold text-white leading-tight",children:"GeorgianTrip"}),n.jsx("span",{className:"text-[10px] uppercase tracking-widest text-green-400 font-bold",children:"Admin Panel"})]})]})}),n.jsx("nav",{className:"flex-1 p-3 space-y-0.5 overflow-y-auto",children:l.map(c=>{if(c.type==="divider")return n.jsx("div",{className:"pt-4 pb-2 px-3",children:n.jsx("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 font-bold",children:c.label})},c.label);if(c.submenu){const d=r.pathname.startsWith(c.submenu[0].to)||c.submenu.some(h=>r.pathname===h.to),u=s[c.id];return n.jsxs("div",{className:"mb-0.5",children:[n.jsxs("button",{onClick:()=>i(c.id),className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg transition-colors text-sm ${d?"text-white font-medium bg-white/10":"text-gray-400 hover:bg-white/5 hover:text-gray-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(c.icon,{className:`w-[18px] h-[18px] ${d?"text-green-400":"text-gray-500"}`}),c.label]}),u?n.jsx(ba,{className:"w-3.5 h-3.5"}):n.jsx(sr,{className:"w-3.5 h-3.5"})]}),u&&n.jsx("div",{className:"pl-10 pr-2 py-0.5 space-y-0.5",children:c.submenu.map(h=>n.jsx(nf,{to:h.to,end:!0,className:({isActive:m})=>`block px-3 py-2 rounded-md text-sm transition-colors ${m?"text-green-400 font-medium bg-green-500/10":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:h.label},h.to))})]},c.id)}return n.jsxs(nf,{to:c.to,className:({isActive:d})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-sm ${d?"bg-green-600 text-white font-medium shadow-md shadow-green-900/30":"text-gray-400 hover:bg-white/5 hover:text-gray-200"}`,children:[n.jsx(c.icon,{className:`w-[18px] h-[18px] ${r.pathname===c.to?"text-white":"text-gray-500"}`}),c.label]},c.to)})}),n.jsx("div",{className:"p-3 border-t border-gray-800",children:n.jsxs("button",{onClick:o,className:"flex items-center gap-3 px-3 py-2.5 w-full text-red-400 hover:bg-red-500/10 rounded-lg transition-colors text-sm",children:[n.jsx(pg,{className:"w-[18px] h-[18px]"}),"Logout"]})})]})},HL=()=>{var s,a,i;const{user:e,loading:t,isAdmin:r}=Ke();return t?null:!e||!r?n.jsx(ya,{to:"/admin-login",replace:!0}):n.jsxs("div",{className:"flex h-screen bg-gray-50",children:[n.jsx(zL,{}),n.jsxs("div",{className:"flex-1 flex flex-col ml-64 overflow-hidden",children:[n.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0",children:[n.jsxs("h1",{className:"text-lg font-heading font-semibold text-gray-800",children:["Welcome back, ",((s=e.user_metadata)==null?void 0:s.first_name)||"Admin"]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:[e.email,((a=e.user_metadata)==null?void 0:a.role)==="super_admin"&&n.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-xs font-bold",children:"Super Admin"})]}),n.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-bold border border-green-200",children:(i=e.email)==null?void 0:i[0].toUpperCase()})]})]}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsx("div",{className:"max-w-7xl mx-auto pb-10",children:n.jsx(rg,{})})})]})]})},WL=()=>{var d;const[e,t]=f.useState(!1),r=jt(),s=ge(),{signOut:a,user:i}=Ke(),{toast:o}=ae(),l=async()=>{window.confirm("Are you sure you want to log out?")&&(await a(),s("/driver/login"),o({title:"Logged out successfully"}))},c=[{name:"Dashboard",path:"/driver/dashboard",icon:fg},{name:"My Profile",path:"/driver/profile",icon:qn},{name:"My Cars",path:"/driver/cars",icon:rr},{name:"My Pricing",path:"/driver/pricing",icon:Ar},{name:"My Bookings",path:"/driver/bookings",icon:it},{name:"Messages",path:"/driver/messages",icon:Fl},{name:"Settings",path:"/driver/settings",icon:xg}];return n.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col md:flex-row",children:[n.jsxs("div",{className:"md:hidden bg-gray-900 text-white p-4 flex justify-between items-center sticky top-0 z-50",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-7 h-7 bg-green-600 rounded-lg flex items-center justify-center text-white text-xs font-bold",children:"GT"}),n.jsx("span",{className:"font-bold text-base",children:"Driver Panel"})]}),n.jsx("button",{onClick:()=>t(!e),className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:e?n.jsx(Dt,{className:"w-5 h-5"}):n.jsx($N,{className:"w-5 h-5"})})]}),n.jsx("div",{className:`
        fixed inset-y-0 left-0 z-40 w-64 bg-gray-900 transform transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:h-screen
        ${e?"translate-x-0":"-translate-x-full"}
      `,children:n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsx("div",{className:"p-5 border-b border-gray-800",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-9 h-9 bg-green-600 rounded-xl flex items-center justify-center text-white text-sm font-bold shadow-lg shadow-green-900/30",children:"GT"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-bold text-base text-white",children:"GeorgianTrip"}),n.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-medium",children:"Driver Panel"})]})]})}),n.jsx("nav",{className:"flex-1 p-3 space-y-0.5 overflow-y-auto",children:c.map(u=>{const h=u.icon,m=r.pathname===u.path||r.pathname.startsWith(u.path+"/");return n.jsxs(ie,{to:u.path,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${m?"bg-green-600 text-white shadow-md shadow-green-900/30":"text-gray-400 hover:bg-white/5 hover:text-gray-200"}`,onClick:()=>t(!1),children:[n.jsx(h,{className:`w-[18px] h-[18px] ${m?"text-white":"text-gray-500"}`}),u.name]},u.path)})}),n.jsxs("div",{className:"p-3 border-t border-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3 px-2",children:[n.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-700 overflow-hidden flex items-center justify-center",children:n.jsx(qn,{className:"w-5 h-5 text-gray-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-200 truncate",children:i==null?void 0:i.email}),n.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Driver"})]})]}),n.jsxs("button",{className:"flex items-center gap-3 px-3 py-2.5 w-full text-red-400 hover:bg-red-500/10 rounded-lg transition-colors text-sm",onClick:l,children:[n.jsx(pg,{className:"w-[18px] h-[18px]"}),"Log Out"]})]})]})}),n.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[n.jsxs("header",{className:"hidden md:flex bg-white h-14 items-center justify-between px-8 border-b border-gray-200",children:[n.jsx("h1",{className:"font-semibold text-gray-800",children:((d=c.find(u=>r.pathname.startsWith(u.path)))==null?void 0:d.name)||"Dashboard"}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsx("span",{className:"text-xs text-gray-400",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),n.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:n.jsx(rg,{})})]}),e&&n.jsx("div",{className:"fixed inset-0 bg-black/60 z-30 md:hidden backdrop-blur-sm",onClick:()=>t(!1)})]})},D=X.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:Q("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-black ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-600 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));D.displayName="Input";const T=X.forwardRef(({className:e,...t},r)=>n.jsx("label",{ref:r,className:Q("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-black mb-2 block",e),...t}));T.displayName="Label";const Va=({value:e,onChange:t,placeholder:r,label:s,iconColor:a="text-gray-500",className:i,variant:o="light"})=>{const[l,c]=f.useState(!1),[d,u]=f.useState([]),[h,m]=f.useState([]),[p,x]=f.useState(""),[g,b]=f.useState(!1),y=f.useRef(null),v=f.useRef(null),{currentLanguage:w}=zs();f.useEffect(()=>{(async()=>{b(!0);try{const{data:k,error:$}=await O.from("locations").select("id, name_en, name_ka, name_ru, lat, lng, priority").eq("is_active",!0).order("priority",{ascending:!1}).order("name_en",{ascending:!0});if($)throw $;const F=(k||[]).map(H=>({id:H.id,name:H[`name_${w}`]||H.name_en,original:H}));u(F),m(F)}catch(k){console.error("Error loading locations:",k)}finally{b(!1)}})()},[w]),f.useEffect(()=>{e&&typeof e=="object"?x(e.name||""):e||x("")},[e]);const j=E=>{const k=E.target.value;if(x(k),c(!0),!k.trim()){m(d),e&&t(null);return}const $=k.toLowerCase(),F=d.filter(H=>H.name.toLowerCase().includes($));m(F)},S=E=>{y.current&&!y.current.contains(E.target)&&(c(!1),e&&p!==e.name?x(e.name):!e&&p&&x(""))};f.useEffect(()=>(document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)),[e,p]);const C=()=>{if(c(!0),!p)m(d);else{const E=p.toLowerCase(),k=d.filter($=>$.name.toLowerCase().includes(E));m(k)}},N=E=>{const k={id:E.id,name:E.name,lat:E.original.lat,lng:E.original.lng};x(k.name),t(k),c(!1)},_=E=>{var k;E.stopPropagation(),x(""),t(null),m(d),(k=v.current)==null||k.focus()};return n.jsxs("div",{className:Q("relative",i),ref:y,children:[s&&n.jsx(T,{className:Q("text-xs font-bold mb-1 ml-1 block uppercase","text-gray-400"),children:s}),n.jsxs("div",{className:"relative group",children:[n.jsx(br,{className:Q("absolute left-3 top-3.5 w-5 h-5 z-10 transition-colors",l?o==="dark"?"text-green-400":"text-green-600":a)}),n.jsx(D,{ref:v,type:"text",value:p,onChange:j,onClick:C,onFocus:C,placeholder:r,className:Q("h-12 pl-10 pr-10 rounded-xl transition-all text-base cursor-pointer",o==="dark"?"bg-white/10 border-white/20 text-white placeholder:text-gray-400 focus:ring-2 focus:ring-green-400/20 focus:border-green-400 shadow-none":"bg-white border-gray-200 focus:ring-2 focus:ring-green-600/20 focus:border-green-600 shadow-sm"),autoComplete:"off"}),n.jsxs("div",{className:"absolute right-3 top-3.5 flex items-center gap-1",children:[g&&n.jsx(de,{className:"w-5 h-5 animate-spin text-gray-400"}),!g&&p&&n.jsx("button",{type:"button",onClick:_,className:"text-gray-400 hover:text-red-500 transition-colors focus:outline-none p-0.5 rounded-full hover:bg-red-50",children:n.jsx(Dt,{className:"w-4 h-4"})}),!g&&n.jsx(ba,{className:Q("w-4 h-4 text-gray-400 transition-transform duration-200",l&&"rotate-180")})]})]}),l&&n.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white border border-gray-100 rounded-xl shadow-xl max-h-[300px] overflow-y-auto animate-in fade-in-0 zoom-in-95 duration-200",children:h.length>0?n.jsx("ul",{className:"py-1",children:h.map(E=>n.jsxs("li",{onClick:()=>N(E),className:Q("px-4 py-3 hover:bg-green-50 cursor-pointer flex items-center justify-between group transition-colors border-b border-gray-50 last:border-0",(e==null?void 0:e.id)===E.id&&"bg-green-50/50"),children:[n.jsx("div",{className:"flex flex-col",children:n.jsx("span",{className:Q("text-gray-900 font-medium group-hover:text-green-700 transition-colors",(e==null?void 0:e.id)===E.id&&"text-green-700 font-semibold"),children:E.name})}),(e==null?void 0:e.id)===E.id&&n.jsx(jn,{className:"w-4 h-4 text-green-600"})]},E.id))}):n.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:n.jsx("p",{className:"text-sm",children:"No locations found."})})})]})},Iu=({onSearch:e,compact:t=!1,initialData:r})=>{const{t:s}=zs(),{toast:a}=ae(),i=ge(),o=new Date().toISOString().split("T")[0],[l,c]=f.useState({startLocation:null,endLocation:null,stops:[],date:o});f.useEffect(()=>{r&&c(p=>({...p,...r}))},[r]);const d=()=>{if(l.stops.length>=3){a({title:"Maximum stops reached",description:"You can add up to 3 stops."});return}c({...l,stops:[...l.stops,null]})},u=p=>{c({...l,stops:l.stops.filter((x,g)=>g!==p)})},h=(p,x)=>{const g=[...l.stops];g[p]=x,c({...l,stops:g})},m=()=>{if(!l.startLocation){a({variant:"destructive",title:"Missing Origin",description:"Please select a starting location."});return}if(!l.endLocation){a({variant:"destructive",title:"Missing Destination",description:"Please select a destination."});return}if(!l.date){a({variant:"destructive",title:"Missing Date",description:"Please select a date for your trip."});return}const p=new URLSearchParams;if(l.startLocation.id?p.append("from",l.startLocation.id):p.append("fromName",l.startLocation.name||l.startLocation),l.endLocation.id?p.append("to",l.endLocation.id):p.append("toName",l.endLocation.name||l.endLocation),p.append("date",l.date),l.stops.length>0){const x=l.stops.filter(g=>g&&g.id).map(g=>g.id).join(",");x&&p.append("stops",x)}i(`/search-results?${p.toString()}`),e&&e(l)};return t?n.jsx("div",{className:"bg-white rounded-xl shadow-soft p-4 md:p-5 border border-gray-100",children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-end",children:[n.jsxs("div",{className:"w-full relative",children:[n.jsx(Va,{label:s("startLocation"),placeholder:"From...",value:l.startLocation,onChange:p=>c({...l,startLocation:p}),iconColor:"text-green-600"}),n.jsx("div",{className:"hidden md:block absolute left-5 top-14 bottom-[-16px] w-0.5 border-l-2 border-dashed border-gray-300 z-0"})]}),n.jsx("div",{className:"w-full",children:n.jsx(Va,{label:s("endLocation"),placeholder:"To...",value:l.endLocation,onChange:p=>c({...l,endLocation:p}),iconColor:"text-red-500"})})]}),l.stops.length>0&&n.jsx("div",{className:"flex flex-col gap-3 pl-4 md:pl-0",children:l.stops.map((p,x)=>n.jsxs("div",{className:"flex gap-2 animate-in slide-in-from-top-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsx(Va,{placeholder:`Stop ${x+1}...`,value:p,onChange:g=>h(x,g),iconColor:"text-yellow-500"})}),n.jsx("div",{className:"flex items-end pb-1",children:n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>u(x),className:"h-10 w-10 text-gray-400 hover:text-red-500",children:n.jsx(Dt,{className:"w-5 h-5"})})})]},x))}),n.jsxs(P,{variant:"secondary",onClick:d,className:"w-full bg-slate-500 text-white hover:bg-slate-600 h-10 border-none rounded-lg font-medium shadow-sm transition-all",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"})," Add stop"]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-end",children:[n.jsx("div",{className:"w-full md:w-64",children:n.jsxs("div",{className:"relative",children:[n.jsx(T,{className:"text-xs text-gray-400 font-bold mb-1 ml-1 block uppercase",children:s("date")}),n.jsxs("div",{className:"relative",children:[n.jsx(it,{className:"absolute left-3 top-2.5 w-5 h-5 text-white z-10 pointer-events-none mix-blend-difference"}),n.jsx(D,{type:"date",className:"h-10 pl-10 bg-slate-500 text-white border-none font-bold placeholder:text-gray-300 rounded-lg selection:bg-slate-600",value:l.date,min:o,onChange:p=>c({...l,date:p.target.value})})]})]})}),n.jsx("div",{className:"w-full md:w-auto",children:n.jsx(P,{onClick:m,className:"w-full bg-green-600 hover:bg-green-700 text-white h-10 font-bold",children:"Search"})})]})]})}):n.jsx("div",{className:"w-full max-w-6xl mx-auto",children:n.jsxs("div",{className:"flex flex-col gap-5",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Va,{label:s("startLocation"),placeholder:"City, Airport, or Hotel...",value:l.startLocation,onChange:p=>c({...l,startLocation:p}),iconColor:"text-green-400",variant:"dark"}),n.jsx(Va,{label:s("endLocation"),placeholder:"Where are you going?",value:l.endLocation,onChange:p=>c({...l,endLocation:p}),iconColor:"text-red-400",variant:"dark"})]}),l.stops.map((p,x)=>n.jsxs("div",{className:"flex gap-2 animate-in slide-in-from-top-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsx(Va,{label:`Stop ${x+1}`,placeholder:"Enter stop location...",value:p,onChange:g=>h(x,g),iconColor:"text-yellow-400",variant:"dark"})}),n.jsx("div",{className:"flex items-end pb-1",children:n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>u(x),className:"h-12 w-12 text-gray-400 hover:text-red-400 rounded-xl",children:n.jsx(Dt,{className:"w-5 h-5"})})})]},x)),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end",children:[n.jsxs("div",{className:"md:col-span-5 relative",children:[n.jsx(T,{className:"text-xs uppercase font-bold text-gray-400 mb-1 block",children:s("date")}),n.jsxs("div",{className:"relative",children:[n.jsx(it,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400 z-10 pointer-events-none"}),n.jsx(D,{type:"date",value:l.date,min:o,onChange:p=>c({...l,date:p.target.value}),className:"h-12 pl-10 bg-white/10 border-white/20 text-white rounded-xl text-base hover:border-green-400/50 focus:border-green-400 transition-colors placeholder:text-gray-400"})]})]}),n.jsx("div",{className:"md:col-span-3 relative",children:n.jsxs(P,{variant:"outline",onClick:d,className:"w-full h-12 border-dashed border-white/20 text-gray-300 hover:text-green-400 hover:border-green-400/50 hover:bg-green-500/10 rounded-xl transition-all",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"})," ",s("addStop")]})}),n.jsx("div",{className:"md:col-span-4 relative",children:n.jsx(P,{onClick:m,className:"w-full h-12 bg-green-500 hover:bg-green-400 text-white rounded-xl font-bold shadow-lg shadow-green-500/25 text-base transition-all hover:shadow-green-500/40 active:scale-[0.98]",children:s("searchCars")})})]})]})})};function GL(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...s)=>e(...s);return new Proxy(r,{get:(s,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}function Lu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Pf=e=>Array.isArray(e);function U2(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}function bl(e){return typeof e=="string"||Array.isArray(e)}function Vy(e){const t=[{},{}];return e==null||e.values.forEach((r,s)=>{t[0][s]=r.get(),t[1][s]=r.getVelocity()}),t}function Jg(e,t,r,s){if(typeof t=="function"){const[a,i]=Vy(s);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=Vy(s);t=t(r!==void 0?r:e.custom,a,i)}return t}function Fu(e,t,r){const s=e.getProps();return Jg(s,t,r!==void 0?r:s.custom,e)}const Zg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ex=["initial",...Zg],ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Da=new Set(ql),In=e=>e*1e3,Ln=e=>e/1e3,qL={type:"spring",stiffness:500,damping:25,restSpeed:10},KL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),YL={type:"keyframes",duration:.8},XL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QL=(e,{keyframes:t})=>t.length>2?YL:Da.has(e)?e.startsWith("scale")?KL(t[1]):qL:XL;function tx(e,t){return e?e[t]||e.default||e:void 0}const JL={skipAnimations:!1,useManualTiming:!1},ZL=e=>e!==null;function $u(e,{repeat:t,repeatType:r="loop"},s){const a=e.filter(ZL),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||s===void 0?a[i]:s}const gr=e=>e;let z2=gr;function e8(e){let t=new Set,r=new Set,s=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const p=h&&s?t:r;return u&&i.add(d),p.has(d)||p.add(d),d},cancel:d=>{r.delete(d),i.delete(d)},process:d=>{if(o=d,s){a=!0;return}s=!0,[t,r]=[r,t],t.forEach(l),t.clear(),s=!1,a&&(a=!1,c.process(d))}};return c}const Pc=["read","resolveKeyframes","update","preRender","render","postRender"],t8=40;function H2(e,t){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Pc.reduce((y,v)=>(y[v]=e8(i),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:m}=o,p=()=>{const y=performance.now();r=!1,a.delta=s?1e3/60:Math.max(Math.min(y-a.timestamp,t8),1),a.timestamp=y,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),m.process(a),a.isProcessing=!1,r&&t&&(s=!1,e(p))},x=()=>{r=!0,s=!0,a.isProcessing||e(p)};return{schedule:Pc.reduce((y,v)=>{const w=o[v];return y[v]=(j,S=!1,C=!1)=>(r||x(),w.schedule(j,S,C)),y},{}),cancel:y=>{for(let v=0;v<Pc.length;v++)o[Pc[v]].cancel(y)},state:a,steps:o}}const{schedule:Me,cancel:Xn,state:pt,steps:Gh}=H2(typeof requestAnimationFrame<"u"?requestAnimationFrame:gr,!0),W2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,r8=1e-7,n8=12;function s8(e,t,r,s,a){let i,o,l=0;do o=t+(r-t)/2,i=W2(o,s,a)-e,i>0?r=o:t=o;while(Math.abs(i)>r8&&++l<n8);return o}function Kl(e,t,r,s){if(e===t&&r===s)return gr;const a=i=>s8(i,0,1,e,r);return i=>i===0||i===1?i:W2(a(i),t,s)}const G2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,q2=e=>t=>1-e(1-t),K2=Kl(.33,1.53,.69,.99),rx=q2(K2),Y2=G2(rx),X2=e=>(e*=2)<1?.5*rx(e):.5*(2-Math.pow(2,-10*(e-1))),nx=e=>1-Math.sin(Math.acos(e)),Q2=q2(nx),J2=G2(nx),Z2=e=>/^0[^.\s]+$/u.test(e);function a8(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Z2(e):!0}const e4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),t4=e=>t=>typeof t=="string"&&t.startsWith(e),r4=t4("--"),i8=t4("var(--"),sx=e=>i8(e)?o8.test(e.split("/*")[0].trim()):!1,o8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,l8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c8(e){const t=l8.exec(e);if(!t)return[,];const[,r,s,a]=t;return[`--${r??s}`,a]}function n4(e,t,r=1){const[s,a]=c8(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return e4(o)?parseFloat(o):o}return sx(a)?n4(a,t,r+1):a}const Qn=(e,t,r)=>r>t?t:r<e?e:r,Qi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wl={...Qi,transform:e=>Qn(0,1,e)},Ac={...Qi,default:1},Yl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hs=Yl("deg"),vn=Yl("%"),se=Yl("px"),d8=Yl("vh"),u8=Yl("vw"),Uy={...vn,parse:e=>vn.parse(e)/100,transform:e=>vn.transform(e*100)},h8=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zy=e=>e===Qi||e===se,Hy=(e,t)=>parseFloat(e.split(", ")[t]),Wy=(e,t)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return Hy(a[1],t);{const i=s.match(/^matrix\((.+)\)$/u);return i?Hy(i[1],e):0}},m8=new Set(["x","y","z"]),f8=ql.filter(e=>!m8.has(e));function p8(e){const t=[];return f8.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t}const Ei={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Wy(4,13),y:Wy(5,14)};Ei.translateX=Ei.x;Ei.translateY=Ei.y;const s4=e=>t=>t.test(e),g8={test:e=>e==="auto",parse:e=>e},a4=[Qi,se,vn,hs,u8,d8,g8],Gy=e=>a4.find(s4(e)),ma=new Set;let Af=!1,Rf=!1;function i4(){if(Rf){const e=Array.from(ma).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),r=new Map;t.forEach(s=>{const a=p8(s);a.length&&(r.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Rf=!1,Af=!1,ma.forEach(e=>e.complete()),ma.clear()}function o4(){ma.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Rf=!0)})}function x8(){o4(),i4()}class ax{constructor(t,r,s,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ma.add(this),Af||(Af=!0,Me.read(o4),Me.resolveKeyframes(i4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:s,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&r){const c=s.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ma.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ma.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Vo=e=>Math.round(e*1e5)/1e5,ix=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v8(e){return e==null}const y8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ox=(e,t)=>r=>!!(typeof r=="string"&&y8.test(r)&&r.startsWith(e)||t&&!v8(r)&&Object.prototype.hasOwnProperty.call(r,t)),l4=(e,t,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(ix);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},b8=e=>Qn(0,255,e),qh={...Qi,transform:e=>Math.round(b8(e))},la={test:ox("rgb","red"),parse:l4("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+qh.transform(e)+", "+qh.transform(t)+", "+qh.transform(r)+", "+Vo(wl.transform(s))+")"};function w8(e){let t="",r="",s="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Df={test:ox("#"),parse:w8,transform:la.transform},ri={test:ox("hsl","hue"),parse:l4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+vn.transform(Vo(t))+", "+vn.transform(Vo(r))+", "+Vo(wl.transform(s))+")"},Ct={test:e=>la.test(e)||Df.test(e)||ri.test(e),parse:e=>la.test(e)?la.parse(e):ri.test(e)?ri.parse(e):Df.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?la.transform(e):ri.transform(e)},j8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function N8(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ix))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(j8))===null||r===void 0?void 0:r.length)||0)>0}const c4="number",d4="color",_8="var",S8="var(",qy="${}",C8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jl(e){const t=e.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(C8,c=>(Ct.test(c)?(s.color.push(i),a.push(d4),r.push(Ct.parse(c))):c.startsWith(S8)?(s.var.push(i),a.push(_8),r.push(c)):(s.number.push(i),a.push(c4),r.push(parseFloat(c))),++i,qy)).split(qy);return{values:r,split:l,indexes:s,types:a}}function u4(e){return jl(e).values}function h4(e){const{split:t,types:r}=jl(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===c4?i+=Vo(a[o]):l===d4?i+=Ct.transform(a[o]):i+=a[o]}return i}}const k8=e=>typeof e=="number"?0:e;function T8(e){const t=u4(e);return h4(e)(t.map(k8))}const Ls={test:N8,parse:u4,createTransformer:h4,getAnimatableNone:T8},E8=new Set(["brightness","contrast","saturate","opacity"]);function P8(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(ix)||[];if(!s)return e;const a=r.replace(s,"");let i=E8.has(t)?1:0;return s!==r&&(i*=100),t+"("+i+a+")"}const A8=/\b([a-z-]*)\(.*?\)/gu,Mf={...Ls,getAnimatableNone:e=>{const t=e.match(A8);return t?t.map(P8).join(" "):e}},R8={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,backgroundPositionX:se,backgroundPositionY:se},D8={rotate:hs,rotateX:hs,rotateY:hs,rotateZ:hs,scale:Ac,scaleX:Ac,scaleY:Ac,scaleZ:Ac,skew:hs,skewX:hs,skewY:hs,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:wl,originX:Uy,originY:Uy,originZ:se},Ky={...Qi,transform:Math.round},lx={...R8,...D8,zIndex:Ky,size:se,fillOpacity:wl,strokeOpacity:wl,numOctaves:Ky},M8={...lx,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:Mf,WebkitFilter:Mf},cx=e=>M8[e];function m4(e,t){let r=cx(e);return r!==Mf&&(r=Ls),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const O8=new Set(["auto","none","0"]);function I8(e,t,r){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!O8.has(i)&&jl(i).values.length&&(a=e[s]),s++}if(a&&r)for(const i of t)e[i]=m4(r,a)}class f4 extends ax{constructor(t,r,s,a,i){super(t,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),sx(d))){const u=n4(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!h8.has(s)||t.length!==2)return;const[a,i]=t,o=Gy(a),l=Gy(i);if(o!==l)if(zy(o)&&zy(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,s=[];for(let a=0;a<t.length;a++)a8(t[a])&&s.push(a);s.length&&I8(t,s,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ei[s](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:s,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(s);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=Ei[s](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function dx(e){return typeof e=="function"}let ed;function L8(){ed=void 0}const yn={now:()=>(ed===void 0&&yn.set(pt.isProcessing||JL.useManualTiming?pt.timestamp:performance.now()),ed),set:e=>{ed=e,queueMicrotask(L8)}},Yy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ls.test(e)||e==="0")&&!e.startsWith("url("));function F8(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function $8(e,t,r,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Yy(a,t),l=Yy(i,t);return!o||!l?!1:F8(e)||(r==="spring"||dx(r))&&s}const B8=40;class p4{constructor({autoplay:t=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yn.now(),this.options={autoplay:t,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>B8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&x8(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=yn.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!$8(t,s,a,i))if(o)this.options.duration=0;else{c==null||c($u(t,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Pi=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s},g4=(e,t,r=10)=>{let s="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)s+=e(Pi(0,a-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function x4(e,t){return t?e*(1e3/t):0}const V8=5;function v4(e,t,r){const s=Math.max(t-V8,0);return x4(r-e(s),t-s)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kh=.001;function U8({duration:e=Ye.duration,bounce:t=Ye.bounce,velocity:r=Ye.velocity,mass:s=Ye.mass}){let a,i,o=1-t;o=Qn(Ye.minDamping,Ye.maxDamping,o),e=Qn(Ye.minDuration,Ye.maxDuration,Ln(e)),o<1?(a=d=>{const u=d*o,h=u*e,m=u-r,p=Of(d,o),x=Math.exp(-h);return Kh-m/p*x},i=d=>{const h=d*o*e,m=h*r+r,p=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-h),g=Of(Math.pow(d,2),o);return(-a(d)+Kh>0?-1:1)*((m-p)*x)/g}):(a=d=>{const u=Math.exp(-d*e),h=(d-r)*e+1;return-Kh+u*h},i=d=>{const u=Math.exp(-d*e),h=(r-d)*(e*e);return u*h});const l=5/e,c=H8(a,i,l);if(e=In(e),isNaN(c))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const z8=12;function H8(e,t,r){let s=r;for(let a=1;a<z8;a++)s=s-e(s)/t(s);return s}function Of(e,t){return e*Math.sqrt(1-t*t)}const If=2e4;function y4(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<If;)t+=r,s=e.next(t);return t>=If?1/0:t}const W8=["duration","bounce"],G8=["stiffness","damping","mass"];function Xy(e,t){return t.some(r=>e[r]!==void 0)}function q8(e){let t={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...e};if(!Xy(e,G8)&&Xy(e,W8))if(e.visualDuration){const r=e.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*Qn(.05,1,1-e.bounce)*Math.sqrt(a);t={...t,mass:Ye.mass,stiffness:a,damping:i}}else{const r=U8(e);t={...t,...r,mass:Ye.mass},t.isResolvedFromDuration=!0}return t}function b4(e=Ye.visualDuration,t=Ye.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:p}=q8({...r,velocity:-Ln(r.velocity||0)}),x=m||0,g=d/(2*Math.sqrt(c*u)),b=o-i,y=Ln(Math.sqrt(c/u)),v=Math.abs(b)<5;s||(s=v?Ye.restSpeed.granular:Ye.restSpeed.default),a||(a=v?Ye.restDelta.granular:Ye.restDelta.default);let w;if(g<1){const S=Of(y,g);w=C=>{const N=Math.exp(-g*y*C);return o-N*((x+g*y*b)/S*Math.sin(S*C)+b*Math.cos(S*C))}}else if(g===1)w=S=>o-Math.exp(-y*S)*(b+(x+y*b)*S);else{const S=y*Math.sqrt(g*g-1);w=C=>{const N=Math.exp(-g*y*C),_=Math.min(S*C,300);return o-N*((x+g*y*b)*Math.sinh(_)+S*b*Math.cosh(_))/S}}const j={calculatedDuration:p&&h||null,next:S=>{const C=w(S);if(p)l.done=S>=h;else{let N=0;g<1&&(N=S===0?In(x):v4(w,S,C));const _=Math.abs(N)<=s,E=Math.abs(o-C)<=a;l.done=_&&E}return l.value=l.done?o:C,l},toString:()=>{const S=Math.min(y4(j),If),C=g4(N=>j.next(S*N).value,S,30);return S+"ms "+C}};return j}function Qy({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,x=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let g=r*t;const b=h+g,y=o===void 0?b:o(b);y!==b&&(g=y-h);const v=_=>-g*Math.exp(-_/s),w=_=>y+v(_),j=_=>{const E=v(_),k=w(_);m.done=Math.abs(E)<=d,m.value=m.done?y:k};let S,C;const N=_=>{p(m.value)&&(S=_,C=b4({keyframes:[m.value,x(m.value)],velocity:v4(w,_,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:_=>{let E=!1;return!C&&S===void 0&&(E=!0,j(_),N(_)),S!==void 0&&_>=S?C.next(_-S):(!E&&j(_),m)}}}const K8=Kl(.42,0,1,1),Y8=Kl(0,0,.58,1),w4=Kl(.42,0,.58,1),X8=e=>Array.isArray(e)&&typeof e[0]!="number",ux=e=>Array.isArray(e)&&typeof e[0]=="number",Q8={linear:gr,easeIn:K8,easeInOut:w4,easeOut:Y8,circIn:nx,circInOut:J2,circOut:Q2,backIn:rx,backInOut:Y2,backOut:K2,anticipate:X2},Jy=e=>{if(ux(e)){z2(e.length===4);const[t,r,s,a]=e;return Kl(t,r,s,a)}else if(typeof e=="string")return Q8[e];return e},J8=(e,t)=>r=>t(e(r)),Xl=(...e)=>e.reduce(J8),ze=(e,t,r)=>e+(t-e)*r;function Yh(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Z8({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=Yh(c,l,e+1/3),i=Yh(c,l,e),o=Yh(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Fd(e,t){return r=>r>0?t:e}const Xh=(e,t,r)=>{const s=e*e,a=r*(t*t-s)+s;return a<0?0:Math.sqrt(a)},e7=[Df,la,ri],t7=e=>e7.find(t=>t.test(e));function Zy(e){const t=t7(e);if(!t)return!1;let r=t.parse(e);return t===ri&&(r=Z8(r)),r}const eb=(e,t)=>{const r=Zy(e),s=Zy(t);if(!r||!s)return Fd(e,t);const a={...r};return i=>(a.red=Xh(r.red,s.red,i),a.green=Xh(r.green,s.green,i),a.blue=Xh(r.blue,s.blue,i),a.alpha=ze(r.alpha,s.alpha,i),la.transform(a))},Lf=new Set(["none","hidden"]);function r7(e,t){return Lf.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function n7(e,t){return r=>ze(e,t,r)}function hx(e){return typeof e=="number"?n7:typeof e=="string"?sx(e)?Fd:Ct.test(e)?eb:i7:Array.isArray(e)?j4:typeof e=="object"?Ct.test(e)?eb:s7:Fd}function j4(e,t){const r=[...e],s=r.length,a=e.map((i,o)=>hx(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function s7(e,t){const r={...e,...t},s={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(s[a]=hx(e[a])(e[a],t[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function a7(e,t){var r;const s=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;s[i]=c,a[o]++}return s}const i7=(e,t)=>{const r=Ls.createTransformer(t),s=jl(e),a=jl(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Lf.has(e)&&!a.values.length||Lf.has(t)&&!s.values.length?r7(e,t):Xl(j4(a7(s,a),a.values),r):Fd(e,t)};function N4(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ze(e,t,r):hx(e)(e,t)}function o7(e,t,r){const s=[],a=r||N4,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||gr:t;l=Xl(c,l)}s.push(l)}return s}function _4(e,t,{clamp:r=!0,ease:s,mixer:a}={}){const i=e.length;if(z2(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=o7(t,s,a),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=Pi(e[u],e[u+1],d);return o[u](h)};return r?d=>c(Qn(e[0],e[i-1],d)):c}function l7(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const a=Pi(0,t,s);e.push(ze(r,1,a))}}function c7(e){const t=[0];return l7(t,e.length-1),t}function d7(e,t){return e.map(r=>r*t)}function u7(e,t){return e.map(()=>t||w4).splice(0,e.length-1)}function $d({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const a=X8(s)?s.map(Jy):Jy(s),i={done:!1,value:t[0]},o=d7(r&&r.length===t.length?r:c7(t),e),l=_4(o,t,{ease:Array.isArray(a)?a:u7(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const h7=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Me.update(t,!0),stop:()=>Xn(t),now:()=>pt.isProcessing?pt.timestamp:yn.now()}},m7={decay:Qy,inertia:Qy,tween:$d,keyframes:$d,spring:b4},f7=e=>e/100;class mx extends p4{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:s,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||ax,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,r,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=dx(r)?r:m7[r]||$d;let c,d;l!==$d&&typeof t[0]!="number"&&(c=Xl(f7,N4(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=y4(u));const{calculatedDuration:h}=u,m=h+a,p=m*(s+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:s}=this;if(!s){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=s;if(this.startTime===null)return i.next(0);const{delay:m,repeat:p,repeatType:x,repeatDelay:g,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-m*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,j=i;if(p){const _=Math.min(this.currentTime,u)/h;let E=Math.floor(_),k=_%1;!k&&_>=1&&(k=1),k===1&&E--,E=Math.min(E,p+1),!!(E%2)&&(x==="reverse"?(k=1-k,g&&(k-=g/h)):x==="mirror"&&(j=o)),w=Qn(0,1,k)*h}const S=v?{done:!1,value:c[0]}:j.next(w);l&&(S.value=l(S.value));let{done:C}=S;!v&&d!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return N&&a!==void 0&&(S.value=$u(c,this.options,a)),b&&b(S.value),N&&this.finish(),S}get duration(){const{resolved:t}=this;return t?Ln(t.calculatedDuration):0}get time(){return Ln(this.currentTime)}set time(t){t=In(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ln(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=h7,onPlay:r,startTime:s}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const p7=new Set(["opacity","clipPath","filter","transform"]);function fx(e){let t;return()=>(t===void 0&&(t=e()),t)}const g7={linearEasing:void 0};function x7(e,t){const r=fx(e);return()=>{var s;return(s=g7[t])!==null&&s!==void 0?s:r()}}const Bd=x7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function S4(e){return!!(typeof e=="function"&&Bd()||!e||typeof e=="string"&&(e in Ff||Bd())||ux(e)||Array.isArray(e)&&e.every(S4))}const Co=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,Ff={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Co([0,.65,.55,1]),circOut:Co([.55,0,1,.45]),backIn:Co([.31,.01,.66,-.59]),backOut:Co([.33,1.53,.69,.99])};function C4(e,t){if(e)return typeof e=="function"&&Bd()?g4(e,t):ux(e)?Co(e):Array.isArray(e)?e.map(r=>C4(r,t)||Ff.easeOut):Ff[e]}function v7(e,t,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=C4(l,a);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:s,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function tb(e,t){e.timeline=t,e.onfinish=null}const y7=fx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vd=10,b7=2e4;function w7(e){return dx(e.type)||e.type==="spring"||!S4(e.ease)}function j7(e,t){const r=new mx({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const a=[];let i=0;for(;!s.done&&i<b7;)s=r.sample(i),a.push(s.value),i+=Vd;return{times:void 0,keyframes:a,duration:i-Vd,ease:"linear"}}const k4={anticipate:X2,backInOut:Y2,circInOut:J2};function N7(e){return e in k4}class rb extends p4{constructor(t){super(t);const{name:r,motionValue:s,element:a,keyframes:i}=this.options;this.resolver=new f4(i,(o,l)=>this.onKeyframesResolved(o,l),r,s,a),this.resolver.scheduleResolve()}initPlayback(t,r){var s;let{duration:a=300,times:i,ease:o,type:l,motionValue:c,name:d,startTime:u}=this.options;if(!(!((s=c.owner)===null||s===void 0)&&s.current))return!1;if(typeof o=="string"&&Bd()&&N7(o)&&(o=k4[o]),w7(this.options)){const{onComplete:m,onUpdate:p,motionValue:x,element:g,...b}=this.options,y=j7(t,b);t=y.keyframes,t.length===1&&(t[1]=t[0]),a=y.duration,i=y.times,o=y.ease,l="keyframes"}const h=v7(c.owner.current,d,t,{...this.options,duration:a,times:i,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(tb(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:m}=this.options;c.set($u(t,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:a,times:i,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Ln(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Ln(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.currentTime=In(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return gr;const{animation:s}=r;tb(s,t)}return gr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:s,duration:a,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...p}=this.options,x=new mx({...p,keyframes:s,duration:a,type:i,ease:o,times:l,isGenerator:!0}),g=In(this.time);d.setWithVelocity(x.sample(g-Vd).value,x.sample(g).value,Vd)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:s,repeatDelay:a,repeatType:i,damping:o,type:l}=t;return y7()&&s&&p7.has(s)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const _7=fx(()=>window.ScrollTimeline!==void 0);class S7{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=r}attachTimeline(t,r){const s=this.animations.map(a=>_7()&&a.attachTimeline?a.attachTimeline(t):r(a));return()=>{s.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function C7({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const px=(e,t,r,s={},a,i)=>o=>{const l=tx(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-In(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};C7(l)||(u={...u,...QL(e,u)}),u.duration&&(u.duration=In(u.duration)),u.repeatDelay&&(u.repeatDelay=In(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const m=$u(u.keyframes,l);if(m!==void 0)return Me.update(()=>{u.onUpdate(m),u.onComplete()}),new S7([])}return!i&&rb.supports(u)?new rb(u):new mx(u)},k7=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),T7=e=>Pf(e)?e[e.length-1]||0:e;function gx(e,t){e.indexOf(t)===-1&&e.push(t)}function xx(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function E7([...e],t,r){const s=t<0?e.length+t:t;if(s>=0&&s<e.length){const a=r<0?e.length+r:r,[i]=e.splice(t,1);e.splice(a,0,i)}return e}class vx{constructor(){this.subscriptions=[]}add(t){return gx(this.subscriptions,t),()=>xx(this.subscriptions,t)}notify(t,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nb=30,P7=e=>!isNaN(parseFloat(e)),Uo={current:void 0};class A7{constructor(t,r={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const i=yn.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=P7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new vx);const s=this.events[t].add(r);return t==="change"?()=>{s(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Uo.current&&Uo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>nb)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,nb);return x4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ai(e,t){return new A7(e,t)}function R7(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ai(r))}function D7(e,t){const r=Fu(e,t);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const l=T7(i[o]);R7(e,o,l)}}const yx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M7="framerAppearId",T4="data-"+yx(M7);function E4(e){return e.props[T4]}const gt=e=>!!(e&&e.getVelocity);function O7(e){return!!(gt(e)&&e.add)}function $f(e,t){const r=e.getValue("willChange");if(O7(r))return r.add(t)}function I7({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function P4(e,t,{delay:r=0,transitionOverride:s,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;s&&(o=s);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in c){const m=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=c[h];if(p===void 0||u&&I7(u,h))continue;const x={delay:r,...tx(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const y=E4(e);if(y){const v=window.MotionHandoffAnimation(y,h,Me);v!==null&&(x.startTime=v,g=!0)}}$f(e,h),m.start(px(h,m,p,e.shouldReduceMotion&&Da.has(h)?{type:!1}:x,e,g));const b=m.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{Me.update(()=>{l&&D7(e,l)})}),d}function Bf(e,t,r={}){var s;const a=Fu(e,t,r.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(P4(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=i;return L7(e,t,u+d,h,m,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function L7(e,t,r=0,s=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*s,c=a===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(F7).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Bf(d,t,{...i,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function F7(e,t){return e.sortNodePosition(t)}function $7(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>Bf(e,i,r));s=Promise.all(a)}else if(typeof t=="string")s=Bf(e,t,r);else{const a=typeof t=="function"?Fu(e,t,r.custom):t;s=Promise.all(P4(e,a,r))}return s.then(()=>{e.notify("AnimationComplete",t)})}const B7=ex.length;function A4(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?A4(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<B7;r++){const s=ex[r],a=e.props[s];(bl(a)||a===!1)&&(t[s]=a)}return t}const V7=[...Zg].reverse(),U7=Zg.length;function z7(e){return t=>Promise.all(t.map(({animation:r,options:s})=>$7(e,r,s)))}function H7(e){let t=z7(e),r=sb(),s=!0;const a=c=>(d,u)=>{var h;const m=Fu(e,u,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:x,...g}=m;d={...d,...g,...x}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=A4(e.parent)||{},h=[],m=new Set;let p={},x=1/0;for(let b=0;b<U7;b++){const y=V7[b],v=r[y],w=d[y]!==void 0?d[y]:u[y],j=bl(w),S=y===c?v.isActive:null;S===!1&&(x=b);let C=w===u[y]&&w!==d[y]&&j;if(C&&s&&e.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...p},!v.isActive&&S===null||!w&&!v.prevProp||Lu(w)||typeof w=="boolean")continue;const N=W7(v.prevProp,w);let _=N||y===c&&v.isActive&&!C&&j||b>x&&j,E=!1;const k=Array.isArray(w)?w:[w];let $=k.reduce(a(y),{});S===!1&&($={});const{prevResolvedValues:F={}}=v,H={...F,...$},B=U=>{_=!0,m.has(U)&&(E=!0,m.delete(U)),v.needsAnimating[U]=!0;const R=e.getValue(U);R&&(R.liveStyle=!1)};for(const U in H){const R=$[U],I=F[U];if(p.hasOwnProperty(U))continue;let V=!1;Pf(R)&&Pf(I)?V=!U2(R,I):V=R!==I,V?R!=null?B(U):m.add(U):R!==void 0&&m.has(U)?B(U):v.protectedKeys[U]=!0}v.prevProp=w,v.prevResolvedValues=$,v.isActive&&(p={...p,...$}),s&&e.blockInitialAnimation&&(_=!1),_&&(!(C&&N)||E)&&h.push(...k.map(U=>({animation:U,options:{type:y}})))}if(m.size){const b={};m.forEach(y=>{const v=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),b[y]=v??null}),h.push({animation:b})}let g=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),s=!1,g?t(h):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(c,d)}),r[c].isActive=d;const h=o(c);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=sb(),s=!0}}}function W7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!U2(t,e):!1}function Ys(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sb(){return{animate:Ys(!0),whileInView:Ys(),whileHover:Ys(),whileTap:Ys(),whileDrag:Ys(),whileFocus:Ys(),exit:Ys()}}class Hs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class G7 extends Hs{constructor(t){super(t),t.animationState||(t.animationState=H7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Lu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let q7=0;class K7 extends Hs{constructor(){super(...arguments),this.id=q7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Y7={animation:{Feature:G7},exit:{Feature:K7}},Wr={x:!1,y:!1};function R4(){return Wr.x||Wr.y}function X7(e,t,r){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;t&&(a=t.current);const i=(s=r==null?void 0:r[e])!==null&&s!==void 0?s:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function D4(e,t){const r=X7(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[r,a,()=>s.abort()]}function ab(e){return t=>{t.pointerType==="touch"||R4()||e(t)}}function Q7(e,t,r={}){const[s,a,i]=D4(e,r),o=ab(l=>{const{target:c}=l,d=t(l);if(!d||!c)return;const u=ab(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,a)});return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const bx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ko=new WeakSet;function ib(e){return t=>{t.key==="Enter"&&e(t)}}function Qh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const J7=(e,t)=>{const r=e.currentTarget;if(!r)return;const s=ib(()=>{if(ko.has(r))return;Qh(r,"down");const a=ib(()=>{Qh(r,"up")}),i=()=>Qh(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",s,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),t)},Z7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e9(e){return Z7.has(e.tagName)||e.tabIndex!==-1}const M4=(e,t)=>t?e===t?!0:M4(e,t.parentElement):!1;function ob(e){return bx(e)&&!R4()}function t9(e,t,r={}){const[s,a,i]=D4(e,r),o=l=>{const c=l.currentTarget;if(!ob(l)||ko.has(c))return;ko.add(c);const d=t(l),u=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!ob(p)||!ko.has(c))&&(ko.delete(c),d&&d(p,{success:x}))},h=p=>{u(p,r.useGlobalTarget||M4(c,p.target))},m=p=>{u(p,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",m,a)};return s.forEach(l=>{e9(l)||(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",d=>J7(d,a),a)}),i}function r9(e){return e==="x"||e==="y"?Wr[e]?null:(Wr[e]=!0,()=>{Wr[e]=!1}):Wr.x||Wr.y?null:(Wr.x=Wr.y=!0,()=>{Wr.x=Wr.y=!1})}function Ql(e){return{point:{x:e.pageX,y:e.pageY}}}const n9=e=>t=>bx(t)&&e(t,Ql(t));function Nl(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}function zo(e,t,r,s){return Nl(e,t,n9(r),s)}const lb=(e,t)=>Math.abs(e-t);function s9(e,t){const r=lb(e.x,t.x),s=lb(e.y,t.y);return Math.sqrt(r**2+s**2)}class O4{constructor(t,r,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Zh(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=s9(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:x}=h,{timestamp:g}=pt;this.history.push({...x,timestamp:g});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Jh(m,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Zh(h.type==="pointercancel"?this.lastMoveEventInfo:Jh(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),x&&x(h,b)},!bx(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.contextWindow=a||window;const o=Ql(t),l=Jh(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=pt;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,Zh(l,this.history)),this.removeListeners=Xl(zo(this.contextWindow,"pointermove",this.handlePointerMove),zo(this.contextWindow,"pointerup",this.handlePointerUp),zo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xn(this.updatePoint)}}function Jh(e,t){return t?{point:t(e.point)}:e}function cb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zh({point:e},t){return{point:e,delta:cb(e,I4(t)),offset:cb(e,a9(t)),velocity:i9(t,.1)}}function a9(e){return e[0]}function I4(e){return e[e.length-1]}function i9(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const a=I4(e);for(;r>=0&&(s=e[r],!(a.timestamp-s.timestamp>In(t)));)r--;if(!s)return{x:0,y:0};const i=Ln(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ni(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const L4=1e-4,o9=1-L4,l9=1+L4,F4=.01,c9=0-F4,d9=0+F4;function wr(e){return e.max-e.min}function u9(e,t,r){return Math.abs(e-t)<=r}function db(e,t,r,s=.5){e.origin=s,e.originPoint=ze(t.min,t.max,e.origin),e.scale=wr(r)/wr(t),e.translate=ze(r.min,r.max,e.origin)-e.originPoint,(e.scale>=o9&&e.scale<=l9||isNaN(e.scale))&&(e.scale=1),(e.translate>=c9&&e.translate<=d9||isNaN(e.translate))&&(e.translate=0)}function Ho(e,t,r,s){db(e.x,t.x,r.x,s?s.originX:void 0),db(e.y,t.y,r.y,s?s.originY:void 0)}function ub(e,t,r){e.min=r.min+t.min,e.max=e.min+wr(t)}function h9(e,t,r){ub(e.x,t.x,r.x),ub(e.y,t.y,r.y)}function hb(e,t,r){e.min=t.min-r.min,e.max=e.min+wr(t)}function Wo(e,t,r){hb(e.x,t.x,r.x),hb(e.y,t.y,r.y)}function m9(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?ze(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?ze(r,e,s.max):Math.min(e,r)),e}function mb(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function f9(e,{top:t,left:r,bottom:s,right:a}){return{x:mb(e.x,r,a),y:mb(e.y,t,s)}}function fb(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function p9(e,t){return{x:fb(e.x,t.x),y:fb(e.y,t.y)}}function g9(e,t){let r=.5;const s=wr(e),a=wr(t);return a>s?r=Pi(t.min,t.max-s,e.min):s>a&&(r=Pi(e.min,e.max-a,t.min)),Qn(0,1,r)}function x9(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Vf=.35;function v9(e=Vf){return e===!1?e=0:e===!0&&(e=Vf),{x:pb(e,"left","right"),y:pb(e,"top","bottom")}}function pb(e,t,r){return{min:gb(e,t),max:gb(e,r)}}function gb(e,t){return typeof e=="number"?e:e[t]||0}const xb=()=>({translate:0,scale:1,origin:0,originPoint:0}),si=()=>({x:xb(),y:xb()}),vb=()=>({min:0,max:0}),Je=()=>({x:vb(),y:vb()});function Cr(e){return[e("x"),e("y")]}function $4({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function y9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function b9(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function em(e){return e===void 0||e===1}function Uf({scale:e,scaleX:t,scaleY:r}){return!em(e)||!em(t)||!em(r)}function Zs(e){return Uf(e)||B4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function B4(e){return yb(e.x)||yb(e.y)}function yb(e){return e&&e!=="0%"}function Ud(e,t,r){const s=e-r,a=t*s;return r+a}function bb(e,t,r,s,a){return a!==void 0&&(e=Ud(e,a,s)),Ud(e,r,s)+t}function zf(e,t=0,r=1,s,a){e.min=bb(e.min,t,r,s,a),e.max=bb(e.max,t,r,s,a)}function V4(e,{x:t,y:r}){zf(e.x,t.translate,t.scale,t.originPoint),zf(e.y,r.translate,r.scale,r.originPoint)}const wb=.999999999999,jb=1.0000000000001;function w9(e,t,r,s=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ii(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,V4(e,o)),s&&Zs(i.latestValues)&&ii(e,i.latestValues))}t.x<jb&&t.x>wb&&(t.x=1),t.y<jb&&t.y>wb&&(t.y=1)}function ai(e,t){e.min=e.min+t,e.max=e.max+t}function Nb(e,t,r,s,a=.5){const i=ze(e.min,e.max,a);zf(e,t,r,i,s)}function ii(e,t){Nb(e.x,t.x,t.scaleX,t.scale,t.originX),Nb(e.y,t.y,t.scaleY,t.scale,t.originY)}function U4(e,t){return $4(b9(e.getBoundingClientRect(),t))}function j9(e,t,r){const s=U4(e,r),{scroll:a}=t;return a&&(ai(s.x,a.offset.x),ai(s.y,a.offset.y)),s}const z4=({current:e})=>e?e.ownerDocument.defaultView:null,N9=new WeakMap;class _9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ql(u).point)},i=(u,h)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r9(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cr(b=>{let y=this.getAxisMotionValue(b).get()||0;if(vn.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[b];w&&(y=wr(w)*(parseFloat(y)/100))}}this.originPoint[b]=y}),x&&Me.postRender(()=>x(u,h)),$f(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:g}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=S9(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),g&&g(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Cr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new O4(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:z4(this.visualElement)})}stop(t,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Me.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:a}=this.getProps();if(!s||!Rc(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=m9(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&ni(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=f9(a.layoutBox,r):this.constraints=!1,this.elastic=v9(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Cr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=x9(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ni(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=j9(s,a.root,this.visualElement.getTransformPagePoint());let o=p9(a.layout.layoutBox,i);if(r){const l=r(y9(o));this.hasMutatedConstraints=!!l,l&&(o=$4(l))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Cr(u=>{if(!Rc(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=a?200:1e6,p=a?40:1e7,x={type:"inertia",velocity:s?t[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return $f(this.visualElement,t),s.start(px(t,s,0,r,this.visualElement,!1))}stopAnimation(){Cr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Cr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Cr(r=>{const{drag:s}=this.getProps();if(!Rc(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-ze(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!ni(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Cr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=g9({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Cr(o=>{if(!Rc(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ze(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;N9.set(this.visualElement,this);const t=this.visualElement.current,r=zo(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();ni(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Me.read(s);const o=Nl(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Cr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Vf,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Rc(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function S9(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class C9 extends Hs{constructor(t){super(t),this.removeGroupControls=gr,this.removeListeners=gr,this.controls=new _9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const _b=e=>(t,r)=>{e&&Me.postRender(()=>e(t,r))};class k9 extends Hs{constructor(){super(...arguments),this.removePointerDownListener=gr}onPointerDown(t){this.session=new O4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:_b(t),onStart:_b(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&Me.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=zo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wx=f.createContext(null);function T9(){const e=f.useContext(wx);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=f.useId();f.useEffect(()=>s(a),[]);const i=f.useCallback(()=>r&&r(a),[a,r]);return!t&&r?[!1,i]:[!0]}const H4=f.createContext({}),W4=f.createContext({}),td={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const go={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(se.test(e))e=parseFloat(e);else return e;const r=Sb(e,t.target.x),s=Sb(e,t.target.y);return`${r}% ${s}%`}},E9={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,a=Ls.parse(e);if(a.length>5)return s;const i=Ls.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=ze(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}},zd={};function P9(e){Object.assign(zd,e)}const{schedule:jx,cancel:OW}=H2(queueMicrotask,!1);class A9 extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;P9(R9),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),td.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Me.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),jx.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function G4(e){const[t,r]=T9(),s=f.useContext(H4);return n.jsx(A9,{...e,layoutGroup:s,switchLayoutGroup:f.useContext(W4),isPresent:t,safeToRemove:r})}const R9={borderRadius:{...go,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:go,borderTopRightRadius:go,borderBottomLeftRadius:go,borderBottomRightRadius:go,boxShadow:E9},q4=["TopLeft","TopRight","BottomLeft","BottomRight"],D9=q4.length,Cb=e=>typeof e=="string"?parseFloat(e):e,kb=e=>typeof e=="number"||se.test(e);function M9(e,t,r,s,a,i){a?(e.opacity=ze(0,r.opacity!==void 0?r.opacity:1,O9(s)),e.opacityExit=ze(t.opacity!==void 0?t.opacity:1,0,I9(s))):i&&(e.opacity=ze(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let o=0;o<D9;o++){const l=`border${q4[o]}Radius`;let c=Tb(t,l),d=Tb(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||kb(c)===kb(d)?(e[l]=Math.max(ze(Cb(c),Cb(d),s),0),(vn.test(d)||vn.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=ze(t.rotate||0,r.rotate||0,s))}function Tb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const O9=K4(0,.5,Q2),I9=K4(.5,.95,gr);function K4(e,t,r){return s=>s<e?0:s>t?1:r(Pi(e,t,s))}function Eb(e,t){e.min=t.min,e.max=t.max}function Sr(e,t){Eb(e.x,t.x),Eb(e.y,t.y)}function Pb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ab(e,t,r,s,a){return e-=t,e=Ud(e,1/r,s),a!==void 0&&(e=Ud(e,1/a,s)),e}function L9(e,t=0,r=1,s=.5,a,i=e,o=e){if(vn.test(t)&&(t=parseFloat(t),t=ze(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ze(i.min,i.max,s);e===i&&(l-=t),e.min=Ab(e.min,t,r,l,a),e.max=Ab(e.max,t,r,l,a)}function Rb(e,t,[r,s,a],i,o){L9(e,t[r],t[s],t[a],t.scale,i,o)}const F9=["x","scaleX","originX"],$9=["y","scaleY","originY"];function Db(e,t,r,s){Rb(e.x,t,F9,r?r.x:void 0,s?s.x:void 0),Rb(e.y,t,$9,r?r.y:void 0,s?s.y:void 0)}function Mb(e){return e.translate===0&&e.scale===1}function Y4(e){return Mb(e.x)&&Mb(e.y)}function Ob(e,t){return e.min===t.min&&e.max===t.max}function B9(e,t){return Ob(e.x,t.x)&&Ob(e.y,t.y)}function Ib(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function X4(e,t){return Ib(e.x,t.x)&&Ib(e.y,t.y)}function Lb(e){return wr(e.x)/wr(e.y)}function Fb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class V9{constructor(){this.members=[]}add(t){gx(this.members,t),t.scheduleRender()}remove(t){if(xx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function U9(e,t,r){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:p,skewY:x}=r;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),m&&(s+=`rotateY(${m}deg) `),p&&(s+=`skewX(${p}deg) `),x&&(s+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const z9=(e,t)=>e.depth-t.depth;class H9{constructor(){this.children=[],this.isDirty=!1}add(t){gx(this.children,t),this.isDirty=!0}remove(t){xx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(z9),this.isDirty=!1,this.children.forEach(t)}}function rd(e){const t=gt(e)?e.get():e;return k7(t)?t.toValue():t}function W9(e,t){const r=yn.now(),s=({timestamp:a})=>{const i=a-r;i>=t&&(Xn(s),e(i-t))};return Me.read(s,!0),()=>Xn(s)}function G9(e){return e instanceof SVGElement&&e.tagName!=="svg"}function q9(e,t,r){const s=gt(e)?e:Ai(e);return s.start(px("",s,t,r)),s.animation}const ea={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},To=typeof window<"u"&&window.MotionDebug!==void 0,tm=["","X","Y","Z"],K9={visibility:"hidden"},$b=1e3;let Y9=0;function rm(e,t,r,s){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Q4(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=E4(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Me,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Q4(s)}function J4({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Y9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,To&&(ea.totalNodes=ea.resolvedTargetDeltas=ea.recalculatedProjection=0),this.nodes.forEach(J9),this.nodes.forEach(nF),this.nodes.forEach(sF),this.nodes.forEach(Z9),To&&window.MotionDebug.record(ea)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new H9)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vx),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=G9(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=W9(m,250),td.hasAnimatedSinceResize&&(td.hasAnimatedSinceResize=!1,this.nodes.forEach(Vb))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||cF,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!X4(this.targetLayout,x)||p,w=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const j={...tx(g,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||Vb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bb);return}this.isUpdating||this.nodes.forEach(tF),this.isUpdating=!1,this.nodes.forEach(rF),this.nodes.forEach(X9),this.nodes.forEach(Q9),this.clearAllSnapshots();const l=yn.now();pt.delta=Qn(0,1e3/60,l-pt.timestamp),pt.timestamp=l,pt.isProcessing=!0,Gh.update.process(pt),Gh.preRender.process(pt),Gh.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eF),this.sharedNodes.forEach(iF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Y4(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Zs(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),dF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Je();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(uF))){const{scroll:u}=this.root;u&&(ai(c.x,u.offset.x),ai(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=Je();if(Sr(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Sr(c,o),ai(c.x,h.offset.x),ai(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=Je();Sr(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ii(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Zs(u.latestValues)&&ii(c,u.latestValues)}return Zs(this.latestValues)&&ii(c,this.latestValues),c}removeTransform(o){const l=Je();Sr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Zs(d.latestValues))continue;Uf(d.latestValues)&&d.updateSnapshot();const u=Je(),h=d.measurePageBox();Sr(u,h),Db(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Zs(this.latestValues)&&Db(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=pt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Wo(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),h9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),V4(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Wo(this.relativeTargetOrigin,this.target,p.target),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}To&&ea.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uf(this.parent.latestValues)||B4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Sr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;w9(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Je());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pb(this.prevProjectionDelta.x,this.projectionDelta.x),Pb(this.prevProjectionDelta.y,this.projectionDelta.y)),Ho(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!Fb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),To&&ea.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=si(),this.projectionDelta=si(),this.projectionDeltaWithTransform=si()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Je(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=p!==x,b=this.getStack(),y=!b||b.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(lF));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const S=j/1e3;Ub(h.x,o.x,S),Ub(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wo(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oF(this.relativeTarget,this.relativeTargetOrigin,m,S),w&&B9(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Je()),Sr(w,this.relativeTarget)),g&&(this.animationValues=u,M9(u,d,this.latestValues,S,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{td.hasAnimatedSinceResize=!0,this.currentAnimation=q9(0,$b,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($b),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Z4(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Je();const h=wr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=wr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Sr(l,c),ii(l,u),Ho(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new V9),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&rm("z",o,d,this.animationValues);for(let u=0;u<tm.length;u++)rm(`rotate${tm[u]}`,o,d,this.animationValues),rm(`skew${tm[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return K9;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=rd(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=rd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zs(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=U9(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:p,y:x}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in zd){if(m[g]===void 0)continue;const{correct:b,applyTo:y}=zd[g],v=d.transform==="none"?m[g]:b(m[g],h);if(y){const w=y.length;for(let j=0;j<w;j++)d[y[j]]=v}else d[g]=v}return this.options.layoutId&&(d.pointerEvents=h===this?rd(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Bb),this.root.sharedNodes.clear()}}}function X9(e){e.updateLayout()}function Q9(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?Cr(h=>{const m=o?r.measuredBox[h]:r.layoutBox[h],p=wr(m);m.min=s[h].min,m.max=m.min+p}):Z4(i,r.layoutBox,s)&&Cr(h=>{const m=o?r.measuredBox[h]:r.layoutBox[h],p=wr(s[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=si();Ho(l,s,r.layoutBox);const c=si();o?Ho(c,e.applyTransform(a,!0),r.measuredBox):Ho(c,s,r.layoutBox);const d=!Y4(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const x=Je();Wo(x,r.layoutBox,m.layoutBox);const g=Je();Wo(g,s,p.layoutBox),X4(x,g)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function J9(e){To&&ea.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Z9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eF(e){e.clearSnapshot()}function Bb(e){e.clearMeasurements()}function tF(e){e.isLayoutDirty=!1}function rF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Vb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nF(e){e.resolveTargetDelta()}function sF(e){e.calcProjection()}function aF(e){e.resetSkewAndRotation()}function iF(e){e.removeLeadSnapshot()}function Ub(e,t,r){e.translate=ze(t.translate,0,r),e.scale=ze(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function zb(e,t,r,s){e.min=ze(t.min,r.min,s),e.max=ze(t.max,r.max,s)}function oF(e,t,r,s){zb(e.x,t.x,r.x,s),zb(e.y,t.y,r.y,s)}function lF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cF={duration:.45,ease:[.4,0,.1,1]},Hb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Wb=Hb("applewebkit/")&&!Hb("chrome/")?Math.round:gr;function Gb(e){e.min=Wb(e.min),e.max=Wb(e.max)}function dF(e){Gb(e.x),Gb(e.y)}function Z4(e,t,r){return e==="position"||e==="preserve-aspect"&&!u9(Lb(t),Lb(r),.2)}function uF(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const hF=J4({attachResizeListener:(e,t)=>Nl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nm={current:void 0},eS=J4({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nm.current){const e=new hF({});e.mount(window),e.setOptions({layoutScroll:!0}),nm.current=e}return nm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mF={pan:{Feature:k9},drag:{Feature:C9,ProjectionNode:eS,MeasureLayout:G4}};function qb(e,t,r){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&Me.postRender(()=>i(t,Ql(t)))}class fF extends Hs{mount(){const{current:t}=this.node;t&&(this.unmount=Q7(t,r=>(qb(this.node,r,"Start"),s=>qb(this.node,s,"End"))))}unmount(){}}class pF extends Hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xl(Nl(this.node.current,"focus",()=>this.onFocus()),Nl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kb(e,t,r){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&Me.postRender(()=>i(t,Ql(t)))}class gF extends Hs{mount(){const{current:t}=this.node;t&&(this.unmount=t9(t,r=>(Kb(this.node,r,"Start"),(s,{success:a})=>Kb(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hf=new WeakMap,sm=new WeakMap,xF=e=>{const t=Hf.get(e.target);t&&t(e)},vF=e=>{e.forEach(xF)};function yF({root:e,...t}){const r=e||document;sm.has(r)||sm.set(r,{});const s=sm.get(r),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(vF,{root:e,...t})),s[a]}function bF(e,t,r){const s=yF(t);return Hf.set(e,r),s.observe(e),()=>{Hf.delete(e),s.unobserve(e)}}const wF={some:0,all:1};class jF extends Hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:wF[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return bF(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(NF(t,r))&&this.startObserver()}unmount(){}}function NF({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const _F={inView:{Feature:jF},tap:{Feature:gF},focus:{Feature:pF},hover:{Feature:fF}},SF={layout:{ProjectionNode:eS,MeasureLayout:G4}},Nx=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Bu=f.createContext({}),_x=typeof window<"u",tS=_x?f.useLayoutEffect:f.useEffect,rS=f.createContext({strict:!1});function CF(e,t,r,s,a){var i,o;const{visualElement:l}=f.useContext(Bu),c=f.useContext(rS),d=f.useContext(wx),u=f.useContext(Nx).reducedMotion,h=f.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,p=f.useContext(W4);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&kF(h.current,r,a,p);const x=f.useRef(!1);f.useInsertionEffect(()=>{m&&x.current&&m.update(r,d)});const g=r[T4],b=f.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return tS(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),jx.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),f.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),b.current=!1))}),m}function kF(e,t,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:nS(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&ni(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:d})}function nS(e){if(e)return e.options.allowProjection!==!1?e.projection:nS(e.parent)}function TF(e,t,r){return f.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):ni(r)&&(r.current=s))},[t])}function Vu(e){return Lu(e.animate)||ex.some(t=>bl(e[t]))}function sS(e){return!!(Vu(e)||e.variants)}function EF(e,t){if(Vu(e)){const{initial:r,animate:s}=e;return{initial:r===!1||bl(r)?r:void 0,animate:bl(s)?s:void 0}}return e.inherit!==!1?t:{}}function PF(e){const{initial:t,animate:r}=EF(e,f.useContext(Bu));return f.useMemo(()=>({initial:t,animate:r}),[Yb(t),Yb(r)])}function Yb(e){return Array.isArray(e)?e.join(" "):e}const Xb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ri={};for(const e in Xb)Ri[e]={isEnabled:t=>Xb[e].some(r=>!!t[r])};function AF(e){for(const t in e)Ri[t]={...Ri[t],...e[t]}}const RF=Symbol.for("motionComponentSymbol");function DF({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:s,Component:a}){e&&AF(e);function i(l,c){let d;const u={...f.useContext(Nx),...l,layoutId:MF(l)},{isStatic:h}=u,m=PF(l),p=s(l,h);if(!h&&_x){OF();const x=IF(u);d=x.MeasureLayout,m.visualElement=CF(a,p,u,t,x.ProjectionNode)}return n.jsxs(Bu.Provider,{value:m,children:[d&&m.visualElement?n.jsx(d,{visualElement:m.visualElement,...u}):null,r(a,l,TF(p,m.visualElement,c),p,h,m.visualElement)]})}const o=f.forwardRef(i);return o[RF]=a,o}function MF({layoutId:e}){const t=f.useContext(H4).id;return t&&e!==void 0?t+"-"+e:e}function OF(e,t){f.useContext(rS).strict}function IF(e){const{drag:t,layout:r}=Ri;if(!t&&!r)return{};const s={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const LF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sx(e){return typeof e!="string"||e.includes("-")?!1:!!(LF.indexOf(e)>-1||/[A-Z]/u.test(e))}function aS(e,{style:t,vars:r},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const i in r)e.style.setProperty(i,r[i])}const iS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oS(e,t,r,s){aS(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(iS.has(a)?a:yx(a),t.attrs[a])}function lS(e,{layout:t,layoutId:r}){return Da.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!zd[e]||e==="opacity")}function Cx(e,t,r){var s;const{style:a}=e,i={};for(const o in a)(gt(a[o])||t.style&&gt(t.style[o])||lS(o,e)||((s=r==null?void 0:r.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function cS(e,t,r){const s=Cx(e,t,r);for(const a in e)if(gt(e[a])||gt(t[a])){const i=ql.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}function Ji(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function FF({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},s,a,i){const o={latestValues:$F(s,a,i,e),renderState:t()};return r&&(o.mount=l=>r(s,l,o)),o}const dS=e=>(t,r)=>{const s=f.useContext(Bu),a=f.useContext(wx),i=()=>FF(e,t,s,a);return r?i():Ji(i)};function $F(e,t,r,s){const a={},i=s(e,{});for(const m in i)a[m]=rd(i[m]);let{initial:o,animate:l}=e;const c=Vu(e),d=sS(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Lu(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const x=Jg(e,m[p]);if(x){const{transitionEnd:g,transition:b,...y}=x;for(const v in y){let w=y[v];if(Array.isArray(w)){const j=u?w.length-1:0;w=w[j]}w!==null&&(a[v]=w)}for(const v in g)a[v]=g[v]}}}return a}const kx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),uS=()=>({...kx(),attrs:{}}),hS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,BF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VF=ql.length;function UF(e,t,r){let s="",a=!0;for(let i=0;i<VF;i++){const o=ql[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=hS(l,lx[o]);if(!c){a=!1;const u=BF[o]||o;s+=`${u}(${d}) `}r&&(t[o]=d)}}return s=s.trim(),r?s=r(t,a?"":s):a&&(s="none"),s}function Tx(e,t,r){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Da.has(c)){o=!0;continue}else if(r4(c)){a[c]=d;continue}else{const u=hS(d,lx[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(t.transform||(o||r?s.transform=UF(t,e.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}function Qb(e,t,r){return typeof e=="string"?e:se.transform(t+r*e)}function zF(e,t,r){const s=Qb(t,e.x,e.width),a=Qb(r,e.y,e.height);return`${s} ${a}`}const HF={offset:"stroke-dashoffset",array:"stroke-dasharray"},WF={offset:"strokeDashoffset",array:"strokeDasharray"};function GF(e,t,r=1,s=0,a=!0){e.pathLength=1;const i=a?HF:WF;e[i.offset]=se.transform(-s);const o=se.transform(t),l=se.transform(r);e[i.array]=`${o} ${l}`}function Ex(e,{attrX:t,attrY:r,attrScale:s,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(Tx(e,d,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:x}=e;m.transform&&(x&&(p.transform=m.transform),delete m.transform),x&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=zF(x,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),s!==void 0&&(m.scale=s),o!==void 0&&GF(m,o,l,c,!1)}const Px=e=>typeof e=="string"&&e.toLowerCase()==="svg",qF={useVisualState:dS({scrapeMotionValuesFromProps:cS,createRenderState:uS,onMount:(e,t,{renderState:r,latestValues:s})=>{Me.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Me.render(()=>{Ex(r,s,Px(t.tagName),e.transformTemplate),oS(t,r)})}})},KF={useVisualState:dS({scrapeMotionValuesFromProps:Cx,createRenderState:kx})};function mS(e,t,r){for(const s in t)!gt(t[s])&&!lS(s,r)&&(e[s]=t[s])}function YF({transformTemplate:e},t){return f.useMemo(()=>{const r=kx();return Tx(r,t,e),Object.assign({},r.vars,r.style)},[t])}function XF(e,t){const r=e.style||{},s={};return mS(s,r,e),Object.assign(s,YF(e,t)),s}function QF(e,t){const r={},s=XF(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const JF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||JF.has(e)}let fS=e=>!Hd(e);function ZF(e){e&&(fS=t=>t.startsWith("on")?!Hd(t):e(t))}try{ZF(require("@emotion/is-prop-valid").default)}catch{}function e$(e,t,r){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(fS(a)||r===!0&&Hd(a)||!t&&!Hd(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function t$(e,t,r,s){const a=f.useMemo(()=>{const i=uS();return Ex(i,t,Px(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};mS(i,e.style,e),a.style={...i,...a.style}}return a}function r$(e=!1){return(r,s,a,{latestValues:i},o)=>{const c=(Sx(r)?t$:QF)(s,i,o,r),d=e$(s,typeof r=="string",e),u=r!==f.Fragment?{...d,...c,ref:a}:{},{children:h}=s,m=f.useMemo(()=>gt(h)?h.get():h,[h]);return f.createElement(r,{...u,children:m})}}function n$(e,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...Sx(s)?qF:KF,preloadedFeatures:e,useRender:r$(a),createVisualElement:t,Component:s};return DF(o)}}const Wf={current:null},pS={current:!1};function s$(){if(pS.current=!0,!!_x)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wf.current=e.matches;e.addListener(t),t()}else Wf.current=!1}function a$(e,t,r){for(const s in t){const a=t[s],i=r[s];if(gt(a))e.addValue(s,a);else if(gt(i))e.addValue(s,Ai(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,Ai(o!==void 0?o:a,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const Jb=new WeakMap,i$=[...a4,Ct,Ls],o$=e=>i$.find(s4(e)),Zb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l${scrapeMotionValuesFromProps(t,r,s){return{}}constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ax,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=yn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Me.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Vu(r),this.isVariantNode=sS(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const p=h[m];c[m]!==void 0&&gt(p)&&p.set(c[m],!1)}}mount(t){this.current=t,Jb.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),pS.current||s$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Jb.delete(this.current),this.projection&&this.projection.unmount(),Xn(this.notifyUpdate),Xn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Da.has(t),a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Me.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ri){const r=Ri[t];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<Zb.length;s++){const a=Zb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=a$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const s=this.values.get(t);r!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=Ai(r===null?void 0:r,{owner:this}),this.addValue(t,s)),s}readValue(t,r){var s;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(e4(a)||Z2(a))?a=parseFloat(a):!o$(a)&&Ls.test(r)&&(a=m4(t,r)),this.setBaseTarget(t,gt(a)?a.get():a)),gt(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const o=Jg(this.props,s,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(s&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!gt(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new vx),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class gS extends l${constructor(){super(...arguments),this.KeyframeResolver=f4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function c$(e){return window.getComputedStyle(e)}class d$ extends gS{constructor(){super(...arguments),this.type="html",this.renderInstance=aS}readValueFromInstance(t,r){if(Da.has(r)){const s=cx(r);return s&&s.default||0}else{const s=c$(t),a=(r4(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return U4(t,r)}build(t,r,s){Tx(t,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,r,s){return Cx(t,r,s)}}class u$ extends gS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Da.has(r)){const s=cx(r);return s&&s.default||0}return r=iS.has(r)?r:yx(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,s){return cS(t,r,s)}build(t,r,s){Ex(t,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,s,a){oS(t,r,s,a)}mount(t){this.isSVGTag=Px(t.tagName),super.mount(t)}}const h$=(e,t)=>Sx(e)?new u$(t):new d$(t,{allowProjection:e!==f.Fragment}),m$=n$({...Y7,..._F,...mF,...SF},h$),ye=GL(m$);function xS(e){const t=Ji(()=>Ai(e)),{isStatic:r}=f.useContext(Nx);if(r){const[,s]=f.useState(e);f.useEffect(()=>t.on("change",s),[])}return t}function vS(e,t){const r=xS(t()),s=()=>r.set(t());return s(),tS(()=>{const a=()=>Me.preRender(s,!1,!0),i=e.map(o=>o.on("change",a));return()=>{i.forEach(o=>o()),Xn(s)}}),r}const f$=e=>e&&typeof e=="object"&&e.mix,p$=e=>f$(e)?e.mix:void 0;function g$(...e){const t=!Array.isArray(e[0]),r=t?0:-1,s=e[0+r],a=e[1+r],i=e[2+r],o=e[3+r],l=_4(a,i,{mixer:p$(i[0]),...o});return t?l(s):l}function x$(e){Uo.current=[],e();const t=vS(Uo.current,e);return Uo.current=void 0,t}function v$(e,t,r,s){if(typeof e=="function")return x$(e);const a=typeof t=="function"?t:g$(t,r,s);return Array.isArray(e)?ew(e,a):ew([e],([i])=>a(i))}function ew(e,t){const r=Ji(()=>[]);return vS(e,()=>{r.length=0;const s=e.length;for(let a=0;a<s;a++)r[a]=e[a].get();return t(r)})}class y${constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,r){this.componentControls.forEach(s=>{s.start(t.nativeEvent||t,r)})}}const b$=()=>new y$;function Ax(){return Ji(b$)}const yS=f.createContext(null);function w$(e,t,r,s){if(!s)return e;const a=e.findIndex(u=>u.value===t);if(a===-1)return e;const i=s>0?1:-1,o=e[a+i];if(!o)return e;const l=e[a],c=o.layout,d=ze(c.min,c.max,.5);return i===1&&l.layout.max+r>d||i===-1&&l.layout.min+r<d?E7(e,a,a+i):e}function j$({children:e,as:t="ul",axis:r="y",onReorder:s,values:a,...i},o){const l=Ji(()=>ye[t]),c=[],d=f.useRef(!1),u={axis:r,registerItem:(h,m)=>{const p=c.findIndex(x=>h===x.value);p!==-1?c[p].layout=m[r]:c.push({value:h,layout:m[r]}),c.sort(_$)},updateOrder:(h,m,p)=>{if(d.current)return;const x=w$(c,h,m,p);c!==x&&(d.current=!0,s(x.map(N$).filter(g=>a.indexOf(g)!==-1)))}};return f.useEffect(()=>{d.current=!1}),n.jsx(l,{...i,ref:o,ignoreStrict:!0,children:n.jsx(yS.Provider,{value:u,children:e})})}const Rx=f.forwardRef(j$);function N$(e){return e.value}function _$(e,t){return e.layout.min-t.layout.min}function tw(e,t=0){return gt(e)?e:xS(t)}function S$({children:e,style:t={},value:r,as:s="li",onDrag:a,layout:i=!0,...o},l){const c=Ji(()=>ye[s]),d=f.useContext(yS),u={x:tw(t.x),y:tw(t.y)},h=v$([u.x,u.y],([g,b])=>g||b?1:"unset"),{axis:m,registerItem:p,updateOrder:x}=d;return n.jsx(c,{drag:m,...o,dragSnapToOrigin:!0,style:{...t,x:u.x,y:u.y,zIndex:h},layout:i,onDrag:(g,b)=>{const{velocity:y}=b;y[m]&&x(r,u[m].get(),y[m]),a&&a(g,b)},onLayoutMeasure:g=>p(r,g),ref:l,ignoreStrict:!0,children:e})}const Dx=f.forwardRef(S$),bS=async()=>{const{data:e,error:t}=await O.from("hero_settings").select("*").limit(1).single();return t?(console.error("Error fetching hero settings:",t),null):e},C$=async(e,t)=>{const{data:r,error:s}=await O.from("hero_settings").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return r},k$=()=>{const{t:e,currentLanguage:t}=zs(),[r,s]=f.useState(null);f.useEffect(()=>{(async()=>{try{const u=await bS();u&&s(u)}catch(u){console.error("Failed to load hero settings",u)}})()},[]);const a=d=>r?r[`${d}_${t}`]||r[`${d}_en`]:null,i=a("title")||e("heroTitle"),o=a("subtitle")||e("heroSubtitle"),l=(r==null?void 0:r.image_url)||"https://i.postimg.cc/nrbYszvV/179254820-super.jpg",c=[{icon:ut,text:"4.9 Rating"},{icon:bn,text:"Fixed Prices"},{icon:Nn,text:"24/7 Service"}];return n.jsxs("div",{className:"relative min-h-[850px] flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("img",{src:l,alt:"Hero Background",className:"w-full h-full object-cover scale-105"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/70 via-gray-950/50 to-gray-950/80"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950/40 via-transparent to-gray-950/40"})]}),n.jsx("div",{className:"absolute top-1/4 left-10 w-72 h-72 bg-green-500/10 rounded-full blur-3xl z-0"}),n.jsx("div",{className:"absolute bottom-1/4 right-10 w-96 h-96 bg-emerald-500/8 rounded-full blur-3xl z-0"}),n.jsxs("div",{className:"relative z-10 container-custom pt-36 pb-28",children:[n.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-14",children:[n.jsx(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs("span",{className:"inline-flex items-center gap-2 px-5 py-2 bg-white/10 backdrop-blur-md text-white rounded-full text-sm font-bold mb-8 tracking-wide border border-white/20 shadow-lg shadow-black/10",children:[n.jsx(br,{className:"w-4 h-4 text-green-400"}),"#1 Travel Platform in Georgia"]})}),n.jsx(ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"text-5xl md:text-6xl lg:text-7xl font-heading font-bold text-white mb-6 tracking-tight leading-[1.1]",children:i},i),n.jsx(ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:"easeOut"},className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-2xl mx-auto font-medium leading-relaxed",children:o},o),n.jsx(ye.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex flex-wrap items-center justify-center gap-6 mb-6",children:c.map((d,u)=>n.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[n.jsx(d.icon,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{className:"text-sm font-medium",children:d.text})]},u))})]}),n.jsx(ye.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:"easeOut"},className:"bg-white/[0.07] backdrop-blur-xl rounded-3xl shadow-2xl p-6 md:p-8 max-w-5xl mx-auto border border-white/10 relative z-20",children:n.jsx(Iu,{})})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-gray-50 to-transparent z-10"})]})},T$=2.71,wS=e=>!e||isNaN(e)?0:Math.round(e/T$),oi=e=>e==null?"":`${Number(e).toLocaleString()}`,sa=e=>{if(e==null)return"";const t=wS(e);return`${Number(e).toLocaleString()} (~$${t})`},jS=({tour:e})=>{var r;const t=((r=e.gallery_images)==null?void 0:r[0])||e.image_url||"https://images.unsplash.com/photo-1589792923962-537704632910?w=800&auto=format&fit=crop";return n.jsx(ie,{to:`/tours/${e.id}`,className:"group block h-full",children:n.jsxs("div",{className:"relative h-[400px] rounded-2xl overflow-hidden shadow-lg transition-transform duration-500 hover:-translate-y-2",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("img",{src:t,alt:e.name_en,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80"}),n.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),n.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6 text-white z-10",children:[n.jsxs("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-md px-3 py-1 rounded-full flex items-center gap-1",children:[n.jsx(ut,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),n.jsx("span",{className:"text-sm font-bold",children:e.rating||5}),n.jsxs("span",{className:"text-xs text-gray-200",children:["(",e.reviews_count||0,")"]})]}),n.jsxs("div",{className:"transform transition-transform duration-300 group-hover:-translate-y-2",children:[n.jsx("h3",{className:"text-2xl font-bold mb-2 leading-tight drop-shadow-md",children:e.name_en}),n.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-300 mb-3",children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Nn,{className:"w-4 h-4"}),n.jsxs("span",{children:[e.duration_days??""," Day",(e.duration_days??0)>1?"s":""]})]})}),n.jsx("p",{className:"text-gray-300 text-sm line-clamp-2 mb-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-75 h-0 group-hover:h-auto",children:e.description_en}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400 uppercase font-medium mb-0.5",children:"From"}),n.jsx("p",{className:"text-xl font-bold text-green-400",children:oi(e.price_per_person)})]}),n.jsxs(P,{className:"bg-green-600 hover:bg-green-500 text-white rounded-full px-6 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-4 group-hover:translate-y-0",children:["View Tour ",n.jsx(at,{className:"w-4 h-4 ml-2"})]})]})]})]})]})})},E$=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0);return f.useEffect(()=>{(async()=>{try{let{data:i,error:o}=await O.from("tours").select("*").eq("is_active",!0).eq("is_featured",!0).order("display_order",{ascending:!0}).limit(4);if(!i||i.length===0){const{data:l}=await O.from("tours").select("*").eq("is_active",!0).order("display_order",{ascending:!0}).limit(4);i=l}if(o&&!i)throw o;t(i||[])}catch(i){console.error("Error fetching tours:",i)}finally{s(!1)}})()},[]),n.jsxs("section",{className:"py-24 bg-gray-50 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_80%,rgba(16,185,129,0.04),transparent_50%)]"}),n.jsxs("div",{className:"container-custom relative z-10",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-14 gap-6",children:[n.jsxs(ye.div,{className:"max-w-2xl",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-bold mb-4 tracking-wide",children:[n.jsx(AN,{className:"w-4 h-4"}),"Discover Georgia"]}),n.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 mb-4",children:"Popular Tours"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Explore our most requested destinations. Hand-picked adventures across Georgia."})]}),n.jsx(ie,{to:"/tours",children:n.jsxs(P,{variant:"outline",className:"hidden md:flex border-green-600 text-green-700 hover:bg-green-50 rounded-full gap-2 px-6 h-11",children:["View All Tours ",n.jsx(at,{className:"w-4 h-4"})]})})]}),r?n.jsx("div",{className:"flex justify-center py-20",children:n.jsx(de,{className:"w-8 h-8 animate-spin text-green-600"})}):e.length===0?n.jsx("div",{className:"text-center py-20 text-gray-500",children:"No tours available at the moment."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(a=>n.jsx(jS,{tour:a},a.id))}),n.jsx("div",{className:"mt-10 md:hidden text-center",children:n.jsx(ie,{to:"/tours",children:n.jsxs(P,{variant:"outline",className:"border-green-600 text-green-700 hover:bg-green-50 w-full rounded-full gap-2",children:["View All Tours ",n.jsx(at,{className:"w-4 h-4"})]})})})]})]})};async function NS(){const{data:e,error:t}=await O.from("transfers").select(`
      *,
      from_location:locations!transfers_from_location_id_fkey(*),
      to_location:locations!transfers_to_location_id_fkey(*)
    `).eq("is_active",!0).order("display_order",{ascending:!0});if(t)throw t;return e}async function P$(){const{data:e,error:t}=await O.from("transfers").select(`
      *,
      from_location:locations!transfers_from_location_id_fkey(*),
      to_location:locations!transfers_to_location_id_fkey(*)
    `).eq("is_active",!0).order("display_order",{ascending:!0}).limit(8);if(t)throw t;return e}async function A$(e){if(!e)return null;const{data:t,error:r}=await O.from("transfers").select(`
      *,
      from_location:locations!transfers_from_location_id_fkey(*),
      to_location:locations!transfers_to_location_id_fkey(*)
    `).eq("id",e).single();if(r)throw r;return t}async function R$(e){const{data:t,error:r}=await O.from("transfers").select(`
      *,
      from_location:locations!transfers_from_location_id_fkey(*),
      to_location:locations!transfers_to_location_id_fkey(*)
    `).eq("slug",e).single();if(r)throw r;return t}async function rw(e){if(!e)return null;const{data:t,error:r}=await O.from("locations").select("*").eq("id",e).single();return r?null:t}async function _S(e){const{data:t,error:r}=await O.from("cars").select(`
      *,
      driver:drivers(*)
    `).eq("transfer_id",e).eq("active",!0).eq("verification_status","approved");if(!r&&t&&t.length>0)return t;const{data:s,error:a}=await O.from("cars").select(`
      *,
      driver:drivers(*)
    `).eq("active",!0).eq("verification_status","approved");if(a)throw a;return s}async function D$(e,t,r){const{data:s}=await O.from("transfers").select("id").eq("from_location_id",e).eq("to_location_id",t).single();if(s)return _S(s.id);const{data:a,error:i}=await O.from("cars").select(`
      *,
      driver:drivers(*)
    `).eq("active",!0).eq("verification_status","approved");if(i)throw i;return a}async function M$(e){const{data:t,error:r}=await O.from("transfers").select(`
      *,
      from_location:locations!transfers_from_location_id_fkey(*),
      to_location:locations!transfers_to_location_id_fkey(*)
    `).eq("id",e).single();if(r)throw r;const s=await _S(e);return{...t,cars:s}}async function O$(e){const t=e.map((s,a)=>({id:s.id,display_order:a,updated_at:new Date().toISOString()})),{error:r}=await O.from("transfers").upsert(t,{onConflict:"id"});if(r)throw r}const I$=({transfer:e})=>{const{currentLanguage:t}=zs(),r=a=>{if(!a)return"";switch(t){case"ka":return a.name_ka||a.name_en;case"ru":return a.name_ru||a.name_en;default:return a.name_en}},s=e.image_url||"https://images.unsplash.com/photo-1565008447742-97f6f38c985c?auto=format&fit=crop&q=80&w=600";return n.jsxs(ie,{to:`/transfer/s/${e.slug}`,className:"group relative block w-full h-[200px] overflow-hidden rounded-2xl transition-all duration-300 hover:scale-[1.02] hover:shadow-xl shadow-md cursor-pointer",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#10B981] to-[#059669] z-0"}),n.jsx("div",{className:"absolute inset-0 z-0",children:n.jsx("img",{src:s,alt:`${r(e.from_location)} - ${r(e.to_location)}`,className:"w-full h-full object-cover opacity-15 mix-blend-overlay group-hover:opacity-20 group-hover:scale-110 transition-all duration-700 ease-out grayscale-[20%]"})}),n.jsxs("div",{className:"absolute inset-0 z-10 p-5 flex flex-col justify-between text-white",children:[n.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center text-center gap-3",children:[n.jsx("div",{className:"w-full",children:n.jsx("h3",{className:"text-xl md:text-2xl font-bold font-heading leading-tight drop-shadow-sm",children:r(e.from_location)})}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-1.5 rounded-full border border-white/30 group-hover:bg-white/30 transition-colors",children:n.jsx(at,{className:"w-5 h-5 text-white"})})}),n.jsx("div",{className:"w-full",children:n.jsx("h3",{className:"text-xl md:text-2xl font-bold font-heading leading-tight drop-shadow-sm",children:r(e.to_location)})})]}),n.jsxs("div",{className:"flex items-end justify-between w-full pt-4 mt-auto border-t border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-1.5 opacity-90",children:[n.jsx(br,{className:"w-3.5 h-3.5"}),n.jsxs("span",{className:"text-xs font-medium tracking-wide",children:[e.distance_km??""," km"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-[10px] uppercase tracking-wider opacity-80 mb-0.5",children:"From"}),n.jsx("span",{className:"text-lg font-bold leading-none bg-white/20 px-2 py-1 rounded-md backdrop-blur-sm",children:Pt(e.base_price??0)})]})]})]}),n.jsx("div",{className:"absolute inset-0 bg-white/0 group-hover:bg-white/5 transition-colors duration-300 z-20 pointer-events-none"})]})},L$=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0);return f.useEffect(()=>{(async()=>{try{const i=await P$();t(i||[])}catch(i){console.error("Failed to load transfers",i)}finally{s(!1)}})()},[]),r?n.jsx("div",{className:"py-20 flex justify-center bg-gray-50",children:n.jsx(de,{className:"w-8 h-8 animate-spin text-green-500"})}):e.length===0?null:n.jsxs("section",{className:"py-24 bg-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_80%_20%,rgba(16,185,129,0.04),transparent_50%)]"}),n.jsxs("div",{className:"container-custom relative z-10",children:[n.jsxs(ye.div,{className:"text-center mb-14 max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-bold mb-4 tracking-wide",children:[n.jsx(Ci,{className:"w-4 h-4"}),"Private Transfers"]}),n.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 mb-4",children:"Popular Routes"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Explore our most booked private transfer destinations across Georgia"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:e.map(a=>n.jsx(I$,{transfer:a},a.id))}),n.jsx("div",{className:"mt-12 text-center",children:n.jsx(ie,{to:"/transfers",children:n.jsxs(P,{variant:"outline",className:"border-green-600 text-green-700 hover:bg-green-50 hover:text-green-800 gap-2 px-8 py-6 text-base font-semibold rounded-full transition-all duration-300 hover:shadow-md",children:["View All Destinations ",n.jsx(at,{className:"w-4 h-4"})]})})})]})]})},F$={DollarSign:Ar,CheckCircle2:ur,MessageCircle:BN,ShieldCheck:Bl,Headset:ON},$$=()=>{const{t:e}=zs(),{content:t}=ot("home","value_icons",et.home.value_icons),r=[{icon:"DollarSign",title:e("noFees"),desc:e("noFeesDesc")||"Transparent pricing with no hidden charges or surprises."},{icon:"CheckCircle2",title:e("freeCancel"),desc:e("freeCancelDesc")||"Flexible bookings with free cancellation up to 24 hours."},{icon:"MessageCircle",title:e("englishDrivers"),desc:e("englishDriversDesc")||"Communication is easy with our English-speaking drivers."},{icon:"ShieldCheck",title:e("verifiedDrivers")||"Verified Drivers",desc:e("verifiedDriversDesc")||"Every driver is vetted for safety and professionalism."},{icon:"Headset",title:e("support247")||"24/7 Support",desc:e("support247Desc")||"We are here to help you anytime, anywhere in Georgia."}];return n.jsxs("section",{className:"py-24 bg-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_120%,rgba(16,185,129,0.06),transparent_70%)]"}),n.jsxs("div",{className:"container-custom relative z-10",children:[n.jsxs(ye.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-bold mb-4 tracking-wide",children:[n.jsx(_R,{className:"w-4 h-4"}),(t.title,"Our Promise")]}),n.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 mb-4",children:t.title||"Why Choose GeorgianTrip?"}),n.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t.subtitle||"We provide the safest, most comfortable way to explore Georgia's beautiful landscapes."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-5",children:r.map((s,a)=>{const i=F$[s.icon]||Ar;return n.jsxs(ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:a*.1},className:"bg-white p-6 rounded-2xl shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all duration-300 border border-gray-100 hover:border-green-200 flex flex-col items-center text-center group",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-green-50 flex items-center justify-center text-green-600 mb-5 shrink-0 group-hover:bg-green-600 group-hover:text-white transition-colors duration-300",children:n.jsx(i,{className:"w-7 h-7"})}),n.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-base",children:s.title}),n.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:s.desc})]},a)})})]})]})},B$=[ts,rr,kR,GR],V$=()=>{const{content:e}=ot("home","how_it_works",et.home.how_it_works);return n.jsxs("section",{className:"py-24 bg-gray-50 relative overflow-hidden",id:"how-it-works",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"}),n.jsxs("div",{className:"container-custom",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("span",{className:"inline-block px-4 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-bold mb-4 tracking-wide",children:"Simple Process"}),n.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-bold text-gray-900 mb-4",children:e.title}),n.jsx("p",{className:"text-gray-500 text-lg max-w-xl mx-auto",children:e.subtitle})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative",children:[n.jsx("div",{className:"hidden lg:block absolute top-16 left-[12%] right-[12%] h-0.5 bg-gradient-to-r from-green-200 via-green-300 to-green-200"}),(e.steps||[]).map((t,r)=>{const s=B$[r]||ts;return n.jsxs("div",{className:"flex flex-col items-center text-center group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-28 h-28 rounded-2xl bg-gradient-to-br from-green-50 to-emerald-50 border border-green-100 flex items-center justify-center mb-6 shadow-sm group-hover:shadow-lg group-hover:shadow-green-100/50 transition-all duration-500 group-hover:-translate-y-1",children:n.jsx(s,{className:"w-10 h-10 text-green-600"})}),n.jsx("span",{className:"absolute -top-2 -right-2 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-lg shadow-green-600/30",children:r+1})]}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:t.title}),n.jsx("p",{className:"text-gray-500 leading-relaxed max-w-[260px]",children:t.description})]},r)})]})]})]})},U$=[Il,bn],z$=()=>{const e=ge(),{content:t}=ot("home","our_story",et.home.our_story),r=t.images||[],s=t.features||[];return n.jsx("section",{className:"py-24 bg-white relative overflow-hidden",children:n.jsx("div",{className:"container-custom relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-16 items-center",children:[n.jsx("div",{className:"w-full lg:w-1/2",children:n.jsxs(ye.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx("span",{className:"inline-block px-4 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-bold mb-4 tracking-wide",children:t.label}),n.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 mb-6 leading-tight",children:t.title}),n.jsx("div",{className:"space-y-5 text-lg text-gray-600 leading-relaxed font-body",children:(t.paragraphs||[]).map((a,i)=>n.jsx("p",{dangerouslySetInnerHTML:{__html:a}},i))}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-10 mb-10",children:s.map((a,i)=>{const o=U$[i]||Il;return n.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl hover:bg-green-50/50 transition-colors",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-xl text-green-600 shrink-0",children:n.jsx(o,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-gray-900 mb-1",children:a.title}),n.jsx("p",{className:"text-sm text-gray-500",children:a.description})]})]},i)})}),n.jsxs(P,{onClick:()=>e("/about"),className:"bg-green-700 text-white hover:bg-green-600 h-12 px-8 rounded-full text-lg font-medium group transition-all shadow-lg shadow-green-700/20",children:[t.buttonText,n.jsx(at,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})}),n.jsxs("div",{className:"w-full lg:w-1/2",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ye.div,{className:"space-y-4 mt-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:r.slice(0,2).map((a,i)=>n.jsxs("div",{className:`${i===0?"h-64":"h-48"} rounded-2xl overflow-hidden shadow-lg relative group`,children:[n.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-all duration-500 z-10"}),n.jsx("img",{className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700",alt:"Georgia",src:a})]},i))}),n.jsx(ye.div,{className:"space-y-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:r.slice(2,4).map((a,i)=>n.jsxs("div",{className:`${i===0?"h-48":"h-64"} rounded-2xl overflow-hidden shadow-lg relative group`,children:[n.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-all duration-500 z-10"}),n.jsx("img",{className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700",alt:"Georgia",src:a})]},i))})]}),n.jsx("div",{className:"absolute -z-10 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-green-50/50 rounded-full blur-3xl opacity-50"})]})]})})})},G=X.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Q("rounded-lg border border-gray-200 bg-white text-black shadow-sm",e),...t}));G.displayName="Card";const Jn=X.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Q("flex flex-col space-y-1.5 p-6",e),...t}));Jn.displayName="CardHeader";const Zn=X.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Q("text-2xl font-semibold leading-none tracking-tight",e),...t}));Zn.displayName="CardTitle";const SS=X.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Q("text-sm text-gray-500",e),...t}));SS.displayName="CardDescription";const It=X.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Q("p-6 pt-0",e),...t}));It.displayName="CardContent";const CS=X.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Q("flex items-center p-6 pt-0",e),...t}));CS.displayName="CardFooter";const H$=async e=>{const{data:t,error:r}=await O.from("contact_messages").insert([e]).select().single();if(r)throw r;return t},W$=async e=>{const{data:t,error:r}=await O.from("driver_applications").insert([e]).select().single();if(r)throw r;return t},G$=()=>{const{toast:e}=ae(),{content:t}=ot("home","driver_registration",et.home.driver_registration),[r,s]=f.useState(!1),[a,i]=f.useState({full_name:"",email:"",phone:"",car_model:"",license_plate:"",years_of_experience:""}),o=d=>{i({...a,[d.target.name]:d.target.value})},l=async d=>{d.preventDefault(),s(!0);try{await W$({...a,years_of_experience:parseInt(a.years_of_experience)}),e({title:"Application Received!",description:"We will contact you shortly to complete your registration.",className:"bg-green-50 border-green-200"}),i({full_name:"",email:"",phone:"",car_model:"",license_plate:"",years_of_experience:""})}catch{e({variant:"destructive",title:"Submission Failed",description:"Please try again later."})}finally{s(!1)}},c=t.benefits||["Flexible working hours - be your own boss","Competitive earnings and instant payouts","Professional support 24/7","Access to thousands of tourists","Easy registration process"];return n.jsxs("section",{className:"bg-gray-950 text-white overflow-hidden relative pb-24",children:[n.jsxs("div",{className:"w-full relative h-[200px] md:h-[300px] mb-16",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/30 to-gray-950 z-10"}),n.jsx("img",{src:t.bannerImage||"https://i.postimg.cc/BQQSS2hZ/banner-georgiantrip-2048x439-modified-(1).png",alt:"Join GeorgianTrip Driver Team",className:"w-full h-full object-cover object-center"}),n.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center",children:n.jsxs(ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 backdrop-blur-sm text-white rounded-full text-sm font-bold mb-4 tracking-wide border border-white/20",children:[n.jsx(nr,{className:"w-4 h-4"}),"Join Us"]}),n.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-bold text-white drop-shadow-lg text-center px-4",children:t.bannerTitle||"Join Our Team of Professionals"})]})})]}),n.jsx("div",{className:"absolute top-[300px] right-0 w-1/2 h-full bg-green-900/10 skew-x-12 transform origin-top-right z-0"}),n.jsx("div",{className:"container-custom relative z-10",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[n.jsxs(ye.div,{className:"order-2 lg:order-1 pt-4",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx("h3",{className:"text-3xl md:text-4xl font-heading font-bold mb-4 text-green-400",children:t.heading||"Become a Partner"}),n.jsx("p",{className:"text-xl text-gray-300 mb-10 font-light leading-relaxed",children:t.description||"Are you an experienced driver with a reliable vehicle? Join GeorgianTrip and turn your kilometers into income. We provide the passengers; you provide the excellent service."}),n.jsx("div",{className:"space-y-4 mb-10",children:c.map((d,u)=>n.jsxs(ye.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:u*.1},className:"flex items-center gap-4 bg-gray-800/50 backdrop-blur-sm p-4 rounded-xl border border-gray-700/50 hover:border-green-500/40 transition-all duration-300 group",children:[n.jsx("div",{className:"w-9 h-9 rounded-full bg-green-600 flex items-center justify-center shrink-0 shadow-lg shadow-green-900/50 group-hover:scale-110 transition-transform",children:n.jsx(jn,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-gray-100 font-medium",children:d})]},u))}),n.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border border-gray-700/50 hidden md:block group",children:[n.jsx("img",{src:t.quoteImage||"https://images.unsplash.com/photo-1617788138017-80ad40651399?auto=format&fit=crop&q=80&w=800",alt:"Professional driver",className:"w-full h-[250px] object-cover group-hover:scale-105 transition-transform duration-700"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/30 to-transparent flex items-end p-6",children:n.jsx("p",{className:"text-white font-medium italic border-l-4 border-green-500 pl-4",children:t.quote||'"Flexible schedule and great passengers. I recommend it to everyone."'})})]})]}),n.jsx(ye.div,{className:"order-1 lg:order-2",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:n.jsxs(G,{className:"p-6 md:p-8 bg-white text-gray-900 shadow-2xl border-0 relative overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-green-600 to-green-400"}),n.jsx("h3",{className:"text-2xl font-bold mb-2 text-center text-gray-900",children:"Driver Application"}),n.jsx("p",{className:"text-center text-gray-500 mb-6 text-sm",children:"Fill out the form below to get started"}),n.jsxs("form",{onSubmit:l,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(T,{className:"text-gray-700 font-semibold",children:"Full Name"}),n.jsx(D,{required:!0,name:"full_name",value:a.full_name,onChange:o,placeholder:"First Last",className:"bg-gray-50 border-gray-200 focus:ring-green-500 rounded-xl h-11"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{className:"text-gray-700 font-semibold",children:"Email"}),n.jsx(D,{required:!0,type:"email",name:"email",value:a.email,onChange:o,placeholder:"name@email.com",className:"bg-gray-50 border-gray-200 focus:ring-green-500 rounded-xl h-11"})]}),n.jsxs("div",{children:[n.jsx(T,{className:"text-gray-700 font-semibold",children:"Phone"}),n.jsx(D,{required:!0,type:"tel",name:"phone",value:a.phone,onChange:o,placeholder:"+995...",className:"bg-gray-50 border-gray-200 focus:ring-green-500 rounded-xl h-11"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{className:"text-gray-700 font-semibold",children:"Car Model"}),n.jsx(D,{required:!0,name:"car_model",value:a.car_model,onChange:o,placeholder:"e.g. Toyota Prius",className:"bg-gray-50 border-gray-200 focus:ring-green-500 rounded-xl h-11"})]}),n.jsxs("div",{children:[n.jsx(T,{className:"text-gray-700 font-semibold",children:"License Plate"}),n.jsx(D,{required:!0,name:"license_plate",value:a.license_plate,onChange:o,placeholder:"XX-000-XX",className:"bg-gray-50 border-gray-200 focus:ring-green-500 rounded-xl h-11"})]})]}),n.jsxs("div",{children:[n.jsx(T,{className:"text-gray-700 font-semibold",children:"Experience (Years)"}),n.jsx(D,{required:!0,type:"number",name:"years_of_experience",value:a.years_of_experience,onChange:o,placeholder:"e.g. 5",className:"bg-gray-50 border-gray-200 focus:ring-green-500 rounded-xl h-11"})]}),n.jsx(P,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 h-12 text-lg font-bold mt-4 shadow-lg shadow-green-200 transition-all active:scale-[0.98] rounded-xl",disabled:r,children:r?"Sending...":"Submit Application"}),n.jsx("p",{className:"text-xs text-center text-gray-400 mt-2",children:"We respect your privacy."})]})]})})]})})]})},q$=()=>{const{content:e}=ot("home","testimonials",et.home.testimonials),t=e.reviews||[];return n.jsxs("section",{className:"py-24 bg-gray-950 text-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-green-600/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-emerald-600/8 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-green-500/5 rounded-full blur-3xl"}),n.jsxs("div",{className:"container-custom relative z-10",children:[n.jsxs("div",{className:"text-center mb-14",children:[n.jsx("span",{className:"inline-block px-4 py-1.5 bg-green-500/10 text-green-400 rounded-full text-sm font-bold mb-4 border border-green-500/20",children:"Testimonials"}),n.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-bold mb-5",children:e.title}),n.jsxs("div",{className:"flex justify-center items-center gap-3",children:[n.jsx("div",{className:"flex text-yellow-400",children:[1,2,3,4,5].map(r=>n.jsx(ut,{className:"w-5 h-5 fill-current"},r))}),n.jsx("span",{className:"font-bold text-lg",children:e.rating}),n.jsxs("span",{className:"text-gray-400 text-sm",children:["from ",e.reviewCount]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((r,s)=>{var a;return n.jsxs("div",{className:"bg-white/[0.04] backdrop-blur-sm border border-white/10 p-8 rounded-2xl relative hover:bg-white/[0.08] hover:border-green-500/20 transition-all duration-500 group",children:[n.jsx($R,{className:"absolute top-6 right-6 text-green-500/10 w-12 h-12 rotate-180 group-hover:text-green-500/20 transition-colors"}),n.jsx("div",{className:"flex text-yellow-400 mb-5",children:[1,2,3,4,5].map(i=>n.jsx(ut,{className:"w-4 h-4 fill-current"},i))}),n.jsxs("p",{className:"text-gray-300 italic mb-8 leading-relaxed text-[15px]",children:['"',r.text,'"']}),n.jsxs("div",{className:"flex items-center gap-3 mt-auto",children:[n.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-green-600 to-emerald-600 flex items-center justify-center font-bold text-sm shadow-lg shadow-green-900/30",children:((a=r.name)==null?void 0:a.charAt(0))||"?"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-white text-sm",children:r.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[r.location," ",r.date&&` ${r.date}`]})]})]})]},s)})})]})]})},K$=async()=>(await new Promise(e=>setTimeout(e,800)),[{id:"1",permalink:"https://www.instagram.com/georgiantrip_go/",media_url:"https://images.unsplash.com/photo-1565008447742-97f6f38c985c?auto=format&fit=crop&q=80&w=600",caption:"The breathtaking Gergeti Trinity Church under the shadow of Mount Kazbek.  #Kazbegi #Georgia",likes:1245},{id:"2",permalink:"https://www.instagram.com/georgiantrip_go/",media_url:"https://images.unsplash.com/photo-1569420427352-789a74288019?auto=format&fit=crop&q=80&w=600",caption:"Wandering through the colorful streets of Old Tbilisi. Every balcony tells a story.  #Tbilisi #Architecture",likes:893},{id:"3",permalink:"https://www.instagram.com/georgiantrip_go/",media_url:"https://images.unsplash.com/photo-1582236314811-db8a2046422d?auto=format&fit=crop&q=80&w=600",caption:"The ancient stone towers of Ushguli, Svaneti. A UNESCO World Heritage site frozen in time.  #Svaneti #History",likes:1567},{id:"4",permalink:"https://www.instagram.com/georgiantrip_go/",media_url:"https://images.unsplash.com/photo-1628108643883-9a4f4d2217f6?auto=format&fit=crop&q=80&w=600",caption:"Sunset vibes on the Batumi boulevard. The pearl of the Black Sea!  #Batumi #Summer",likes:2102},{id:"5",permalink:"https://www.instagram.com/georgiantrip_go/",media_url:"https://images.unsplash.com/photo-1541300613939-71366b37c92e?auto=format&fit=crop&q=80&w=600",caption:"Traditional Georgian wine making in Qvevri. Gaumarjos!  #Wine #Kakheti",likes:1120},{id:"6",permalink:"https://www.instagram.com/georgiantrip_go/",media_url:"https://images.unsplash.com/photo-1629841808620-802c6110292b?auto=format&fit=crop&q=80&w=600",caption:"Exploring the magical Martvili Canyon. Nature at its finest.  #Nature #Explore",likes:1450}]),Y$=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0);f.useEffect(()=>{(async()=>{try{const o=await K$();t(o)}catch(o){console.error("Failed to load Instagram posts",o)}finally{s(!1)}})()},[]);const a=i=>{window.open(i,"_blank")};return n.jsx("section",{className:"py-24 bg-white",children:n.jsxs("div",{className:"container-custom",children:[n.jsxs(ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-14",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-pink-50 text-pink-600 rounded-full text-sm font-bold mb-4 tracking-wide border border-pink-100",children:[n.jsx(PN,{className:"w-4 h-4"}),"Instagram"]}),n.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-bold text-gray-900 mb-4",children:"@georgiantrip_go"}),n.jsx("p",{className:"text-gray-500 max-w-lg mx-auto text-lg",children:"See the beauty of Georgia through our travelers' eyes"})]}),r?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(de,{className:"w-10 h-10 animate-spin text-gray-300"})}):n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 md:gap-4",children:e.map((i,o)=>n.jsxs(ye.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:o*.08},className:"group relative aspect-square overflow-hidden rounded-2xl bg-gray-100 cursor-pointer shadow-sm hover:shadow-xl transition-all duration-300",onClick:()=>a(i.permalink),children:[n.jsx("img",{src:i.media_url,alt:i.caption||"Instagram post",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),n.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col items-center justify-center text-white p-4 text-center",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold text-lg transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:[n.jsx(Il,{className:"w-5 h-5 fill-white"}),(i.likes??0).toLocaleString()]}),n.jsx("p",{className:"text-xs line-clamp-2 opacity-90 font-medium transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 delay-75",children:i.caption})]})]},i.id))}),n.jsx("div",{className:"mt-10 text-center",children:n.jsxs(P,{onClick:()=>window.open("https://www.instagram.com/georgiantrip_go/","_blank"),className:"bg-gray-900 text-white hover:bg-gray-800 gap-2 font-bold px-8 rounded-full h-12 shadow-lg",children:[n.jsx(Ll,{className:"w-4 h-4"}),"Follow Us on Instagram"]})})]})})},X$=()=>{const{content:e}=ot("home","bottom_cta",et.home.bottom_cta);return n.jsxs("section",{className:"relative h-[550px] flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("img",{className:"w-full h-full object-cover",alt:"Georgia landscape",src:e.backgroundImage}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/50 to-black/30"})]}),n.jsxs("div",{className:"relative z-10 text-center container-custom max-w-3xl px-6",children:[n.jsx("h2",{className:"text-4xl md:text-6xl font-heading font-bold text-white mb-6 drop-shadow-lg leading-tight",children:e.title}),n.jsx("p",{className:"text-xl text-white/90 mb-10 leading-relaxed font-light drop-shadow-md max-w-2xl mx-auto",children:e.subtitle}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(P,{className:"bg-green-600 hover:bg-green-500 text-white text-lg h-14 px-10 rounded-full shadow-xl shadow-green-900/40 hover:scale-105 transition-all duration-300 font-bold",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[e.buttonText," ",n.jsx(at,{className:"w-5 h-5 ml-2"})]}),n.jsxs(P,{variant:"outline",className:"bg-white/10 backdrop-blur-md border-white/30 text-white hover:bg-white hover:text-green-900 text-lg h-14 px-10 rounded-full hover:scale-105 transition-all duration-300 font-medium",onClick:()=>window.location.href="/contact",children:[n.jsx(Gn,{className:"w-4 h-4 mr-2"})," ",e.contactButtonText]})]})]})]})};var Mx="Collapsible",[Q$,kS]=Ut(Mx),[J$,Ox]=Q$(Mx),TS=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=yr({prop:s,defaultProp:a,onChange:o});return n.jsx(J$,{scope:r,disabled:i,contentId:fr(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:n.jsx(ne.div,{"data-state":Lx(c),"data-disabled":i?"":void 0,...l,ref:t})})});TS.displayName=Mx;var ES="CollapsibleTrigger",PS=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=Ox(ES,r);return n.jsx(ne.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Lx(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:K(e.onClick,a.onOpenToggle)})});PS.displayName=ES;var Ix="CollapsibleContent",AS=f.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Ox(Ix,e.__scopeCollapsible);return n.jsx(_r,{present:r||a.open,children:({present:i})=>n.jsx(Z$,{...s,ref:t,present:i})})});AS.displayName=Ix;var Z$=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=Ox(Ix,r),[l,c]=f.useState(s),d=f.useRef(null),u=ve(t,d),h=f.useRef(0),m=h.current,p=f.useRef(0),x=p.current,g=o.open||l,b=f.useRef(g),y=f.useRef(void 0);return f.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),yt(()=>{const v=d.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();h.current=w.height,p.current=w.width,b.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(s)}},[o.open,s]),n.jsx(ne.div,{"data-state":Lx(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&a})});function Lx(e){return e?"open":"closed"}var eB=TS,tB=PS,rB=AS,rs="Accordion",nB=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Fx,sB,aB]=Rl(rs),[Uu,LW]=Ut(rs,[aB,kS]),$x=kS(),RS=X.forwardRef((e,t)=>{const{type:r,...s}=e,a=s,i=s;return n.jsx(Fx.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(cB,{...i,ref:t}):n.jsx(lB,{...a,ref:t})})});RS.displayName=rs;var[DS,iB]=Uu(rs),[MS,oB]=Uu(rs,{collapsible:!1}),lB=X.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=yr({prop:r,defaultProp:s,onChange:a});return n.jsx(DS,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:X.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(MS,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx(OS,{...o,ref:t})})})}),cB=X.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o=[],l]=yr({prop:r,defaultProp:s,onChange:a}),c=X.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=X.useCallback(u=>l((h=[])=>h.filter(m=>m!==u)),[l]);return n.jsx(DS,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:n.jsx(MS,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(OS,{...i,ref:t})})})}),[dB,zu]=Uu(rs),OS=X.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=X.useRef(null),c=ve(l,t),d=sB(r),h=Gi(a)==="ltr",m=K(e.onKeyDown,p=>{var _;if(!nB.includes(p.key))return;const x=p.target,g=d().filter(E=>{var k;return!((k=E.ref.current)!=null&&k.disabled)}),b=g.findIndex(E=>E.ref.current===x),y=g.length;if(b===-1)return;p.preventDefault();let v=b;const w=0,j=y-1,S=()=>{v=b+1,v>j&&(v=w)},C=()=>{v=b-1,v<w&&(v=j)};switch(p.key){case"Home":v=w;break;case"End":v=j;break;case"ArrowRight":i==="horizontal"&&(h?S():C());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(h?C():S());break;case"ArrowUp":i==="vertical"&&C();break}const N=v%y;(_=g[N].ref.current)==null||_.focus()});return n.jsx(dB,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(Fx.Slot,{scope:r,children:n.jsx(ne.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),Wd="AccordionItem",[uB,Bx]=Uu(Wd),IS=X.forwardRef((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,i=zu(Wd,r),o=iB(Wd,r),l=$x(r),c=fr(),d=s&&o.value.includes(s)||!1,u=i.disabled||e.disabled;return n.jsx(uB,{scope:r,open:d,disabled:u,triggerId:c,children:n.jsx(eB,{"data-orientation":i.orientation,"data-state":US(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(s):o.onItemClose(s)}})})});IS.displayName=Wd;var LS="AccordionHeader",FS=X.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=zu(rs,r),i=Bx(LS,r);return n.jsx(ne.h3,{"data-orientation":a.orientation,"data-state":US(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});FS.displayName=LS;var Gf="AccordionTrigger",$S=X.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=zu(rs,r),i=Bx(Gf,r),o=oB(Gf,r),l=$x(r);return n.jsx(Fx.ItemSlot,{scope:r,children:n.jsx(tB,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});$S.displayName=Gf;var BS="AccordionContent",VS=X.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=zu(rs,r),i=Bx(BS,r),o=$x(r);return n.jsx(rB,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});VS.displayName=BS;function US(e){return e?"open":"closed"}var hB=RS,mB=IS,fB=FS,zS=$S,HS=VS;const pB=hB,WS=f.forwardRef(({className:e,...t},r)=>n.jsx(mB,{ref:r,className:Q("border-b",e),...t}));WS.displayName="AccordionItem";const GS=f.forwardRef(({className:e,children:t,...r},s)=>n.jsx(fB,{className:"flex",children:n.jsxs(zS,{ref:s,className:Q("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(ba,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));GS.displayName=zS.displayName;const qS=f.forwardRef(({className:e,children:t,...r},s)=>n.jsx(HS,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:Q("pb-4 pt-0",e),children:t})}));qS.displayName=HS.displayName;const gB=()=>{const{content:e}=ot("home","faq",et.home.faq),t=e.items||[];return n.jsxs("section",{className:"py-24 bg-gray-50 relative",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"}),n.jsxs("div",{className:"container-custom max-w-4xl",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("span",{className:"inline-block px-4 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-bold mb-4",children:[n.jsx(ER,{className:"w-4 h-4 inline mr-1.5 -mt-0.5"})," FAQ"]}),n.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-gray-900",children:e.title})]}),n.jsx(pB,{type:"single",collapsible:!0,className:"w-full space-y-3",children:t.map((r,s)=>n.jsxs(WS,{value:`item-${s}`,className:"bg-white border border-gray-200 rounded-xl px-6 overflow-hidden data-[state=open]:shadow-md data-[state=open]:border-green-200 transition-all",children:[n.jsx(GS,{className:"text-left font-bold text-gray-800 hover:text-green-600 py-5 text-[15px]",children:r.question}),n.jsx(qS,{className:"text-gray-600 pb-5 leading-relaxed",children:r.answer})]},s))})]})]})},xB=()=>n.jsxs("div",{className:"flex flex-col w-full",children:[n.jsx(k$,{}),n.jsx(L$,{}),n.jsx(E$,{}),n.jsx(z$,{}),n.jsx(V$,{}),n.jsx($$,{}),n.jsx(G$,{}),n.jsx(q$,{}),n.jsx(Y$,{}),n.jsx(gB,{}),n.jsx(X$,{})]}),KS=({car:e,onBook:t,vertical:r=!1})=>{var d,u,h,m,p;const s=ge(),a=jt(),i=x=>{x&&x.stopPropagation();const g=new URLSearchParams(a.search);s(`/car/${e.id}?${g.toString()}`)},o=((d=e.drivers)==null?void 0:d.rating)||null,l=`${((u=e.drivers)==null?void 0:u.first_name)||""} ${((m=(h=e.drivers)==null?void 0:h.last_name)==null?void 0:m[0])||""}.`.trim(),c=e.calculatedPrice||e.price||0;return n.jsx("div",{onClick:i,className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl hover:shadow-gray-200/50 transition-all duration-500 overflow-hidden group cursor-pointer",children:n.jsxs("div",{className:"flex flex-col sm:flex-row",children:[n.jsxs("div",{className:"relative sm:w-72 h-52 sm:h-auto bg-gradient-to-br from-gray-100 to-gray-50 overflow-hidden shrink-0",children:[e.main_photo?n.jsx("img",{src:e.main_photo,alt:`${e.make} ${e.model}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:n.jsx(rr,{className:"w-16 h-16"})}),o&&n.jsxs("div",{className:"absolute top-3 left-3 bg-gray-900/80 backdrop-blur-sm text-white px-2.5 py-1 rounded-lg text-xs font-bold flex items-center gap-1",children:[n.jsx(ut,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),o]}),n.jsxs("div",{className:"absolute bottom-3 left-3 bg-white/90 backdrop-blur-sm px-2.5 py-1 rounded-lg text-xs font-semibold text-gray-700",children:[e.year,"  ",e.car_class||"Standard"]})]}),n.jsxs("div",{className:"flex-1 p-5 sm:p-6 flex flex-col",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-green-600 transition-colors leading-tight",children:[e.make," ",e.model]}),n.jsxs("p",{className:"text-sm text-gray-400 mt-0.5",children:[e.year,"  ",e.license_plate]})]}),n.jsxs("div",{className:"flex items-center gap-2.5 shrink-0",children:[n.jsxs("div",{className:"text-right hidden sm:block",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-800",children:l}),n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(ur,{className:"w-3 h-3 text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Verified"})]})]}),n.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-green-100 to-emerald-50 overflow-hidden flex items-center justify-center border-2 border-green-200 shadow-sm",children:(p=e.drivers)!=null&&p.avatar_url?n.jsx("img",{src:e.drivers.avatar_url,alt:l,className:"w-full h-full object-cover"}):n.jsx(qn,{className:"w-5 h-5 text-green-600"})})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-gray-50 text-gray-600 text-xs font-medium px-3 py-1.5 rounded-full",children:[n.jsx(nr,{className:"w-3.5 h-3.5"})," ",e.seats," Seats"]}),n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-gray-50 text-gray-600 text-xs font-medium px-3 py-1.5 rounded-full",children:[n.jsx(xu,{className:"w-3.5 h-3.5"})," ",e.luggage_capacity||2," Bags"]}),e.fuel_type&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-gray-50 text-gray-600 text-xs font-medium px-3 py-1.5 rounded-full",children:[n.jsx(hg,{className:"w-3.5 h-3.5"})," ",e.fuel_type]}),e.transmission&&n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-gray-50 text-gray-600 text-xs font-medium px-3 py-1.5 rounded-full",children:[n.jsx(VN,{className:"w-3.5 h-3.5"})," ",e.transmission]})]}),n.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider",children:"Total Price"}),n.jsx("div",{className:"flex items-baseline gap-1",children:n.jsx("span",{className:"text-2xl font-extrabold text-gray-900",children:Pt(c)})})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(P,{onClick:x=>{x.stopPropagation(),t&&t(e)},className:"bg-green-600 hover:bg-green-700 text-white font-bold px-6 py-2.5 rounded-xl shadow-lg shadow-green-600/20 hover:shadow-green-600/30 transition-all duration-300",children:["Book Now",n.jsx(sr,{className:"w-4 h-4 ml-1"})]})})]})]})]})})};var Vx="Dialog",[YS,FW]=Ut(Vx),[vB,on]=YS(Vx),XS=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=f.useRef(null),c=f.useRef(null),[d=!1,u]=yr({prop:s,defaultProp:a,onChange:i});return n.jsx(vB,{scope:t,triggerRef:l,contentRef:c,contentId:fr(),titleId:fr(),descriptionId:fr(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};XS.displayName=Vx;var QS="DialogTrigger",JS=f.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=on(QS,r),i=ve(t,a.triggerRef);return n.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Hx(a.open),...s,ref:i,onClick:K(e.onClick,a.onOpenToggle)})});JS.displayName=QS;var Ux="DialogPortal",[yB,ZS]=YS(Ux,{forceMount:void 0}),eC=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=on(Ux,t);return n.jsx(yB,{scope:t,forceMount:r,children:f.Children.map(s,o=>n.jsx(_r,{present:r||i.open,children:n.jsx(Dl,{asChild:!0,container:a,children:o})}))})};eC.displayName=Ux;var Gd="DialogOverlay",tC=f.forwardRef((e,t)=>{const r=ZS(Gd,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=on(Gd,e.__scopeDialog);return i.modal?n.jsx(_r,{present:s||i.open,children:n.jsx(bB,{...a,ref:t})}):null});tC.displayName=Gd;var bB=f.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=on(Gd,r);return n.jsx(zg,{as:Rs,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(ne.div,{"data-state":Hx(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ja="DialogContent",rC=f.forwardRef((e,t)=>{const r=ZS(ja,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=on(ja,e.__scopeDialog);return n.jsx(_r,{present:s||i.open,children:i.modal?n.jsx(wB,{...a,ref:t}):n.jsx(jB,{...a,ref:t})})});rC.displayName=ja;var wB=f.forwardRef((e,t)=>{const r=on(ja,e.__scopeDialog),s=f.useRef(null),a=ve(t,r.contentRef,s);return f.useEffect(()=>{const i=s.current;if(i)return Ug(i)},[]),n.jsx(nC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:K(e.onFocusOutside,i=>i.preventDefault())})}),jB=f.forwardRef((e,t)=>{const r=on(ja,e.__scopeDialog),s=f.useRef(!1),a=f.useRef(!1);return n.jsx(nC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),nC=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=on(ja,r),c=f.useRef(null),d=ve(t,c);return Sg(),n.jsxs(n.Fragment,{children:[n.jsx(Tu,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(Vi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Hx(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(NB,{titleId:l.titleId}),n.jsx(SB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),zx="DialogTitle",sC=f.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=on(zx,r);return n.jsx(ne.h2,{id:a.titleId,...s,ref:t})});sC.displayName=zx;var aC="DialogDescription",iC=f.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=on(aC,r);return n.jsx(ne.p,{id:a.descriptionId,...s,ref:t})});iC.displayName=aC;var oC="DialogClose",lC=f.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=on(oC,r);return n.jsx(ne.button,{type:"button",...s,ref:t,onClick:K(e.onClick,()=>a.onOpenChange(!1))})});lC.displayName=oC;function Hx(e){return e?"open":"closed"}var cC="DialogTitleWarning",[$W,dC]=MA(cC,{contentName:ja,titleName:zx,docsSlug:"dialog"}),NB=({titleId:e})=>{const t=dC(cC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},_B="DialogDescriptionWarning",SB=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dC(_B).contentName}}.`;return f.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},CB=XS,kB=JS,uC=eC,hC=tC,mC=rC,fC=sC,pC=iC,TB=lC;const tt=CB,nw=kB,gC=({className:e,...t})=>n.jsx(uC,{className:Q(e),...t});gC.displayName=uC.displayName;const xC=X.forwardRef(({className:e,...t},r)=>n.jsx(hC,{ref:r,className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xC.displayName=hC.displayName;const Qe=X.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(gC,{children:[n.jsx(xC,{}),n.jsxs(mC,{ref:s,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...r,children:[t,n.jsxs(TB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-600",children:[n.jsx(Dt,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qe.displayName=mC.displayName;const bt=({className:e,...t})=>n.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});bt.displayName="DialogHeader";const Fr=({className:e,...t})=>n.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fr.displayName="DialogFooter";const wt=X.forwardRef(({className:e,...t},r)=>n.jsx(fC,{ref:r,className:Q("text-lg font-semibold leading-none tracking-tight text-black",e),...t}));wt.displayName=fC.displayName;const $r=X.forwardRef(({className:e,...t},r)=>n.jsx(pC,{ref:r,className:Q("text-sm text-gray-500",e),...t}));$r.displayName=pC.displayName;const EB=gu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}},defaultVariants:{variant:"default"}});function ee({className:e,variant:t,...r}){return n.jsx("div",{className:Q(EB({variant:t}),e),...r})}const vC=({data:e,onNext:t,onUpdateData:r,car:s,searchParams:a})=>{const{passengerCount:i}=e,o=a||{},l=o.startLocation||{name:"Tbilisi",name_en:"Tbilisi"},c=o.endLocation||{name:"Batumi",name_en:"Batumi"},d=o.date||new Date().toISOString().split("T")[0],u=o.distance||0;let h="5h 30m";o.duration&&(typeof o.duration=="string"?h=o.duration:typeof o.duration=="number"&&(h=`${Math.floor(o.duration/60)}h ${o.duration%60}m`));const m=()=>{i<s.seats&&r({passengerCount:i+1})},p=()=>{i>1&&r({passengerCount:i-1})},x=s.driver||{},g=`${x.first_name} ${x.last_name||""}`;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100 space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs("div",{className:"flex flex-col items-center gap-1 mt-1",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),n.jsx("div",{className:"w-0.5 h-10 bg-gray-300 border-l border-dashed border-gray-300"}),n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})]}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase",children:"From"}),n.jsx("p",{className:"text-sm font-bold text-gray-900",children:l.name||l.name_en||"Unknown Location"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase",children:"To"}),n.jsx("p",{className:"text-sm font-bold text-gray-900",children:c.name||c.name_en||"Unknown Location"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(it,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:d})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:(a==null?void 0:a.time)||"Flexible"})]}),n.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[n.jsxs(ee,{variant:"outline",className:"text-gray-600 bg-white",children:[typeof u=="number"?u.toFixed(0):u," km"]}),n.jsx("span",{className:"text-xs text-gray-400",children:""}),n.jsxs(ee,{variant:"outline",className:"text-gray-600 bg-white",children:["approx. ",h]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx("span",{className:"font-bold text-gray-700",children:"Passengers"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(P,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full",onClick:p,disabled:i<=1,children:n.jsx(OR,{className:"w-3 h-3"})}),n.jsx("span",{className:"font-bold text-lg w-4 text-center",children:i}),n.jsx(P,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full",onClick:m,disabled:i>=s.seats,children:n.jsx(ar,{className:"w-3 h-3"})})]})]}),n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white border border-gray-100 rounded-xl shadow-sm",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 overflow-hidden shrink-0",children:n.jsx("img",{src:x.avatar_url||"https://placehold.co/100x100",alt:"Driver",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-gray-900",children:g}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-orange-500 mb-0.5",children:[n.jsx(ut,{className:"w-3 h-3 fill-current"}),n.jsx("span",{className:"font-bold",children:x.rating||"New"}),n.jsxs("span",{className:"text-gray-400",children:["(",x.reviews_count||0," reviews)"]})]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[s.make," ",s.model,"  ",n.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:s.license_plate})]})]})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-green-50 rounded-xl border border-green-100",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[n.jsx("span",{children:"Base price"}),n.jsx("span",{children:Pt(s.price)})]}),n.jsxs("div",{className:"flex justify-between items-end border-t border-green-200 pt-2",children:[n.jsx("span",{className:"font-bold text-green-900",children:"Final Price"}),n.jsx("span",{className:"text-2xl font-bold text-green-700",children:Pt(s.price)})]}),n.jsx("p",{className:"text-xs text-green-600/70 text-right",children:"Includes all taxes and fees"})]}),n.jsx(P,{className:"w-full h-12 text-lg font-bold bg-green-600 hover:bg-green-700",onClick:t,children:"Next: Passenger Details"})]})},Ae=X.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-black ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-600 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ae.displayName="Textarea";const yC=({data:e,onNext:t,onBack:r,onUpdateData:s})=>{const{passengerName:a,passengerPhone:i,passengerEmail:o,specialRequests:l}=e,[c,d]=X.useState({}),u=()=>{const m={};(!a||a.length<3)&&(m.passengerName="Name must be at least 3 characters");const p=i.replace(/\s/g,"");return(!i||!p.startsWith("+995")||p.length!==13)&&(m.passengerPhone="Enter valid Georgian number (+995 5XX XXX XXX)"),o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(m.passengerEmail="Invalid email address"),d(m),Object.keys(m).length===0},h=()=>{u()&&t()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(T,{htmlFor:"fullName",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{id:"fullName",placeholder:"John Doe",value:a,onChange:m=>s({passengerName:m.target.value}),className:c.passengerName?"border-red-500 focus-visible:ring-red-500":""}),c.passengerName&&n.jsx("p",{className:"text-xs text-red-500",children:c.passengerName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(T,{htmlFor:"phone",children:["Phone Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{id:"phone",placeholder:"+995 5XX XXX XXX",value:i,onChange:m=>s({passengerPhone:m.target.value}),className:c.passengerPhone?"border-red-500 focus-visible:ring-red-500":""}),c.passengerPhone&&n.jsx("p",{className:"text-xs text-red-500",children:c.passengerPhone})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(T,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),n.jsx(D,{id:"email",type:"email",placeholder:"john@example.com",value:o,onChange:m=>s({passengerEmail:m.target.value}),className:c.passengerEmail?"border-red-500 focus-visible:ring-red-500":""}),c.passengerEmail&&n.jsx("p",{className:"text-xs text-red-500",children:c.passengerEmail})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(T,{htmlFor:"requests",children:["Special Requests ",n.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),n.jsxs("span",{className:"text-xs text-gray-400",children:[l.length,"/500"]})]}),n.jsx(Ae,{id:"requests",placeholder:"Any special requests? (e.g., extra luggage, pet, etc.)",value:l,maxLength:500,onChange:m=>s({specialRequests:m.target.value}),rows:4})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(P,{variant:"outline",onClick:r,className:"w-1/3 h-12 border-gray-200",children:"Back"}),n.jsx(P,{className:"w-2/3 h-12 bg-green-600 hover:bg-green-700 font-bold",onClick:h,children:"Next: Payment"})]})]})};function Wx(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gx="Radio",[PB,bC]=Ut(Gx),[AB,RB]=PB(Gx),wC=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,m]=f.useState(null),p=ve(t,b=>m(b)),x=f.useRef(!1),g=h?d||!!h.closest("form"):!0;return n.jsxs(AB,{scope:r,checked:a,disabled:o,children:[n.jsx(ne.button,{type:"button",role:"radio","aria-checked":a,"data-state":_C(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:K(e.onClick,b=>{a||c==null||c(),g&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),g&&n.jsx(DB,{control:h,bubbles:!x.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});wC.displayName=Gx;var jC="RadioIndicator",NC=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=RB(jC,r);return n.jsx(_r,{present:s||i.checked,children:n.jsx(ne.span,{"data-state":_C(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});NC.displayName=jC;var DB=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=f.useRef(null),o=Wx(r),l=Dg(t);return f.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&h){const m=new Event("click",{bubbles:s});h.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _C(e){return e?"checked":"unchecked"}var MB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qx="RadioGroup",[OB,BW]=Ut(qx,[Xi,bC]),SC=Xi(),CC=bC(),[IB,LB]=OB(qx),kC=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...m}=e,p=SC(r),x=Gi(d),[g,b]=yr({prop:i,defaultProp:a,onChange:h});return n.jsx(IB,{scope:r,name:s,required:o,disabled:l,value:g,onValueChange:b,children:n.jsx(Bg,{asChild:!0,...p,orientation:c,dir:x,loop:u,children:n.jsx(ne.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:t})})})});kC.displayName=qx;var TC="RadioGroupItem",EC=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=LB(TC,r),o=i.disabled||s,l=SC(r),c=CC(r),d=f.useRef(null),u=ve(t,d),h=i.value===a.value,m=f.useRef(!1);return f.useEffect(()=>{const p=g=>{MB.includes(g.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),n.jsx(Vg,{asChild:!0,...l,focusable:!o,active:h,children:n.jsx(wC,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:K(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:K(a.onFocus,()=>{var p;m.current&&((p=d.current)==null||p.click())})})})});EC.displayName=TC;var FB="RadioGroupIndicator",PC=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=CC(r);return n.jsx(NC,{...a,...s,ref:t})});PC.displayName=FB;var AC=kC,RC=EC,$B=PC;const DC=f.forwardRef(({className:e,...t},r)=>n.jsx(AC,{className:Q("grid gap-2",e),...t,ref:r}));DC.displayName=AC.displayName;const qf=f.forwardRef(({className:e,...t},r)=>n.jsx(RC,{ref:r,className:Q("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx($B,{className:"flex items-center justify-center",children:n.jsx(ti,{className:"h-2.5 w-2.5 fill-current text-current"})})}));qf.displayName=RC.displayName;const MC=({data:e,onNext:t,onBack:r,onUpdateData:s})=>{const{paymentMethod:a}=e;return n.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-bold text-gray-900",children:"Select Payment Method"}),n.jsxs(DC,{value:a,onValueChange:i=>s({paymentMethod:i}),className:"grid gap-4",children:[n.jsxs(T,{htmlFor:"card",className:`flex items-center justify-between px-4 py-4 border rounded-xl cursor-pointer transition-all hover:bg-gray-50 ${a==="card"?"border-green-500 bg-green-50/30 ring-1 ring-green-500":"border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-2 rounded-full ${a==="card"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}`,children:n.jsx(ha,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("span",{className:"font-bold block text-gray-900",children:"Card"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Visa, Mastercard, Amex"})]})]}),n.jsx(qf,{value:"card",id:"card",className:"data-[state=checked]:border-green-600 data-[state=checked]:text-green-600"})]}),n.jsxs(T,{htmlFor:"cash",className:`flex items-center justify-between px-4 py-4 border rounded-xl cursor-pointer transition-all hover:bg-gray-50 ${a==="cash"?"border-green-500 bg-green-50/30 ring-1 ring-green-500":"border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-2 rounded-full ${a==="cash"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}`,children:n.jsx(ff,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("span",{className:"font-bold block text-gray-900",children:"Cash"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Pay to driver"})]})]}),n.jsx(qf,{value:"cash",id:"cash",className:"data-[state=checked]:border-green-600 data-[state=checked]:text-green-600"})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(P,{variant:"outline",onClick:r,className:"w-1/3 h-12 border-gray-200",children:"Back"}),n.jsx(P,{className:"w-2/3 h-12 bg-green-600 hover:bg-green-700 font-bold",onClick:t,children:"Review & Confirm"})]})]})},BB="https://smsoffice.ge/integration/",VB=e=>{if(!e)return"";let t=e.replace(/\D/g,"");return t.startsWith("995")?`+${t}`:t.startsWith("5")?`+995${t}`:t.startsWith("05")?`+995${t.substring(1)}`:`+${t}`},UB=e=>{if(!e)return!1;const t=e.replace(/\D/g,"");return t.length===12&&t.startsWith("995")},Kf=async(e,t,r)=>{const s=VB(e);if(!UB(s))return{success:!1,error:"Invalid phone number format"};try{const i=await(await fetch(BB,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({phone:s,message:t,sender:"Georgiantrip"})})).json();return i.status==="success"?{success:!0,messageId:i.message_id}:{success:!1,error:i.error||"Unknown error from SMS provider"}}catch(a){return console.error("SMS Send Error:",a),{success:!1,error:a.message}}},zB=async(e,t,r)=>{var s,a,i,o;try{const{data:l}=await O.from("sms_settings").select("*").single();if(!l||!l.api_key)return console.warn("SMS Settings not found or API Key missing"),{success:!1,error:"Settings missing"};const{api_key:c,driver_sms_template:d,admin_sms_template:u}=l,h={driverName:`${t.first_name} ${t.last_name}`,passengerName:`${e.customer_first_name}`,passengerPhone:e.customer_phone,fromLocation:((s=e.pickup_location)==null?void 0:s.name_en)||"Start Location",toLocation:((a=e.dropoff_location)==null?void 0:a.name_en)||"End Location",date:e.date,time:e.time,bookingId:e.id.slice(0,8),carModel:`${(i=e.car)==null?void 0:i.make} ${(o=e.car)==null?void 0:o.model}`,price:e.total_price},m=b=>{if(!b)return"";let y=b;return Object.entries(h).forEach(([v,w])=>{y=y.replace(new RegExp(`{${v}}`,"g"),w||"")}),y},p=[];let x=!1,g=0;if(t&&t.phone){const b=m(d),y=await Kf(t.phone,b,c);y.success&&(x=!0),p.push({booking_id:e.id,recipient_phone:t.phone,recipient_type:"driver",message:b,status:y.success?"sent":"failed",error_message:y.error})}if(r&&r.length>0){const b=m(u);for(const y of r){if(!y.phone_number)continue;const v=await Kf(y.phone_number,b,c);v.success&&g++,p.push({booking_id:e.id,recipient_phone:y.phone_number,recipient_type:"admin",message:b,status:v.success?"sent":"failed",error_message:v.error})}}return p.length>0&&await O.from("sms_logs").insert(p),{success:!0,driverSent:x,adminsSent:g}}catch(l){return console.error("sendBookingSMS critical error:",l),{success:!1,error:l.message}}},OC=async e=>{try{const{data:t,error:r}=await O.rpc("create_booking_v2",{booking_data:e});if(r)throw r;const{data:s}=await O.from("admin_phone_numbers").select("phone_number").eq("is_primary",!0);return t&&t.driver&&zB(t,t.driver,s).then(a=>console.log("Background SMS Sent:",a)).catch(a=>console.error("Background SMS Failed:",a)),{success:!0,...t}}catch(t){throw console.error("Booking Creation Error:",t),t}},HB=async e=>{try{const{data:t,error:r}=await O.rpc("create_tour_booking",{booking_data:e});if(r)throw r;try{const[{data:s},{data:a}]=await Promise.all([O.from("admin_phone_numbers").select("phone_number").eq("is_primary",!0),O.from("sms_settings").select("api_key, admin_sms_template").single()]);if(a!=null&&a.api_key&&(s==null?void 0:s.length)>0){const o=`New Tour Booking! Tour: ${e.tour_name||"Tour"}, Passenger: ${e.passenger_name}, Date: ${e.tour_date}, Travelers: ${e.passenger_count}, Price: ${e.total_price} GEL`;for(const l of s)l.phone_number&&Kf(l.phone_number,o,a.api_key).then(c=>console.log("Tour SMS to admin:",c)).catch(c=>console.error("Tour SMS failed:",c))}}catch(s){console.error("Tour booking SMS error (non-fatal):",s)}return t}catch(t){throw console.error("Tour Booking Creation Error:",t),t}},WB=async(e,t)=>{try{const r={payment_status:t.status,updated_at:new Date().toISOString()};t.transactionId!==void 0&&(r.paypal_transaction_id=t.transactionId),t.paypalOrderId&&(r.paypal_order_id=t.paypalOrderId),t.payerEmail&&(r.paypal_payer_email=t.payerEmail);const{data:s,error:a}=await O.from("tour_bookings").update(r).eq("id",e).select().single();if(a)throw a;return s}catch(r){throw console.error("Tour Booking Update Error:",r),r}},GB=async e=>{try{const{data:t,error:r}=await O.from("tour_bookings").select(`
        *,
        tours:tour_id (*)
      `).eq("id",e).single();if(r)throw r;return t}catch(t){throw console.error("Get Tour Booking Error:",t),t}},qB=async e=>{const{data:t,error:r}=await O.from("bookings").select(`
      *,
      pickup_location:locations!bookings_pickup_location_id_fkey(*),
      dropoff_location:locations!bookings_dropoff_location_id_fkey(*),
      car:cars(*),
      driver:drivers(*)
    `).eq("id",e).maybeSingle();if(t)return{...t,type:"transfer"};const{data:s,error:a}=await O.from("tour_bookings").select(`
      *,
      tour:tours(*)
    `).eq("id",e).maybeSingle();if(s)return{...s,type:"tour"};throw r||a||new Error("Booking not found")},KB=async(e,t)=>{if(!e||!t)return 0;if(e.lat&&e.lng&&t.lat&&t.lng){const{calculateDistance:r}=await Ps(()=>Promise.resolve().then(()=>XB),void 0);return r(e.lat,e.lng,t.lat,t.lng)}return 100},IC=(e,t,r=null)=>{if(!e)return 0;const s=t||{base_rate_per_km:1.5,multiplier_0_50km:1.5,multiplier_50_100km:1.3,multiplier_100_200km:1.2,multiplier_200_plus_km:1,min_fare:50,driver_price_override_enabled:!0,max_price_per_km:5};let a=Number(s.base_rate_per_km||1.5),i=1;if(e<=50?i=Number(s.multiplier_0_50km||1.5):e<=100?i=Number(s.multiplier_50_100km||1.3):e<=200?i=Number(s.multiplier_100_200km||1.2):i=Number(s.multiplier_200_plus_km||1),s.driver_price_override_enabled&&r){const l=Array.isArray(r)?r[0]:r;l&&(l.base_rate_per_km&&(a=Number(l.base_rate_per_km)),e>200&&l.multiplier_200plus&&(i=Number(l.multiplier_200plus)))}s.max_price_per_km&&(a=Math.min(a,Number(s.max_price_per_km)));let o=e*a*i;return s.min_fare&&(o=Math.max(o,Number(s.min_fare))),Math.round(o)},YB=(e,t=70)=>{const r=100-t,s=e*(r/100),a=e-s;return{gross:e,adminCommission:Number(s.toFixed(2)),driverEarnings:Number(a.toFixed(2)),driverPercent:t,adminPercent:r}},LC=({data:e,car:t,searchParams:r,onBack:s,onSuccess:a})=>{var m,p;const[i,o]=f.useState(!1),{toast:l}=ae(),[c,d]=f.useState(30);f.useEffect(()=>{(async()=>{const{data:g}=await O.from("admin_settings").select("default_admin_commission").maybeSingle();g!=null&&g.default_admin_commission&&d(Number(g.default_admin_commission))})()},[]);const u=async()=>{var x,g,b,y,v,w,j,S,C,N;o(!0);try{const _=100-c,{driverEarnings:E,adminCommission:k}=YB(t.price,_),$={customer_first_name:e.passengerName,customer_phone:e.passengerPhone,customer_email:e.passengerEmail,customer_comment:e.specialRequests,start_location_id:(x=r.startLocation)==null?void 0:x.id,end_location_id:(g=r.endLocation)==null?void 0:g.id,stops:((b=r.stops)==null?void 0:b.map(H=>H==null?void 0:H.id).filter(Boolean))||[],pickup_lat:(y=r.startLocation)==null?void 0:y.lat,pickup_lng:(v=r.startLocation)==null?void 0:v.lng,dropoff_lat:(w=r.endLocation)==null?void 0:w.lat,dropoff_lng:(j=r.endLocation)==null?void 0:j.lng,driver_id:((S=t.driver)==null?void 0:S.id)||t.driver_id,car_id:t.id,total_price:t.price,passenger_price:t.price,driver_earnings:E,admin_commission:k,distance_km:r.distance,duration_minutes:r.duration?typeof r.duration=="string"?parseInt(r.duration):r.duration:0,passenger_count:e.passengerCount,date:r.date,time:r.time||"12:00",payment_method:e.paymentMethod,pickup_location_id:(C=r.startLocation)==null?void 0:C.id,dropoff_location_id:(N=r.endLocation)==null?void 0:N.id},F=await OC($);a(F)}catch(_){console.error("Booking creation error:",_),l({variant:"destructive",title:"Booking Failed",description:_.message||"Please try again later."})}finally{o(!1)}},h={card:ha,cash:ff,wallet:Wallet}[e.paymentMethod]||ff;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-100 space-y-4",children:[n.jsx("h3",{className:"font-bold text-gray-900 border-b border-gray-200 pb-2",children:"Trip Summary"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx(br,{className:"w-5 h-5 text-green-600 shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"From"}),n.jsx("p",{className:"text-sm font-medium",children:(m=r.startLocation)==null?void 0:m.name})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(br,{className:"w-5 h-5 text-red-500 shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"To"}),n.jsx("p",{className:"text-sm font-medium",children:(p=r.endLocation)==null?void 0:p.name})]})]})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-3 flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Date"}),n.jsx("span",{className:"font-medium",children:r.date})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-500 text-xs uppercase font-bold",children:[n.jsx(qn,{className:"w-4 h-4"})," Passenger"]}),n.jsx("p",{className:"font-bold text-sm truncate",children:e.passengerName}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.passengerPhone})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-500 text-xs uppercase font-bold",children:[n.jsx(h,{className:"w-4 h-4"})," Payment"]}),n.jsx("p",{className:"font-bold text-sm capitalize",children:e.paymentMethod}),n.jsx("p",{className:"text-xs text-green-600 font-bold",children:Pt(t.price)})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-lg flex gap-3 items-start",children:[n.jsx("div",{className:"bg-yellow-100 p-1 rounded-full text-yellow-700 shrink-0 mt-0.5",children:n.jsx(jn,{className:"w-3 h-3"})}),n.jsx("p",{className:"text-xs text-yellow-800 leading-relaxed",children:"By clicking Confirm, you agree to our Terms of Service. Your driver will be notified immediately."})]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(P,{variant:"outline",onClick:s,disabled:i,className:"w-1/3 h-14 border-gray-200 text-base",children:"Back"}),n.jsx(P,{className:"w-2/3 h-14 bg-green-600 hover:bg-green-700 font-bold text-base shadow-lg shadow-green-100",onClick:u,disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(de,{className:"w-5 h-5 mr-2 animate-spin"})," Processing..."]}):"Confirm Booking"})]})]})},FC=({booking:e,car:t,searchParams:r,onDetails:s})=>{var c,d,u,h,m,p;const a=ge(),[i,o]=f.useState(300);f.useEffect(()=>{const x=setInterval(()=>{o(g=>g>0?g-1:0)},1e3);return()=>clearInterval(x)},[]);const l=x=>{const g=Math.floor(x/60),b=x%60;return`${g}:${b<10?"0":""}${b}`};return n.jsxs("div",{className:"text-center space-y-6 pt-4",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-4 animate-bounce",children:n.jsx(ur,{className:"w-10 h-10 text-green-600"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Booking Requested!"}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["Booking ID: ",n.jsxs("span",{className:"font-mono text-gray-700",children:["#",(c=e==null?void 0:e.id)==null?void 0:c.slice(0,8).toUpperCase()]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-800 font-bold mb-1",children:[n.jsx(Nn,{className:"w-4 h-4 animate-pulse"}),n.jsxs("span",{children:["Driver confirming in ",l(i)]})]}),n.jsx("p",{className:"text-xs text-blue-600/80",children:"Please wait while the driver accepts your request."})]}),n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 shadow-sm text-left",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4 border-b border-gray-100 pb-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 overflow-hidden",children:n.jsx("img",{src:((d=t.driver)==null?void 0:d.avatar_url)||"https://placehold.co/100",className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-bold text-gray-900",children:[(u=t.driver)==null?void 0:u.first_name," ",(h=t.driver)==null?void 0:h.last_name]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[t.make," ",t.model,"  ",t.license_plate]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Route"}),n.jsxs("span",{className:"font-medium text-right truncate max-w-[200px]",children:[(m=r.startLocation)==null?void 0:m.name,"  ",(p=r.endLocation)==null?void 0:p.name]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Total Price"}),n.jsx("span",{className:"font-bold text-green-600",children:Pt((e==null?void 0:e.total_price)||0)})]})]})]}),n.jsxs("div",{className:"space-y-3 pt-2",children:[n.jsx(P,{className:"w-full h-12 bg-gray-900 hover:bg-gray-800 text-white font-bold",onClick:()=>a(`/bookings/${e.id}`),children:"View Full Booking"}),n.jsx(P,{variant:"ghost",className:"w-full text-gray-500",onClick:()=>a("/search-results"),children:"Back to Search"})]})]})},$C=({isOpen:e,onClose:t,car:r,searchParams:s})=>{const[a,i]=f.useState(1),[o,l]=f.useState(null),c=()=>{i(1),l(null),u({passengerCount:1,passengerName:"",passengerPhone:"+995",passengerEmail:"",specialRequests:"",paymentMethod:"cash"}),t()},[d,u]=f.useState({passengerCount:1,passengerName:"",passengerPhone:"+995",passengerEmail:"",specialRequests:"",paymentMethod:"cash"}),h=b=>{u(y=>({...y,...b}))},m=()=>i(b=>b+1),p=()=>i(b=>b-1),x=b=>{l(b),i(5)},g=["Trip Details","Passenger Details","Payment Method","Review Booking","Booking Confirmed"];return r?n.jsx(tt,{open:e,onOpenChange:b=>!b&&c(),children:n.jsxs(Qe,{className:"sm:max-w-[600px] p-0 gap-0 overflow-hidden bg-white rounded-2xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-white z-10 sticky top-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[a>1&&a<5&&n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 -ml-2",onClick:p,children:n.jsx(Ol,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:g[a-1]}),a<5&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Step ",a," of 4"]})]})]}),a<5&&n.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(b=>n.jsx("div",{className:`h-1.5 w-8 rounded-full transition-colors ${b<=a?"bg-green-500":"bg-gray-200"}`},b))}),a<5&&n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400",onClick:c,children:n.jsx(Dt,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto flex-1",children:[a===1&&n.jsx(vC,{data:d,onNext:m,onUpdateData:h,car:r,searchParams:s}),a===2&&n.jsx(yC,{data:d,onNext:m,onBack:p,onUpdateData:h}),a===3&&n.jsx(MC,{data:d,onNext:m,onBack:p,onUpdateData:h}),a===4&&n.jsx(LC,{data:d,car:r,searchParams:s,onBack:p,onSuccess:x}),a===5&&n.jsx(FC,{booking:o,car:r,searchParams:s})]})]})}):null};function BC(e,t,r,s){const i=Dc(r-e),o=Dc(s-t),l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(Dc(e))*Math.cos(Dc(r))*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function Dc(e){return e*(Math.PI/180)}const XB=Object.freeze(Object.defineProperty({__proto__:null,calculateDistance:BC},Symbol.toStringTag,{value:"Module"})),sw=()=>{const e=jt(),t=ge(),[r,s]=f.useState(!0),[a,i]=f.useState(null),[o,l]=f.useState([]),[c,d]=f.useState(!1),[u,h]=f.useState(null);f.useEffect(()=>{(async()=>{s(!0);const g=new URLSearchParams(e.search),b=g.get("from"),y=g.get("to"),v=g.get("date")||new Date().toISOString().split("T")[0],w=g.get("stops")?g.get("stops").split(","):[];if(!b||!y){s(!1);return}try{const j=[b,y,...w],[{data:S,error:C},{data:N}]=await Promise.all([O.from("locations").select("*").in("id",j),O.from("admin_settings").select("*").maybeSingle()]);if(C)throw C;const _=S.find(R=>R.id===b),E=S.find(R=>R.id===y),k=w.map(R=>S.find(I=>I.id===R)).filter(Boolean);if(!_||!E){s(!1);return}let $=0,F=0;const H=[_,...k,E];for(let R=0;R<H.length-1;R++){const I=H[R],V=H[R+1];if(I.lat&&I.lng&&V.lat&&V.lng){const Y=BC(I.lat,I.lng,V.lat,V.lng);$+=Y}}F=$/60*60+w.length*10;const{data:B,error:A}=await O.from("cars").select(`
            *,
            drivers (*, driver_pricing(*))
          `).eq("active",!0).eq("verification_status","approved");if(A)throw A;const M=N?{base_rate_per_km:N.base_rate_per_km,multiplier_0_50km:N.multiplier_0_50km,multiplier_50_100km:N.multiplier_50_100km,multiplier_100_200km:N.multiplier_100_200km,multiplier_200_plus_km:N.multiplier_200_plus_km,min_fare:N.min_fare,driver_price_override_enabled:N.driver_price_override_enabled??!0,max_price_per_km:N.max_price_per_km??5}:null,U=B.map(R=>{var Y;const I=((Y=R.drivers)==null?void 0:Y.driver_pricing)||null,V=IC($,M,I);return{...R,calculatedPrice:V,price:V}});i({from:_,to:E,stops:k,date:v,distance:Math.round($),duration:Math.round(F)}),l(U)}catch(j){console.error("Error fetching search results:",j)}finally{s(!1)}})()},[e.search]);const m=x=>{h(x),d(!0)},p=a?{startLocation:{id:a.from.id,name:a.from.name_en,lat:a.from.lat,lng:a.from.lng},endLocation:{id:a.to.id,name:a.to.name_en,lat:a.to.lat,lng:a.to.lng},stops:a.stops.map(x=>({id:x.id,name:x.name_en,lat:x.lat,lng:x.lng})),date:a.date,distance:a.distance,duration:`${Math.floor(a.duration/60)}h ${a.duration%60}m`}:null;return n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsx(vr,{children:n.jsx("title",{children:"Search Results | GeorgianTrip"})}),n.jsxs("div",{className:"bg-gray-950 pt-24 pb-6 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/20 via-gray-950 to-gray-950 z-0"}),n.jsx("div",{className:"container-custom relative z-10",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3",children:[n.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"shrink-0 hidden md:flex text-gray-400 hover:text-white hover:bg-white/10",children:[n.jsx(Ir,{className:"w-4 h-4 mr-2"})," Back"]}),n.jsxs("div",{className:"w-full",children:[a&&n.jsx(Iu,{compact:!0,initialData:{startLocation:{id:a.from.id,name:a.from.name_en},endLocation:{id:a.to.id,name:a.to.name_en},stops:a.stops.map(x=>({id:x.id,name:x.name_en})),date:a.date}}),!a&&r&&n.jsx("div",{className:"h-14 w-full bg-white/10 animate-pulse rounded-xl"})]})]})})]}),n.jsx("div",{className:"container-custom pt-8",children:r?n.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[n.jsx(de,{className:"w-10 h-10 animate-spin text-green-600 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Finding the best rides for you..."})]}):a?n.jsxs("div",{className:"flex flex-col gap-8",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 flex flex-wrap gap-6 items-center justify-between",children:[n.jsxs("div",{className:"flex flex-wrap gap-8 items-center",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase",children:"From"}),n.jsx("span",{className:"font-semibold text-lg text-gray-900",children:a.from.name_en})]}),n.jsx(Ir,{className:"w-5 h-5 text-green-500 rotate-180 hidden sm:block"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase",children:"To"}),n.jsx("span",{className:"font-semibold text-lg text-gray-900",children:a.to.name_en})]})]}),n.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 bg-green-50 px-4 py-2 rounded-xl border border-green-100 font-medium",children:[n.jsxs("span",{children:[a.distance," km"]}),n.jsx("span",{className:"text-green-300",children:"|"}),n.jsxs("span",{children:[Math.floor(a.duration/60),"h ",a.duration%60,"m"]})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:["Available Vehicles",n.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-sm border border-green-100",children:o.length})]}),o.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(x=>n.jsx(KS,{car:x,onBook:()=>m(x),vertical:!0},x.id))}):n.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border border-gray-100",children:[n.jsx(tn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No cars available"}),n.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"We couldn't find any available cars for this specific route."}),n.jsxs(P,{variant:"outline",onClick:()=>t("/"),children:[n.jsx($l,{className:"w-4 h-4 mr-2"})," Search Again"]})]})]})]}):n.jsxs("div",{className:"text-center py-20",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Start your journey"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Please select a pickup and drop-off location to see available cars."}),n.jsx(P,{onClick:()=>t("/"),children:"Go Home"})]})}),n.jsx($C,{isOpen:c,onClose:()=>d(!1),car:u,searchParams:p})]})},QB=({transfer:e})=>{var s,a;if(!e)return null;const t=((s=e.from_location)==null?void 0:s.name_en)||"Origin",r=((a=e.to_location)==null?void 0:a.name_en)||"Destination";return n.jsxs("div",{className:"bg-gray-950 text-white pt-28 pb-20 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/30 via-gray-950 to-blue-900/20 z-0"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_60%_30%,rgba(16,185,129,0.08),transparent_60%)]"}),n.jsx("div",{className:"absolute top-1/3 right-10 w-72 h-72 bg-green-500/5 rounded-full blur-3xl"}),n.jsxs(ye.div,{className:"container-custom relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("nav",{className:"flex items-center text-sm text-gray-400 mb-6",children:[n.jsx(ie,{to:"/",className:"hover:text-white transition-colors",children:"Home"}),n.jsx(sr,{className:"w-4 h-4 mx-2"}),n.jsx(ie,{to:"/transfers",className:"hover:text-white transition-colors",children:"Transfers"}),n.jsx(sr,{className:"w-4 h-4 mx-2"}),n.jsx("span",{className:"text-white font-medium truncate max-w-[200px] sm:max-w-none",children:e.name_en})]}),n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 backdrop-blur-sm text-white rounded-full text-sm font-bold mb-6 tracking-wide border border-white/20",children:[n.jsx(Ci,{className:"w-4 h-4 text-green-400"}),"Private Transfer"]}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-8",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl md:text-5xl font-heading font-bold mb-5 leading-tight",children:[t,n.jsx(at,{className:"inline w-6 h-6 md:w-8 md:h-8 text-green-400 mx-3"}),r]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3.5 py-2 rounded-xl text-sm font-medium border border-white/10",children:[n.jsx(Ci,{className:"w-4 h-4 text-green-400"}),e.distance_km," km"]}),n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3.5 py-2 rounded-xl text-sm font-medium border border-white/10",children:[n.jsx(Nn,{className:"w-4 h-4 text-green-400"}),Math.floor(e.duration_minutes/60),"h ",e.duration_minutes%60>0?`${e.duration_minutes%60}m`:""]}),n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3.5 py-2 rounded-xl text-sm font-medium border border-white/10",children:[n.jsx(bn,{className:"w-4 h-4 text-green-400"}),"Fixed Price"]})]})]}),n.jsxs("div",{className:"bg-white/[0.07] backdrop-blur-md px-8 py-5 rounded-2xl border border-white/10 text-center shrink-0",children:[n.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider font-bold mb-1",children:"Starting from"}),n.jsx("div",{className:"flex items-baseline justify-center gap-1",children:n.jsx("span",{className:"text-4xl font-bold text-green-400",children:Pt(e.base_price)})}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"per vehicle"})]})]})]})]})},JB=({startLocation:e,endLocation:t,onSearch:r})=>{const s=new Date().toISOString().split("T")[0],a={startLocation:e,endLocation:t,stops:[],date:s};return n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-1.5 -mt-10 relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-2 px-4 pt-3 pb-1 text-xs text-gray-400 font-bold uppercase tracking-wider",children:[n.jsx(it,{className:"w-3.5 h-3.5"}),"Select date & customize your trip"]}),n.jsx(Iu,{compact:!0,initialData:a,onSearch:r})]})},ZB=({transfer:e})=>{var r,s,a,i;if(!e)return null;const t=[{icon:bn,text:"Free cancellation 24h before"},{icon:ON,text:"Meet & Greet service"},{icon:ha,text:"No hidden fees"},{icon:IR,text:"Flight monitoring"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6",children:[n.jsxs("h3",{className:"font-bold text-white text-sm uppercase tracking-wider mb-5 flex items-center gap-2",children:[n.jsx(tn,{className:"w-4 h-4 text-green-400"}),"Route Details"]}),n.jsxs("div",{className:"space-y-0 relative",children:[n.jsx("div",{className:"absolute left-[11px] top-8 bottom-8 w-0.5 bg-gradient-to-b from-green-500 to-red-400 opacity-40"}),n.jsxs("div",{className:"flex gap-4 relative z-10 pb-6",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500/20 border-2 border-green-400 shrink-0 mt-0.5 flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest mb-0.5",children:"Pick-up"}),n.jsx("p",{className:"font-bold text-white text-lg",children:((r=e.from_location)==null?void 0:r.name_en)||"Origin"})]})]}),n.jsxs("div",{className:"flex gap-4 relative z-10",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500/20 border-2 border-red-400 shrink-0 mt-0.5 flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest mb-0.5",children:"Drop-off"}),n.jsx("p",{className:"font-bold text-white text-lg",children:((s=e.to_location)==null?void 0:s.name_en)||"Destination"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 divide-x divide-gray-100",children:[n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:"Distance"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[e.distance_km," km"]})]}),n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:"Duration"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["~",Math.floor(e.duration_minutes/60),"h ",e.duration_minutes%60>0?`${e.duration_minutes%60}m`:""]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6",children:[n.jsx("h4",{className:"font-bold text-gray-900 mb-4 text-sm uppercase tracking-wider",children:"What's Included"}),n.jsx("div",{className:"space-y-3",children:t.map((o,l)=>n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-50 flex items-center justify-center shrink-0",children:n.jsx(o.icon,{className:"w-4 h-4 text-green-600"})}),n.jsx("span",{className:"text-gray-700 font-medium",children:o.text})]},l))})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6",children:[n.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-sm uppercase tracking-wider",children:"About this Transfer"}),n.jsxs("p",{className:"text-gray-500 text-sm leading-relaxed",children:["Enjoy a comfortable private transfer from ",(a=e.from_location)==null?void 0:a.name_en," to ",(i=e.to_location)==null?void 0:i.name_en,". Our professional drivers ensure a safe and smooth journey. The price is fixed per vehicle and includes all taxes and fees."]})]})]})},eV=()=>{var j,S,C,N,_,E,k,$,F,H;const{transferSlug:e}=an(),t=ge(),[r,s]=f.useState(null),[a,i]=f.useState(!0),[o,l]=f.useState([]),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,p]=f.useState(null),[x,g]=f.useState(null);f.useEffect(()=>{e&&(async()=>{var A,M,U,R,I,V,Y,oe;i(!0);try{const fe=await R$(e);if(s(fe),fe){const le=new Date().toISOString().split("T")[0];await b(fe,le),g({startLocation:{id:(A=fe.from_location)==null?void 0:A.id,name:(M=fe.from_location)==null?void 0:M.name_en,lat:(U=fe.from_location)==null?void 0:U.lat,lng:(R=fe.from_location)==null?void 0:R.lng},endLocation:{id:(I=fe.to_location)==null?void 0:I.id,name:(V=fe.to_location)==null?void 0:V.name_en,lat:(Y=fe.to_location)==null?void 0:Y.lat,lng:(oe=fe.to_location)==null?void 0:oe.lng},stops:[],date:le})}}catch(fe){console.error(fe)}finally{i(!1)}})()},[e]);const b=async(B,A)=>{d(!0);try{const M=await D$(B.from_location_id,B.to_location_id,A);let U=null;try{const{data:I}=await O.from("admin_settings").select("*").maybeSingle();U=I}catch{}const R=M.map(I=>{const V=I.driver_pricing||null,Y=IC(B.distance_km,U,V);return{...I,calculatedPrice:Number(B.base_price)||Y}});l(R)}catch(M){console.error(M)}finally{d(!1)}},y=B=>{g(B),r&&b(r,B.date)},v=B=>{p(B),h(!0)};if(a)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(de,{className:"w-10 h-10 animate-spin text-green-600 mx-auto mb-3"}),n.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Loading transfer..."})]})});if(!r)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center",children:n.jsxs("div",{className:"text-center max-w-sm",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gray-100 flex items-center justify-center mx-auto mb-4",children:n.jsx(UR,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Transfer Not Found"}),n.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"The transfer route you're looking for doesn't exist or has been removed."}),n.jsx(P,{onClick:()=>t("/"),className:"bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl px-6",children:"Go Home"})]})});const w=x?{...x,distance:r.distance_km,duration:`${Math.floor(r.duration_minutes/60)}h ${r.duration_minutes%60}m`}:null;return n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsxs(vr,{children:[n.jsxs("title",{children:[r.name_en," | GeorgianTrip Transfers"]}),n.jsx("meta",{name:"description",content:`Book a private transfer from ${(j=r.from_location)==null?void 0:j.name_en} to ${(S=r.to_location)==null?void 0:S.name_en}. Fixed price ${r.base_price} GEL.`})]}),n.jsx(QB,{transfer:r}),n.jsx("div",{className:"container-custom",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 relative",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsx(JB,{startLocation:{id:(C=r.from_location)==null?void 0:C.id,name:(N=r.from_location)==null?void 0:N.name_en,lat:(_=r.from_location)==null?void 0:_.lat,lng:(E=r.from_location)==null?void 0:E.lng},endLocation:{id:(k=r.to_location)==null?void 0:k.id,name:($=r.to_location)==null?void 0:$.name_en,lat:(F=r.to_location)==null?void 0:F.lat,lng:(H=r.to_location)==null?void 0:H.lng},onSearch:y}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-50 flex items-center justify-center",children:n.jsx(rr,{className:"w-4 h-4 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Available Vehicles"}),n.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Select a car to book your transfer"})]})]}),n.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs font-bold px-3 py-1.5 rounded-full",children:[o.length," ",o.length===1?"option":"options"]})]}),c?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(B=>n.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:n.jsxs("div",{className:"flex flex-col sm:flex-row",children:[n.jsx("div",{className:"sm:w-72 h-48 sm:h-52 bg-gray-100 animate-pulse"}),n.jsxs("div",{className:"flex-1 p-6 space-y-4",children:[n.jsx("div",{className:"h-6 bg-gray-100 rounded-lg w-2/3 animate-pulse"}),n.jsx("div",{className:"h-4 bg-gray-100 rounded-lg w-1/3 animate-pulse"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"h-8 bg-gray-100 rounded-full w-20 animate-pulse"}),n.jsx("div",{className:"h-8 bg-gray-100 rounded-full w-20 animate-pulse"})]}),n.jsx("div",{className:"h-12 bg-gray-100 rounded-lg w-full animate-pulse mt-auto"})]})]})},B))}):o.length>0?n.jsx("div",{className:"space-y-4",children:o.map(B=>n.jsx(KS,{car:B,onBook:()=>v(B)},B.id))}):n.jsxs("div",{className:"bg-white p-12 rounded-2xl text-center border border-gray-100 shadow-sm",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gray-50 flex items-center justify-center mx-auto mb-4",children:n.jsx(rr,{className:"w-7 h-7 text-gray-300"})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No vehicles available"}),n.jsx("p",{className:"text-gray-400 text-sm mb-6 max-w-xs mx-auto",children:"No cars are available for this date. Try selecting a different date."}),n.jsxs(P,{variant:"outline",onClick:()=>b(r,new Date().toISOString().split("T")[0]),className:"rounded-xl font-semibold",children:[n.jsx($l,{className:"w-4 h-4 mr-2"})," Search Today"]})]})]})]}),n.jsx("div",{className:"lg:col-span-1 pt-8 lg:pt-0",children:n.jsx("div",{className:"sticky top-24 space-y-6",children:n.jsx(ZB,{transfer:r})})})]})}),n.jsx($C,{isOpen:u,onClose:()=>h(!1),car:m,searchParams:w})]})},tV=({car:e,transferId:t,basePrice:r})=>{var o,l;const s=ge(),a=c=>{c.stopPropagation(),s(`/car/${e.id}`)},i=r||e.price||0;return n.jsxs("div",{className:"group bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-xl hover:border-green-100 transition-all duration-300 overflow-hidden flex flex-col h-full",children:[n.jsxs("div",{className:"relative aspect-video bg-gray-100 overflow-hidden",children:[e.main_photo?n.jsx("img",{src:e.main_photo,alt:`${e.make} ${e.model}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:n.jsx(rr,{className:"w-16 h-16 opacity-30"})}),n.jsxs("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm px-2.5 py-1 rounded-full shadow-sm text-xs font-bold text-gray-800 flex items-center gap-1",children:[n.jsx(ut,{className:"w-3.5 h-3.5 text-yellow-500 fill-yellow-500"}),((o=e.driver)==null?void 0:o.rating)||"5.0"," ",n.jsxs("span",{className:"text-gray-400 font-normal",children:["(",((l=e.driver)==null?void 0:l.reviews_count)||12,")"]})]})]}),n.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 leading-tight group-hover:text-green-600 transition-colors",children:[e.make," ",e.model]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1 font-medium",children:e.category||"Comfort Class"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-5",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-2.5 flex items-center justify-center gap-2 group-hover:bg-green-50 transition-colors",children:[n.jsx(qn,{className:"w-4 h-4 text-gray-500"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.seats," seats"]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-2.5 flex items-center justify-center gap-2 group-hover:bg-green-50 transition-colors",children:[n.jsx(xu,{className:"w-4 h-4 text-gray-500"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.luggage_capacity||2," bags"]})]})]}),n.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Total Price"}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:Pt(i)})]}),n.jsx(P,{onClick:a,className:"bg-gray-900 hover:bg-green-600 text-white font-bold px-6 shadow-lg shadow-gray-200 hover:shadow-green-200 transition-all duration-300",children:"Book Now"})]})]})]})},rV=()=>{var u,h;const{transferId:e}=an(),[t,r]=f.useState(null),[s,a]=f.useState([]),[i,o]=f.useState(!0);if(f.useEffect(()=>{(async()=>{if(e)try{const p=await M$(e);r(p),a(p.cars||[])}catch(p){console.error("Error fetching transfer details:",p)}finally{o(!1)}})()},[e]),i)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx(de,{className:"w-10 h-10 animate-spin text-green-600"})});if(!t)return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Transfer Not Found"}),n.jsx(ie,{to:"/",children:n.jsx(P,{className:"bg-green-600 hover:bg-green-700 rounded-full px-8",children:"Return Home"})})]});const l=(u=t.from_location)==null?void 0:u.name_en,c=(h=t.to_location)==null?void 0:h.name_en,d=`${l} to ${c}`;return n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsx(vr,{children:n.jsxs("title",{children:["Transfer ",d," | Available Cars"]})}),n.jsxs("div",{className:"bg-gray-950 text-white pt-28 pb-16 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/30 via-gray-950 to-blue-900/20 z-0"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_60%_40%,rgba(16,185,129,0.1),transparent_60%)]"}),n.jsxs(ye.div,{className:"container-custom relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("nav",{className:"flex items-center text-sm text-gray-400 mb-6",children:[n.jsx(ie,{to:"/",className:"hover:text-white transition-colors",children:"Home"}),n.jsx(sr,{className:"w-4 h-4 mx-2"}),n.jsx(ie,{to:"/transfers",className:"hover:text-white transition-colors",children:"Transfers"}),n.jsx(sr,{className:"w-4 h-4 mx-2"}),n.jsx("span",{className:"text-white font-medium truncate max-w-[200px] sm:max-w-none",children:d})]}),n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 backdrop-blur-sm text-white rounded-full text-sm font-bold mb-4 tracking-wide border border-white/20",children:[n.jsx(Ci,{className:"w-4 h-4 text-green-400"}),"Private Transfer"]}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-6 mt-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl md:text-5xl font-heading font-bold mb-4 leading-tight",children:[l," ",n.jsx(at,{className:"inline w-6 h-6 md:w-8 md:h-8 text-green-400 mx-2"})," ",c]}),n.jsx("p",{className:"text-gray-300 text-lg max-w-xl",children:"Select your preferred vehicle for this route. All prices are fixed and include all fees."})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2.5 rounded-xl text-white font-medium border border-white/20",children:[n.jsx(Ci,{className:"w-4 h-4 text-green-400"}),n.jsxs("span",{children:[t.distance_km," km"]})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2.5 rounded-xl text-white font-medium border border-white/20",children:[n.jsx(Nn,{className:"w-4 h-4 text-green-400"}),n.jsxs("span",{children:[Math.floor(t.duration_minutes/60),"h ",t.duration_minutes%60,"m"]})]})]})]})]})]}),n.jsxs("div",{className:"container-custom py-12",children:[n.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:["Available Cars",n.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-sm font-semibold border border-green-100",children:s.length})]}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 bg-white px-4 py-2 rounded-xl border border-gray-200 shadow-sm",children:[n.jsx(tn,{className:"w-4 h-4 text-green-600"}),"All prices are final (GEL)"]})]}),s.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(m=>n.jsx(tV,{car:m,transferId:t.id,basePrice:t.base_price},m.id))}):n.jsxs("div",{className:"text-center py-24 bg-white rounded-2xl border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"bg-green-50 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx(rr,{className:"w-10 h-10 text-green-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"No cars currently available"}),n.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:"We couldn't find any cars specifically assigned to this route right now. Please try contacting us for a custom quote."}),n.jsx(ie,{to:"/contact",children:n.jsx(P,{className:"bg-green-600 hover:bg-green-500 text-white px-8 h-12 text-base shadow-lg shadow-green-200 rounded-full font-bold",children:"Contact Support"})})]})]})]})},nV=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(""),o=ge(),{content:l}=ot("pages","transfers",et.pages.transfers);f.useEffect(()=>{(async()=>{try{const h=await NS();t(h||[])}catch(h){console.error(h)}finally{s(!1)}})()},[]);const c=e.filter(u=>{var h,m,p,x;return u.name_en.toLowerCase().includes(a.toLowerCase())||((m=(h=u.from_location)==null?void 0:h.name_en)==null?void 0:m.toLowerCase().includes(a.toLowerCase()))||((x=(p=u.to_location)==null?void 0:p.name_en)==null?void 0:x.toLowerCase().includes(a.toLowerCase()))}),d=u=>{o(`/transfer/s/${u.slug}`)};return n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsx(vr,{children:n.jsx("title",{children:"All Transfers | GeorgianTrip"})}),n.jsxs("div",{className:"bg-gray-950 text-white py-28 pb-20 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/30 via-gray-950 to-blue-900/20 z-0"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(16,185,129,0.1),transparent_60%)]"}),n.jsxs(ye.div,{className:"container-custom relative z-10 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 backdrop-blur-sm text-white rounded-full text-sm font-bold mb-4 tracking-wide border border-white/20",children:[n.jsx(Ci,{className:"w-4 h-4"}),"Private Transfers"]}),n.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold mb-4",children:l.title||"Transfer Routes"}),n.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto mb-10",children:l.subtitle||"Fixed price private transfers to all major destinations in Georgia. Book online, pay driver in cash."}),n.jsx("div",{className:"max-w-4xl mx-auto bg-white/10 backdrop-blur-sm p-4 rounded-2xl border border-white/10",children:n.jsx(Iu,{compact:!0})})]})]}),n.jsxs("div",{className:"container-custom pt-10",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Available Routes (",c.length,")"]}),n.jsxs("div",{className:"relative w-full md:w-72",children:[n.jsx(ts,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),n.jsx(D,{placeholder:"Search routes...",className:"pl-9 bg-white rounded-xl",value:a,onChange:u=>i(u.target.value)})]})]}),r?n.jsx("div",{className:"flex justify-center py-20",children:n.jsx(de,{className:"w-8 h-8 animate-spin text-green-600"})}):c.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(u=>n.jsxs("div",{onClick:()=>d(u),className:"bg-white rounded-2xl border border-gray-100 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group flex flex-col h-full",children:[n.jsxs("div",{className:"h-48 overflow-hidden relative bg-gray-100",children:[u.image_url?n.jsx("img",{src:u.image_url,alt:u.name_en,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 bg-gray-100",children:n.jsx(br,{className:"w-12 h-12 opacity-20"})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:n.jsx("h3",{className:"text-white font-bold text-lg leading-tight",children:u.name_en})})]}),n.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold",children:"Distance"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[u.distance_km," km"]})]}),n.jsxs("div",{className:"flex flex-col text-right",children:[n.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold",children:"Time"}),n.jsxs("span",{className:"font-medium text-gray-900",children:["~",Math.round(u.duration_minutes/60)," hrs"]})]})]}),n.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Fixed Price"}),n.jsx("p",{className:"text-xl font-bold text-green-600",children:Pt(u.base_price)})]}),n.jsx(P,{size:"sm",className:"rounded-full w-10 h-10 p-0 bg-green-600 hover:bg-green-700 group-hover:scale-110 transition-transform",children:n.jsx(at,{className:"w-4 h-4"})})]})]})]},u.id))}):n.jsx("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-100",children:n.jsx("p",{className:"text-gray-500",children:"No transfers found matching your search."})})]})]})},sV=()=>{var m,p,x,g,b,y,v,w;const{bookingId:e}=an(),t=ge(),{toast:r}=ae(),[s,a]=f.useState(null),[i,o]=f.useState(!0),[l,c]=f.useState(!1);f.useEffect(()=>{e&&(async()=>{try{const S=await qB(e);a(S)}catch{r({variant:"destructive",title:"Error",description:"Could not load booking details"})}finally{o(!1)}})()},[e]);const d=async()=>{if(window.confirm("Are you sure you want to cancel this booking?")){c(!0);try{const{error:j}=await O.from("bookings").update({status:"cancelled"}).eq("id",e);if(j)throw j;a(S=>({...S,status:"cancelled"})),r({title:"Booking Cancelled",description:"Your booking has been cancelled."})}catch(j){r({variant:"destructive",title:"Error",description:j.message||"Could not cancel booking"})}finally{c(!1)}}},u=async()=>{const j=window.location.href;if(navigator.share)try{await navigator.share({title:`Booking #${e.slice(0,8)}`,url:j})}catch{}else await navigator.clipboard.writeText(j),r({title:"Link Copied",description:"Booking link copied to clipboard."})};if(i)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx(de,{className:"animate-spin w-8 h-8 text-green-600"})});if(!s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Booking not found"});const h={pending:"bg-yellow-100 text-yellow-700",confirmed:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"};return n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsx(vr,{children:n.jsxs("title",{children:["Booking #",e.slice(0,8)," - GeorgianTrip"]})}),n.jsxs("div",{className:"bg-gray-950 pt-24 pb-8 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/20 via-gray-950 to-gray-950 z-0"}),n.jsxs("div",{className:"max-w-3xl mx-auto px-4 relative z-10",children:[n.jsxs(P,{variant:"ghost",className:"mb-4 -ml-2 text-gray-400 hover:text-white hover:bg-white/10",onClick:()=>t("/search-results"),children:[n.jsx(Ir,{className:"w-4 h-4 mr-2"})," Back to Search"]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Booking Details"}),n.jsx(ee,{className:`${h[s.status]||"bg-gray-100"} border-0 px-3 py-1 capitalize`,children:s.status})]})]})]}),n.jsxs("div",{className:"max-w-3xl mx-auto px-4 pt-8",children:[s.status==="pending"&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6 flex gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600 shrink-0 h-fit",children:n.jsx(de,{className:"w-5 h-5 animate-spin"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-blue-900 text-sm mb-1",children:"Waiting for driver confirmation"}),n.jsx("p",{className:"text-sm text-blue-700",children:"The driver usually confirms within 5 minutes. We will notify you via SMS/Email."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"md:col-span-2 space-y-6",children:[n.jsxs(G,{className:"p-0 overflow-hidden border-gray-100 shadow-sm rounded-2xl",children:[n.jsx("div",{className:"bg-slate-100 h-40 flex items-center justify-center text-gray-400",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(br,{className:"w-4 h-4"})," Interactive Map Placeholder"]})}),n.jsx("div",{className:"p-5 space-y-6",children:n.jsxs("div",{className:"flex gap-4 relative",children:[n.jsxs("div",{className:"flex flex-col items-center pt-1",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full ring-4 ring-green-50"}),n.jsx("div",{className:"w-0.5 h-full bg-gray-200 my-1"}),n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full ring-4 ring-red-50"})]}),n.jsxs("div",{className:"flex-1 space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:"Pick Up"}),n.jsx("p",{className:"font-bold text-gray-900",children:((m=s.pickup_location)==null?void 0:m.name_en)||"Unknown Location"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[s.date||"N/A","  ",s.time||"N/A"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:"Drop Off"}),n.jsx("p",{className:"font-bold text-gray-900",children:((p=s.dropoff_location)==null?void 0:p.name_en)||"Unknown Location"})]})]})]})})]}),n.jsxs(G,{className:"p-5 border-gray-100 shadow-sm rounded-2xl",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Driver Details"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("img",{src:((x=s.driver)==null?void 0:x.avatar_url)||"https://placehold.co/100",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"font-bold text-lg",children:[(g=s.driver)==null?void 0:g.first_name," ",(b=s.driver)==null?void 0:b.last_name]}),n.jsxs("p",{className:"text-sm text-gray-500",children:[(y=s.car)==null?void 0:y.make," ",(v=s.car)==null?void 0:v.model,"  ",(w=s.car)==null?void 0:w.license_plate]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(P,{variant:"outline",size:"icon",className:"rounded-full",children:n.jsx(Fl,{className:"w-4 h-4"})}),n.jsx(P,{variant:"outline",size:"icon",className:"rounded-full",children:n.jsx(Gn,{className:"w-4 h-4"})})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(G,{className:"p-5 border-gray-100 shadow-sm rounded-2xl bg-gray-50/50",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Payment Breakdown"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Base Fare"}),n.jsx("span",{children:Pt(s.total_price)})]}),n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Discount"}),n.jsx("span",{children:"-"})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-3 flex justify-between font-bold text-lg text-gray-900",children:[n.jsx("span",{children:"Total"}),n.jsx("span",{children:Pt(s.total_price)})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(ha,{className:"w-4 h-4"}),n.jsxs("span",{className:"capitalize",children:["Method: ",s.payment_method]})]})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(P,{variant:"outline",className:"w-full border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",onClick:d,disabled:l||s.status==="cancelled"||s.status==="completed",children:[l?n.jsx(de,{className:"w-4 h-4 mr-2 animate-spin"}):null,s.status==="cancelled"?"Booking Cancelled":"Cancel Booking"]}),n.jsxs(P,{variant:"ghost",className:"w-full text-gray-500",onClick:u,children:[n.jsx(HR,{className:"w-4 h-4 mr-2"})," Share Booking"]})]})]})]})]})]})},aV=()=>{var E,k,$,F;const[e]=H1(),t=ge(),r=e.get("carId"),s=e.get("transferId"),[a,i]=f.useState(!0),[o,l]=f.useState(null),[c,d]=f.useState({car:null,transfer:null}),[u,h]=f.useState(1),[m,p]=f.useState(null),[x,g]=f.useState({passengerCount:1,passengerName:"",passengerPhone:"+995",passengerEmail:"",specialRequests:"",paymentMethod:"cash"});f.useEffect(()=>{(async()=>{if(!r||!s){l("Missing booking information"),i(!1);return}try{const{data:B,error:A}=await O.from("cars").select("*, driver:drivers(*)").eq("id",r).single();if(A)throw A;const{data:M,error:U}=await O.from("transfers").select("*, from_location:locations!transfers_from_location_id_fkey(*), to_location:locations!transfers_to_location_id_fkey(*)").eq("id",s).single();if(U)throw U;d({car:B,transfer:M})}catch(B){console.error("Error fetching booking data:",B),l("Could not load booking details. Please try again.")}finally{i(!1)}})()},[r,s]);const b=H=>{g(B=>({...B,...H}))},y=()=>h(H=>H+1),v=()=>h(H=>H-1),w=H=>{p(H),h(5)};if(a)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx(de,{className:"w-10 h-10 animate-spin text-green-600"})});if(o)return n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:[n.jsx(Ta,{className:"w-12 h-12 text-red-500 mb-4"}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Unable to start booking"}),n.jsx("p",{className:"text-gray-500 mb-6",children:o}),n.jsx(P,{onClick:()=>t("/"),children:"Return Home"})]});const{car:j,transfer:S}=c,C={startLocation:{...S.from_location,name:((E=S.from_location)==null?void 0:E.name_en)||((k=S.from_location)==null?void 0:k.name)},endLocation:{...S.to_location,name:(($=S.to_location)==null?void 0:$.name_en)||((F=S.to_location)==null?void 0:F.name)},date:new Date().toISOString().split("T")[0],distance:S.distance_km,duration:S.duration_minutes},N={...j,price:S.base_price||j.calculatedPrice||j.price||0},_=["Trip Details","Passenger Details","Payment Method","Review Booking","Booking Confirmed"];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(vr,{children:n.jsx("title",{children:"Complete Your Booking | GeorgianTrip"})}),n.jsxs("div",{className:"bg-gray-950 pt-24 pb-8 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/20 via-gray-950 to-gray-950 z-0"}),n.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs(P,{variant:"ghost",onClick:()=>t(-1),className:"text-gray-400 hover:text-white hover:bg-white/10 -ml-4",children:[n.jsx(Ol,{className:"w-5 h-5 mr-1"})," Back"]}),n.jsxs("div",{className:"text-right",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Complete Booking"}),n.jsxs("p",{className:"text-sm text-gray-400",children:["Step ",u," of 4"]})]})]}),u<5&&n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-between mb-2",children:_.slice(0,4).map((H,B)=>n.jsx("span",{className:`text-xs font-medium ${u>B?"text-green-400":"text-gray-500"}`,children:H},B))}),n.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 transition-all duration-500 ease-out rounded-full",style:{width:`${u/4*100}%`}})})]})]})]}),n.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 py-8",children:n.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:n.jsxs("div",{className:"p-6 md:p-8",children:[u===1&&n.jsx(vC,{data:x,onNext:y,onUpdateData:b,car:N,searchParams:C}),u===2&&n.jsx(yC,{data:x,onNext:y,onBack:v,onUpdateData:b}),u===3&&n.jsx(MC,{data:x,onNext:y,onBack:v,onUpdateData:b}),u===4&&n.jsx(LC,{data:x,car:N,searchParams:C,onBack:v,onSuccess:w}),u===5&&n.jsx(FC,{booking:m,car:N,searchParams:C})]})})})]})},iV=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),{t:a}=zs(),{content:i}=ot("pages","tours",et.pages.tours);return f.useEffect(()=>{(async()=>{s(!0);const{data:l,error:c}=await O.from("tours").select("*").eq("is_active",!0).order("created_at",{ascending:!1});c?console.error(c):t(l||[]),s(!1)})()},[]),n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsxs("div",{className:"bg-gray-950 text-white py-28 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/30 via-gray-950 to-blue-900/20 z-0"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_30%,rgba(16,185,129,0.1),transparent_60%)]"}),n.jsxs(ye.div,{className:"container-custom relative z-10 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 backdrop-blur-sm text-white rounded-full text-sm font-bold mb-4 tracking-wide border border-white/20",children:[n.jsx(AN,{className:"w-4 h-4"}),"Explore Georgia"]}),n.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold mb-4",children:i.title||a("tours")}),n.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:i.subtitle||"Discover the beauty of Georgia with our curated selection of tours."})]})]}),n.jsx("div",{className:"container-custom pt-12",children:r?n.jsx("div",{className:"flex justify-center py-20",children:n.jsx(de,{className:"w-10 h-10 animate-spin text-green-600"})}):e.length===0?n.jsx("div",{className:"text-center py-20 text-gray-500",children:"No tours available at the moment."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(o=>n.jsx(jS,{tour:o},o.id))})})]})},oV=async e=>{const{data:t,error:r}=await O.from("tours").select("*").eq("id",e).single();if(r)throw r;return t},lV=({images:e})=>{const[t,r]=f.useState(!1),[s,a]=f.useState(0);if(!e||e.length===0)return null;const i=c=>{a(c),r(!0)},o=c=>{c.stopPropagation(),a(d=>(d+1)%e.length)},l=c=>{c.stopPropagation(),a(d=>(d-1+e.length)%e.length)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 h-[400px] md:h-[500px] overflow-hidden rounded-3xl",children:[n.jsxs("div",{className:"md:col-span-2 md:row-span-2 h-full cursor-pointer relative group overflow-hidden",onClick:()=>i(0),children:[n.jsx("img",{src:e[0],alt:"Gallery 1",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),n.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors"})]}),n.jsx("div",{className:"hidden md:grid grid-cols-2 col-span-2 row-span-2 gap-2 h-full",children:e.slice(1,5).map((c,d)=>n.jsxs("div",{className:"cursor-pointer relative group overflow-hidden h-full",onClick:()=>i(d+1),children:[n.jsx("img",{src:c,alt:`Gallery ${d+2}`,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),d===3&&e.length>5&&n.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center text-white font-bold text-xl backdrop-blur-sm group-hover:bg-black/40 transition-colors",children:["+",e.length-5]})]},d))})]}),n.jsx(tt,{open:t,onOpenChange:r,children:n.jsxs(Qe,{className:"max-w-[95vw] h-[90vh] p-0 bg-black border-none flex items-center justify-center overflow-hidden",children:[n.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-white/70 hover:text-white z-50",children:n.jsx(Dt,{className:"w-8 h-8"})}),n.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[n.jsx("img",{src:e[s],alt:"Full screen",className:"max-w-full max-h-full object-contain"}),n.jsx(P,{variant:"ghost",className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 h-12 w-12 rounded-full p-0",onClick:l,children:n.jsx(Ol,{className:"w-8 h-8"})}),n.jsx(P,{variant:"ghost",className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 h-12 w-12 rounded-full p-0",onClick:o,children:n.jsx(sr,{className:"w-8 h-8"})})]}),n.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white/80 font-medium",children:[s+1," / ",e.length]})]})})]})},cV=({itinerary:e})=>!e||!Array.isArray(e)?null:n.jsxs("div",{className:"space-y-8",children:[n.jsx("h3",{className:"text-2xl font-heading font-bold text-gray-900",children:"Itinerary"}),n.jsx("div",{className:"relative pl-8 border-l-2 border-gray-100 space-y-12",children:e.map((t,r)=>n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute -left-[39px] top-0 w-5 h-5 rounded-full bg-green-600 border-4 border-white shadow-sm"}),n.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-md transition-shadow",children:[n.jsxs("h4",{className:"font-bold text-lg text-gray-900 mb-2 flex items-center gap-2",children:[n.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-xs uppercase tracking-wide",children:["Day ",t.day]}),t.title]}),n.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]})]},r))})]}),dV=({reviews:e=[],rating:t,count:r})=>{const s=e.length>0?e:[{id:1,name:"Alexander K.",rating:5,date:"2 weeks ago",text:"Absolutely stunning tour! The guide was very knowledgeable and the scenery was breathtaking."},{id:2,name:"Maria S.",rating:5,date:"1 month ago",text:"Well organized and comfortable transport. Highly recommend."},{id:3,name:"John D.",rating:4,date:"2 months ago",text:"Great experience overall, just wish we had more time at the first stop."}];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-2xl font-heading font-bold text-gray-900",children:"Reviews"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ut,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),n.jsx("span",{className:"font-bold text-xl",children:t}),n.jsxs("span",{className:"text-gray-500",children:["(",r," reviews)"]})]})]}),n.jsx("div",{className:"grid gap-6",children:s.map(a=>n.jsxs("div",{className:"border-b border-gray-100 pb-6 last:border-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500",children:n.jsx(qn,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-gray-900",children:a.name}),n.jsx("p",{className:"text-xs text-gray-400",children:a.date})]})]}),n.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((i,o)=>n.jsx(ut,{className:`w-4 h-4 ${o<a.rating?"fill-current":"text-gray-200"}`},o))})]}),n.jsxs("p",{className:"text-gray-600 leading-relaxed text-sm",children:['"',a.text,'"']})]},a.id))}),n.jsx(P,{variant:"outline",className:"w-full",children:"View All Reviews"})]})},uV=({tour:e})=>{const{toast:t}=ae(),r=ge(),[s,a]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState({fullName:"",email:"",phone:"",passengers:1,date:"",specialRequests:""}),d=e.price_per_person||e.price||0,u=e.group_discount_percent&&l.passengers>=(e.group_min_size||4)?Number(e.group_discount_percent):0,h=l.date?Math.ceil((new Date(l.date)-new Date)/(1e3*60*60*24)):0,m=e.early_bird_discount_percent&&h>=(e.early_bird_days||14)?Number(e.early_bird_discount_percent):0,p=Math.min(u+m,50),x=d*(1-p/100),g=Math.round(x*l.passengers),b=wS(g),y=f.useRef(l),v=f.useRef({totalPriceGel:g,totalPriceUsd:b,totalDiscountPercent:p});f.useEffect(()=>{y.current=l},[l]),f.useEffect(()=>{v.current={totalPriceGel:g,totalPriceUsd:b,totalDiscountPercent:p}},[g,b,p]),f.useEffect(()=>{const j=setInterval(()=>{window.paypal&&(o(!0),clearInterval(j))},500);return()=>clearInterval(j)},[]),f.useEffect(()=>{if(i&&window.paypal){const j=document.getElementById("paypal-button-container");j&&(j.innerHTML=""),window.paypal.Buttons({createOrder:async(S,C)=>{const N=y.current,_=v.current;if(!N.fullName||!N.email||!N.date)return t({variant:"destructive",title:"Missing Information",description:"Please fill in all required fields."}),null;try{const E=await HB({tour_id:e.id,tour_name:e.title_en||e.name_en,passenger_name:N.fullName,passenger_email:N.email,passenger_phone:N.phone,passenger_count:N.passengers,tour_date:N.date,special_requests:N.specialRequests,total_price:_.totalPriceGel,total_price_gel:_.totalPriceGel,total_price_usd:_.totalPriceUsd,discount_percent:_.totalDiscountPercent,payment_status:"pending",booking_status:"confirmed"});return window.currentBookingId=E.id,C.order.create({purchase_units:[{description:`Tour: ${e.title_en||e.name_en}`,amount:{value:_.totalPriceUsd,currency_code:"USD"}}]})}catch(E){throw console.error("Booking creation failed",E),t({variant:"destructive",title:"Error",description:"Could not initialize booking."}),E}},onApprove:async(S,C)=>{a(!0);try{const N=await C.order.capture();window.currentBookingId&&(await WB(window.currentBookingId,{status:"completed",transactionId:N.id}),r(`/booking-confirmation/${window.currentBookingId}`))}catch(N){console.error("Payment failed",N),t({variant:"destructive",title:"Payment Failed",description:"Please try again."})}finally{a(!1)}},onError:S=>{console.error("PayPal Error",S),t({variant:"destructive",title:"Payment Error",description:"Something went wrong with PayPal."})}}).render("#paypal-button-container")}},[i,e,r,t]);const w=j=>{const{name:S,value:C}=j.target;c(N=>({...N,[S]:C}))};return n.jsxs(G,{className:"p-6 bg-white shadow-xl rounded-2xl border-gray-100",id:"booking-form",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-green-700 font-bold text-lg",children:[n.jsx(Bl,{className:"w-5 h-5"}),"Secure Booking"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"fullName",children:"Full Name *"}),n.jsx(D,{id:"fullName",name:"fullName",placeholder:"John Doe",required:!0,value:l.fullName,onChange:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"email",children:"Email *"}),n.jsx(D,{id:"email",name:"email",type:"email",placeholder:"john@example.com",required:!0,value:l.email,onChange:w})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"phone",children:"Phone *"}),n.jsx(D,{id:"phone",name:"phone",placeholder:"+995 555 00 00 00",required:!0,value:l.phone,onChange:w})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"passengers",children:"Travelers *"}),n.jsx(D,{id:"passengers",name:"passengers",type:"number",min:"1",max:"20",required:!0,value:l.passengers,onChange:w})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"date",children:"Tour Date *"}),n.jsxs("div",{className:"relative",children:[n.jsx(it,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400 pointer-events-none"}),n.jsx(D,{id:"date",name:"date",type:"date",className:"pl-10",min:new Date().toISOString().split("T")[0],required:!0,value:l.date,onChange:w})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"specialRequests",children:"Special Requests (Optional)"}),n.jsx(Ae,{id:"specialRequests",name:"specialRequests",placeholder:"Dietary restrictions, hotel pickup location, etc.",value:l.specialRequests,onChange:w})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl space-y-2 mt-6",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Price Breakdown"}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:[sa(d)," x ",l.passengers," travelers"]}),n.jsx("span",{children:sa(d*l.passengers)})]}),p>0&&n.jsxs("div",{className:"space-y-1",children:[u>0&&n.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[n.jsxs("span",{children:["Group Discount (",u,"%)"]}),n.jsxs("span",{children:["-",sa(d*l.passengers*u/100)]})]}),m>0&&n.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[n.jsxs("span",{children:["Early Bird Discount (",m,"%)"]}),n.jsxs("span",{children:["-",sa(d*l.passengers*m/100)]})]})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2 flex justify-between font-bold text-lg text-green-700",children:[n.jsx("span",{children:"Total"}),n.jsx("span",{children:sa(g)})]})]}),n.jsxs("div",{className:"pt-4",children:[!i&&n.jsxs("div",{className:"text-center p-4 text-gray-500 flex items-center justify-center gap-2",children:[n.jsx(de,{className:"animate-spin"})," Loading payment options..."]}),n.jsx("div",{id:"paypal-button-container",className:"z-0 relative"}),n.jsx("p",{className:"text-xs text-center text-gray-400 mt-2",children:"Payments are processed securely by PayPal."})]})]})]})},hV=()=>{var l,c,d;const{tourId:e}=an(),[t,r]=f.useState(null),[s,a]=f.useState(!0);if(f.useEffect(()=>{(async()=>{try{const h=await oV(e);r(h)}catch(h){console.error(h)}finally{a(!1)}})()},[e]),s)return n.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:n.jsx(de,{className:"animate-spin w-10 h-10 text-green-600"})});if(!t)return n.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"Tour not found"})});const i=()=>{var u;(u=document.getElementById("booking-form"))==null||u.scrollIntoView({behavior:"smooth"})},o=((l=t.gallery_images)==null?void 0:l[0])||t.image_url||"https://images.unsplash.com/photo-1589792923962-537704632910?w=1200&auto=format&fit=crop";return n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsxs("div",{className:"relative h-[420px] overflow-hidden",children:[n.jsx("img",{src:o,alt:t.name_en,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950/90 via-gray-950/50 to-gray-950/30"}),n.jsx("div",{className:"absolute inset-0 flex flex-col justify-end z-10",children:n.jsxs(ye.div,{className:"container-custom pb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("nav",{className:"flex items-center text-sm text-gray-400 mb-4",children:[n.jsx(ie,{to:"/",className:"hover:text-white transition-colors",children:"Home"}),n.jsx(sr,{className:"w-4 h-4 mx-2"}),n.jsx(ie,{to:"/tours",className:"hover:text-white transition-colors",children:"Tours"}),n.jsx(sr,{className:"w-4 h-4 mx-2"}),n.jsx("span",{className:"text-white font-medium truncate max-w-[200px] sm:max-w-none",children:t.name_en})]}),n.jsx("h1",{className:"text-3xl md:text-5xl font-heading font-bold text-white mb-4 leading-tight",children:t.name_en}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-white/10 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-sm font-medium border border-white/20",children:[n.jsx(Nn,{className:"w-4 h-4 text-green-400"}),t.duration_days," Days"]}),n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-white/10 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-sm font-medium border border-white/20",children:[n.jsx(it,{className:"w-4 h-4 text-green-400"}),"Available Daily"]}),n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-white/10 backdrop-blur-sm text-white px-3 py-1.5 rounded-full text-sm font-medium border border-white/20",children:[n.jsx(ut,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),t.rating," (",t.reviews_count," reviews)"]}),n.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-green-500/20 backdrop-blur-sm text-green-300 px-4 py-1.5 rounded-full text-sm font-bold border border-green-400/30",children:[sa(t.price_per_person)," / person"]})]})]})})]}),n.jsx("div",{className:"container-custom pt-10",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[n.jsx(lV,{images:t.gallery_images}),n.jsx("div",{className:"lg:hidden",children:n.jsxs("button",{onClick:i,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-green-200 transition-all",children:["Book Now ",n.jsx(NR,{className:"w-4 h-4"})]})}),n.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm",children:[n.jsx("h3",{className:"text-2xl font-heading font-bold text-gray-900 mb-4",children:"About this tour"}),n.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-line",children:t.description_en})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-5",children:"What's included"}),n.jsx("ul",{className:"space-y-3",children:(c=t.what_included)==null?void 0:c.map((u,h)=>n.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[n.jsx(ur,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),u]},h))})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-sm",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-5",children:"What to bring"}),n.jsx("ul",{className:"space-y-3",children:(d=t.what_to_bring)==null?void 0:d.map((u,h)=>n.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mt-2 shrink-0"}),u]},h))})]})]}),n.jsx(cV,{itinerary:t.itinerary}),n.jsx(dV,{rating:t.rating,count:t.reviews_count})]}),n.jsx("div",{className:"lg:col-span-1",id:"booking-form",children:n.jsx("div",{className:"sticky top-24",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-lg",children:[n.jsx("h3",{className:"text-xl font-bold mb-4",children:"Book This Tour"}),n.jsx(uV,{tour:t})]})})})]})})]})},mV=async e=>{const{data:t,error:r}=await O.from("cars").select(`
      *,
      driver:drivers (
        id,
        first_name,
        last_name,
        phone,
        rating,
        reviews_count,
        avatar_url,
        bio,
        languages_spoken,
        verification_status
      ),
      transfer:transfers (
        id,
        from_location_id,
        to_location_id,
        distance_km,
        duration_minutes,
        base_price,
        from_location:locations!transfers_from_location_id_fkey(*),
        to_location:locations!transfers_to_location_id_fkey(*)
      ),
      images:car_images(*)
    `).eq("id",e).single();if(r)throw r;return t.images&&t.images.length>0&&t.images.sort((s,a)=>(s.display_order||0)-(a.display_order||0)),t},fV=async(e,t)=>{if(!t)return[];const{data:r,error:s}=await O.from("cars").select(`
      *,
      driver:drivers(*)
    `).eq("transfer_id",t).neq("id",e).eq("active",!0).eq("verification_status","approved").limit(3);return s?(console.warn("Could not fetch related cars",s),[]):r},pV=async(e,t)=>{const{data:r,error:s}=await O.from("cars").update({active:t}).eq("id",e).select().single();if(s)throw s;return r},gV=async e=>{const{error:t}=await O.from("cars").delete().eq("id",e);if(t)throw t},xV=({car:e})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 font-heading mb-2",children:[e.make," ",e.model]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[n.jsx(ee,{variant:"secondary",className:"bg-gray-100 text-gray-700 hover:bg-gray-200",children:e.year}),n.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 font-bold",children:[n.jsx(ut,{className:"w-4 h-4 fill-current"}),n.jsx("span",{children:e.rating||"5.0"}),n.jsxs("span",{className:"text-gray-400 font-normal",children:["(",e.reviews_count||12," reviews)"]})]}),e.verification_status==="approved"&&n.jsxs("div",{className:"flex items-center gap-1 text-green-600 font-medium",children:[n.jsx(Bl,{className:"w-4 h-4"})," Verified"]})]})]}),n.jsxs("div",{className:"text-left md:text-right bg-green-50/50 p-3 rounded-xl border border-green-100 md:bg-transparent md:border-none md:p-0",children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium mb-1",children:"Starting from"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:Pt(e.price)}),n.jsx("p",{className:"text-xs text-gray-400",children:"per trip"})]})]}),n.jsxs("div",{className:"relative aspect-video w-full overflow-hidden rounded-2xl bg-gray-100 shadow-sm border border-gray-100",children:[n.jsx("img",{src:e.main_photo||"https://images.unsplash.com/photo-1550355291-bbee04a92027?auto=format&fit=crop&q=80",alt:`${e.make} ${e.model}`,className:"h-full w-full object-cover"}),n.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-2",children:[n.jsxs(ee,{className:"bg-white/90 text-gray-900 hover:bg-white backdrop-blur-sm shadow-sm flex gap-1.5 py-1.5 px-3",children:[n.jsx(nr,{className:"w-3.5 h-3.5"}),e.seats," Seats"]}),n.jsxs(ee,{className:"bg-white/90 text-gray-900 hover:bg-white backdrop-blur-sm shadow-sm flex gap-1.5 py-1.5 px-3",children:[n.jsx(xu,{className:"w-3.5 h-3.5"}),e.luggage_capacity||2," Bags"]})]})]}),n.jsxs("div",{className:"prose prose-sm max-w-none text-gray-600 bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Description"}),n.jsx("p",{children:e.description||"A comfortable and reliable vehicle perfect for transfers across Georgia. Maintained to high standards with professional service guaranteed."})]})]}),vV=({images:e=[]})=>{const[t,r]=f.useState(e[0]||""),[s,a]=f.useState(!1),[i,o]=f.useState(0),l=e.length>0?e:["https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?auto=format&fit=crop&q=80&w=1000"],c=(h,m)=>{r(h),o(m)},d=h=>{h.stopPropagation();const m=(i+1)%l.length;r(l[m]),o(m)},u=h=>{h.stopPropagation();const m=(i-1+l.length)%l.length;r(l[m]),o(m)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative aspect-video w-full overflow-hidden rounded-2xl bg-gray-100 group cursor-pointer",onClick:()=>a(!0),children:[n.jsx("img",{src:t,alt:"Car Main",className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),n.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm flex items-center gap-2",children:[n.jsx(MR,{className:"w-4 h-4"}),i+1,"/",l.length]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:l.map((h,m)=>n.jsx("button",{onClick:()=>c(h,m),className:Q("relative h-20 w-24 flex-shrink-0 overflow-hidden rounded-lg transition-all",t===h?"ring-2 ring-green-600 ring-offset-2":"opacity-70 hover:opacity-100"),children:n.jsx("img",{src:h,alt:`Thumbnail ${m}`,className:"h-full w-full object-cover"})},m))}),s&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm p-4",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 text-white hover:bg-white/20 rounded-full h-12 w-12",onClick:()=>a(!1),children:n.jsx(Dt,{className:"w-6 h-6"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 rounded-full h-12 w-12 hidden md:flex",onClick:u,children:n.jsx(Ol,{className:"w-8 h-8"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 rounded-full h-12 w-12 hidden md:flex",onClick:d,children:n.jsx(sr,{className:"w-8 h-8"})}),n.jsxs("div",{className:"max-w-7xl max-h-[85vh] w-full",children:[n.jsx("img",{src:t,alt:"Full Screen",className:"h-full w-full object-contain mx-auto"}),n.jsxs("p",{className:"text-center text-white mt-4 font-mono",children:[i+1," / ",l.length]})]})]})]})},yV=({car:e})=>{e.features,e.specifications;const t=e.safety_features||[],r=e.amenities||[],s=[];e.main_photo&&s.push(e.main_photo),e.images&&Array.isArray(e.images)&&e.images.forEach(i=>{i.image_url&&i.image_url!==e.main_photo&&s.push(i.image_url)}),e.photos_urls&&Array.isArray(e.photos_urls)&&e.photos_urls.forEach(i=>{i&&!s.includes(i)&&s.push(i)}),s.length===0&&s.push("https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?auto=format&fit=crop&q=80&w=1000");const a={wifi:JR,ac:ZR,charging:SR,music:QR,safety:bn};return n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-white rounded-2xl p-4 border border-gray-100 shadow-sm",children:n.jsx(vV,{images:s})}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[n.jsx("h3",{className:"text-xl font-bold font-heading mb-4 text-gray-900",children:"Vehicle Description"}),n.jsx("div",{className:"prose prose-sm max-w-none text-gray-600",children:n.jsx("p",{children:e.description||`Experience a comfortable ride in this ${e.year} ${e.make} ${e.model}. Maintained to the highest standards, this vehicle offers a perfect blend of comfort and reliability for your Georgian journey.`})}),r.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-sm uppercase tracking-wide",children:"Amenities"}),n.jsx("div",{className:"flex flex-wrap gap-3",children:r.map((i,o)=>{const l=a[i.key]||jn;return n.jsxs(ee,{variant:"secondary",className:"px-3 py-1.5 bg-gray-50 text-gray-700 hover:bg-gray-100 gap-2",children:[n.jsx(l,{className:"w-3 h-3"}),i.label||i]},o)})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[n.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(bn,{className:"w-5 h-5 text-green-600"}),"Safety Features"]}),n.jsx("ul",{className:"space-y-2",children:t.length>0?t.map((i,o)=>n.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-600",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),typeof i=="string"?i:i.label]},o)):n.jsx("li",{className:"text-sm text-gray-400 italic",children:"Standard safety features included"})})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:[n.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Ta,{className:"w-5 h-5 text-blue-600"}),"Vehicle Conditions"]}),n.jsxs("ul",{className:"space-y-3 text-sm",children:[n.jsxs("li",{className:"flex justify-between border-b border-gray-50 pb-2",children:[n.jsx("span",{className:"text-gray-500",children:"Cleanliness"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Excellent"})]}),n.jsxs("li",{className:"flex justify-between border-b border-gray-50 pb-2",children:[n.jsx("span",{className:"text-gray-500",children:"Technical State"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Verified"})]}),n.jsxs("li",{className:"flex justify-between border-b border-gray-50 pb-2",children:[n.jsx("span",{className:"text-gray-500",children:"Insurance"}),n.jsx("span",{className:"font-medium text-gray-900 text-green-600",children:"Full Coverage"})]}),n.jsxs("li",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Year"}),n.jsx("span",{className:"font-medium text-gray-900",children:e.year})]})]})]})]})]})},bV=({car:e,transfer:t,initialDate:r,initialTravelers:s})=>{var b,y;const{toast:a}=ae(),i=ge(),[o,l]=f.useState(!1),[c,d]=f.useState(30);f.useEffect(()=>{O.from("admin_settings").select("default_admin_commission").maybeSingle().then(({data:v})=>{v!=null&&v.default_admin_commission&&d(Number(v.default_admin_commission))})},[]);const[u,h]=f.useState({date:r||new Date().toISOString().split("T")[0],travelers:s||1,fullName:"",email:"",phone:"",requests:""}),[m,p]=f.useState({pricePerKm:0,distance:0,subtotal:0,total:0});f.useEffect(()=>{const v=parseFloat((e==null?void 0:e.price_per_km)||2),w=parseFloat((t==null?void 0:t.distance_km)||0);parseInt(u.travelers||1);const j=w*v;p({pricePerKm:v,distance:w,subtotal:j,total:j})},[e,t,u.travelers]);const x=async v=>{var w,j,S,C;v.preventDefault(),l(!0);try{const N={customer_first_name:u.fullName,customer_phone:u.phone,customer_email:u.email,customer_comment:u.requests,car_id:e.id,driver_id:e.driver_id,pickup_location_id:t==null?void 0:t.from_location_id,dropoff_location_id:t==null?void 0:t.to_location_id,pickup_lat:(w=t==null?void 0:t.from_location)==null?void 0:w.lat,pickup_lng:(j=t==null?void 0:t.from_location)==null?void 0:j.lng,dropoff_lat:(S=t==null?void 0:t.to_location)==null?void 0:S.lat,dropoff_lng:(C=t==null?void 0:t.to_location)==null?void 0:C.lng,date:u.date,time:"10:00",passenger_count:parseInt(u.travelers),total_price:m.total,passenger_price:m.total,driver_earnings:m.total*(100-c)/100,admin_commission:m.total*c/100,distance_km:m.distance,duration_minutes:(t==null?void 0:t.duration_minutes)||0,status:"pending",payment_method:"card",payment_status:"pending"},_=await OC(N);if(_&&_.success)a({title:"Booking Initiated",description:"Redirecting to confirmation...",className:"bg-green-50 border-green-200 text-green-800"}),i(`/booking-confirmation/${_.id}`);else throw new Error("Booking creation failed")}catch(N){console.error(N),a({variant:"destructive",title:"Booking Failed",description:N.message||"Please check your inputs and try again."})}finally{l(!1)}},g=v=>{const{name:w,value:j}=v.target;h(S=>({...S,[w]:j}))};return n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-xl overflow-hidden sticky top-24",children:[n.jsxs("div",{className:"bg-gray-900 p-6 text-white",children:[n.jsx("h3",{className:"text-xl font-bold font-heading mb-1",children:"Book Your Transfer"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Instant confirmation  Secure payment"})]}),n.jsxs("form",{onSubmit:x,className:"p-6 space-y-5",children:[t&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100 flex items-center justify-between text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Route"}),n.jsxs("div",{className:"flex items-center gap-2 font-bold text-gray-900",children:[n.jsx("span",{className:"truncate max-w-[80px]",children:(b=t.from_location)==null?void 0:b.name_en}),n.jsx(at,{className:"w-3 h-3 text-gray-400"}),n.jsx("span",{className:"truncate max-w-[80px]",children:(y=t.to_location)==null?void 0:y.name_en})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Distance"}),n.jsxs("p",{className:"font-bold text-gray-900",children:[m.distance," km"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"date",children:"Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(it,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-500"}),n.jsx(D,{type:"date",id:"date",name:"date",value:u.date,onChange:g,required:!0,className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"travelers",children:"Travelers"}),n.jsxs("div",{className:"relative",children:[n.jsx(nr,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-500"}),n.jsx(D,{type:"number",id:"travelers",name:"travelers",min:"1",max:e.seats,value:u.travelers,onChange:g,required:!0,className:"pl-9"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"fullName",children:"Full Name"}),n.jsx(D,{id:"fullName",name:"fullName",placeholder:"John Doe",value:u.fullName,onChange:g,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"email",children:"Email Address"}),n.jsx(D,{type:"email",id:"email",name:"email",placeholder:"john@example.com",value:u.email,onChange:g,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"phone",children:"Phone Number"}),n.jsx(D,{type:"tel",id:"phone",name:"phone",placeholder:"+995 555 000 000",value:u.phone,onChange:g,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(T,{htmlFor:"requests",children:["Special Requests ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),n.jsx(Ae,{id:"requests",name:"requests",placeholder:"Child seat, extra luggage, etc.",value:u.requests,onChange:g,className:"h-20"})]}),n.jsxs("div",{className:"border-t border-gray-100 pt-4 mt-2 bg-gray-50 -mx-6 px-6 pb-4 -mb-6",children:[n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[n.jsx("span",{children:"Rate per km"}),n.jsx("span",{children:Pt(m.pricePerKm)})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[n.jsx("span",{children:"Distance"}),n.jsxs("span",{children:[m.distance," km"]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 font-medium",children:[n.jsx("span",{children:"Trip Price (per vehicle)"}),n.jsx("span",{children:Pt(m.subtotal)})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[n.jsx("span",{className:"font-bold text-gray-900",children:"Total Price"}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-2xl font-bold text-green-600 block leading-none",children:Pt(m.total)}),n.jsx("span",{className:"text-[10px] text-gray-400 font-normal",children:"Taxes included"})]})]}),n.jsx(P,{type:"submit",disabled:o||m.total===0,className:"w-full h-12 text-lg font-bold bg-green-600 hover:bg-green-700 shadow-lg shadow-green-100 transition-all hover:scale-[1.02] mt-4",children:o?n.jsx(de,{className:"w-5 h-5 animate-spin"}):"Book Now"}),n.jsxs("p",{className:"text-xs text-center text-gray-400 flex items-center justify-center gap-1 mt-3",children:[n.jsx(jn,{className:"w-3 h-3"})," Secure SSL Payment"]})]})]})]})},wV=({currentCarId:e,transferId:t})=>{const[r,s]=f.useState([]);return f.useEffect(()=>{t&&(async()=>{const i=await fV(e,t);s(i)})()},[e,t]),r.length===0?null:n.jsxs("div",{className:"mt-16 border-t border-gray-200 pt-12",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Other Cars for this Route"}),n.jsx(ie,{to:`/transfer/${t}`,children:n.jsxs(P,{variant:"ghost",className:"text-green-600 hover:text-green-700",children:["View All ",n.jsx(at,{className:"w-4 h-4 ml-1"})]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.map(a=>{var i;return n.jsxs(ie,{to:`/car/${a.id}`,className:"group bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all",children:[n.jsx("div",{className:"aspect-video bg-gray-100 overflow-hidden",children:n.jsx("img",{src:a.main_photo,alt:a.model,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("h3",{className:"font-bold text-gray-900 group-hover:text-green-600 transition-colors",children:[a.make," ",a.model]}),n.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-yellow-500 bg-yellow-50 px-2 py-0.5 rounded-full",children:[n.jsx(ut,{className:"w-3 h-3 fill-current"}),((i=a.driver)==null?void 0:i.rating)||"5.0"]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(nr,{className:"w-3 h-3"})," ",a.seats]}),n.jsx("span",{children:""}),n.jsx("span",{children:a.category||"Standard"})]}),n.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[n.jsx("span",{className:"font-bold text-lg text-gray-900",children:Pt(a.price)}),n.jsx("span",{className:"text-xs text-green-600 font-bold uppercase tracking-wide",children:"View Details"})]})]})]},a.id)})})]})},jV=({driver:e,reviews:t=[],onContact:r})=>{var s;return e?n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 shadow-sm",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[n.jsxs("div",{className:"relative shrink-0",children:[n.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-green-50 overflow-hidden",children:n.jsx("img",{src:e.avatar_url||"https://placehold.co/200x200?text=Driver",alt:e.first_name,className:"w-full h-full object-cover"})}),e.verification_status==="approved"&&n.jsx("div",{className:"absolute bottom-1 right-1 bg-white rounded-full p-1 shadow-md",children:n.jsx(Bl,{className:"w-6 h-6 text-green-600 fill-green-100"})})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.first_name," ",e.last_name]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 font-bold bg-yellow-50 px-2 py-0.5 rounded-full text-sm",children:[n.jsx(ut,{className:"w-4 h-4 fill-yellow-500"}),e.rating||"New"]}),n.jsxs("span",{className:"text-gray-400 text-sm",children:["(",e.reviews_count||0," reviews)"]})]})]}),n.jsx(P,{variant:"outline",onClick:r,children:"Contact Driver"})]}),n.jsx("p",{className:"text-gray-600 text-sm leading-relaxed max-w-2xl",children:e.bio||"Professional driver with experience in tourism transfers. Ensures safe driving and comfortable trips across Georgia."}),n.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 pt-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Gn,{className:"w-4 h-4"}),n.jsx("span",{children:e.phone?`+995 5** *** *${e.phone.slice(-2)}`:"Phone hidden"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(BN,{className:"w-4 h-4"}),n.jsxs("span",{children:["Speaks: ",((s=e.languages_spoken)==null?void 0:s.join(", "))||"English, Georgian"]})]})]})]})]}),t.length>0&&n.jsxs("div",{className:"mt-8 border-t border-gray-100 pt-6",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Recent Reviews"}),n.jsx("div",{className:"space-y-4",children:t.slice(0,3).map(a=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"font-bold text-sm text-gray-800",children:a.passenger_name||"Passenger"}),n.jsx("div",{className:"flex gap-0.5",children:[...Array(5)].map((i,o)=>n.jsx(ut,{className:`w-3 h-3 ${o<a.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},o))})]}),n.jsx("p",{className:"text-sm text-gray-600",children:a.comment}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(a.created_at).toLocaleDateString()})]},a.id))}),n.jsx(P,{variant:"link",className:"mt-2 pl-0 text-green-600",children:"View all reviews"})]})]}):null},NV=()=>{var x,g;const{carId:e}=an(),[t]=H1(),r=ge(),[s,a]=f.useState(!0),[i,o]=f.useState(null),[l,c]=f.useState(null),d=t.get("transfer"),u=t.get("from"),h=t.get("to"),m=t.get("date"),p=t.get("travelers");return f.useEffect(()=>{e&&(async()=>{try{a(!0);const y=await mV(e);if(y.price_per_km||(y.price_per_km=2),o(y),d){const v=await A$(d);c(v)}else if(u&&h){const v=await rw(u),w=await rw(h);if(v&&w){const j=await KB(v,w);c({id:"custom",from_location_id:v.id,to_location_id:w.id,from_location:v,to_location:w,distance_km:j,name_en:`${v.name_en} - ${w.name_en}`})}}else y.transfer&&c(y.transfer)}catch(y){console.error("Error fetching details:",y)}finally{a(!1)}})()},[e,d,u,h]),s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx(de,{className:"w-10 h-10 animate-spin text-green-600"})}):i?n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsx(vr,{children:n.jsxs("title",{children:[i.make," ",i.model," | Booking"]})}),n.jsxs("div",{className:"bg-gray-950 pt-24 pb-8 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/20 via-gray-950 to-gray-950 z-0"}),n.jsxs("div",{className:"container-custom relative z-10",children:[n.jsxs(P,{variant:"ghost",onClick:()=>r(-1),className:"mb-4 text-gray-400 hover:text-white hover:bg-white/10 pl-2",children:[n.jsx(Ir,{className:"w-5 h-5 mr-2"})," Back to Search"]}),n.jsxs("h1",{className:"text-3xl font-heading font-bold text-white",children:[i.make," ",i.model]})]})]}),n.jsxs("div",{className:"container-custom pt-8",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsx(xV,{car:i}),l&&n.jsxs(G,{className:"p-6 border-green-100 bg-green-50/50",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(tn,{className:"w-5 h-5 text-green-600"}),"Trip Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs font-semibold uppercase text-gray-500",children:"Route"}),n.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(br,{className:"w-4 h-4 text-green-600"}),(x=l.from_location)==null?void 0:x.name_en," ",n.jsx("span",{className:"text-gray-400",children:""})," ",(g=l.to_location)==null?void 0:g.name_en]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs font-semibold uppercase text-gray-500",children:"Distance"}),n.jsxs("div",{className:"font-medium text-gray-900",children:[l.distance_km," km"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs font-semibold uppercase text-gray-500",children:"Base Rate"}),n.jsxs("div",{className:"font-medium text-gray-900",children:["GEL ",i.price_per_km," / km"]})]}),m&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs font-semibold uppercase text-gray-500",children:"Date"}),n.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(it,{className:"w-4 h-4 text-green-600"}),m]})]})]})]}),n.jsx(yV,{car:i}),n.jsx(jV,{driver:i.driver})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx(bV,{car:i,transfer:l,initialDate:m,initialTravelers:p})})]}),n.jsx(wV,{currentCarId:i.id,transferId:(l==null?void 0:l.id)!=="custom"?l==null?void 0:l.id:i.transfer_id})]})]}):n.jsx("div",{className:"text-center py-20",children:"Car not found"})},_V=()=>{var i,o;const{bookingId:e}=an(),[t,r]=f.useState(null),[s,a]=f.useState(!0);return f.useEffect(()=>{(async()=>{try{const c=await GB(e);r(c)}catch(c){console.error("Failed to fetch booking",c)}finally{a(!1)}})()},[e]),s?n.jsx("div",{className:"h-screen flex items-center justify-center",children:n.jsx(de,{className:"animate-spin w-10 h-10 text-green-600"})}):t?n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsxs("div",{className:"bg-gray-950 pt-24 pb-12 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/30 via-gray-950 to-gray-950 z-0"}),n.jsxs("div",{className:"container-custom max-w-3xl relative z-10 text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-green-500/20 border border-green-500/30 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx(Wn,{className:"w-10 h-10 text-green-400"})}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Booking Confirmed!"}),n.jsxs("p",{className:"text-gray-400",children:["Thank you for your booking. A confirmation email has been sent to ",t.passenger_email,"."]})]})]}),n.jsx("div",{className:"container-custom max-w-3xl -mt-4 relative z-10",children:n.jsxs(G,{className:"p-8 shadow-lg border border-gray-100 rounded-2xl",children:[n.jsxs("div",{className:"flex justify-between items-start border-b pb-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(i=t.tours)==null?void 0:i.name_en}),n.jsxs("p",{className:"text-gray-500",children:["Booking ID: ",n.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:t.id})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:t.payment_status==="completed"?"Paid":"Pending"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Trip Details"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Date:"}),n.jsx("span",{className:"font-medium text-gray-900",children:new Date(t.tour_date).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Travelers:"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[t.passenger_count," People"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Duration:"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[(o=t.tours)==null?void 0:o.duration_days," Days"]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Customer Info"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsx("p",{children:t.passenger_name}),n.jsx("p",{children:t.passenger_email}),n.jsx("p",{children:t.passenger_phone})]})]})]}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-8",children:n.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[n.jsx("span",{children:"Total Amount Paid"}),n.jsx("span",{className:"text-green-700",children:sa(t.total_price_gel)})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(P,{variant:"outline",onClick:()=>window.print(),children:[n.jsx(FR,{className:"w-4 h-4 mr-2"})," Print Receipt"]}),n.jsx(ie,{to:"/",children:n.jsxs(P,{variant:"outline",children:[n.jsx(IN,{className:"w-4 h-4 mr-2"})," Back to Home"]})}),n.jsx(ie,{to:"/tours",children:n.jsxs(P,{className:"bg-green-600 hover:bg-green-700",children:["Explore More Tours ",n.jsx(at,{className:"w-4 h-4 ml-2"})]})})]})]})})]}):n.jsx("div",{className:"h-screen flex items-center justify-center",children:"Booking not found"})};var Kx="Tabs",[SV,VW]=Ut(Kx,[Xi]),VC=Xi(),[CV,Yx]=SV(Kx),UC=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Gi(l),[h,m]=yr({prop:s,onChange:a,defaultProp:i});return n.jsx(CV,{scope:r,baseId:fr(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:n.jsx(ne.div,{dir:u,"data-orientation":o,...d,ref:t})})});UC.displayName=Kx;var zC="TabsList",HC=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=Yx(zC,r),o=VC(r);return n.jsx(Bg,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(ne.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});HC.displayName=zC;var WC="TabsTrigger",GC=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=Yx(WC,r),l=VC(r),c=YC(o.baseId,s),d=XC(o.baseId,s),u=s===o.value;return n.jsx(Vg,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(ne.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:K(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:K(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:K(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(s)})})})});GC.displayName=WC;var qC="TabsContent",KC=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=Yx(qC,r),c=YC(l.baseId,s),d=XC(l.baseId,s),u=s===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(_r,{present:a||u,children:({present:m})=>n.jsx(ne.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});KC.displayName=qC;function YC(e,t){return`${e}-trigger-${t}`}function XC(e,t){return`${e}-content-${t}`}var kV=UC,QC=HC,JC=GC,ZC=KC;const ln=kV,Br=X.forwardRef(({className:e,...t},r)=>n.jsx(QC,{ref:r,className:Q("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-600",e),...t}));Br.displayName=QC.displayName;const pe=X.forwardRef(({className:e,...t},r)=>n.jsx(JC,{ref:r,className:Q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-600 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:shadow-sm",e),...t}));pe.displayName=JC.displayName;const Ne=X.forwardRef(({className:e,...t},r)=>n.jsx(ZC,{ref:r,className:Q("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-600 focus-visible:ring-offset-2",e),...t}));Ne.displayName=ZC.displayName;const TV=()=>{const e=ge(),{signIn:t}=Ke(),{toast:r}=ae(),[s,a]=f.useState(!1),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),h=async p=>{var x;p.preventDefault(),a(!0);try{const{error:g}=await t(i,l);if(g)throw g;const{data:{user:b}}=await O.auth.getUser(),y=(x=b==null?void 0:b.user_metadata)==null?void 0:x.role;e(y==="admin"||y==="super_admin"?"/paneli/dashboard":"/driver"),r({title:"Welcome back!"})}catch{}finally{a(!1)}},m=async p=>{if(p.preventDefault(),d.password!==d.confirmPassword){r({variant:"destructive",title:"Passwords do not match"});return}a(!0);try{const{data:x,error:g}=await O.auth.signUp({email:d.email,password:d.password,options:{data:{first_name:d.firstName,last_name:d.lastName,role:"driver"}}});if(g)throw g;if(x.user){const{error:b}=await O.from("drivers").insert({user_id:x.user.id,first_name:d.firstName,last_name:d.lastName,email:d.email,phone:d.phone,verification_status:"pending"});b&&console.error("Driver profile creation failed:",b),r({title:"Registration Successful",description:"Please check your email to confirm your account."})}}catch(x){r({variant:"destructive",title:"Registration Failed",description:x.message})}finally{a(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4",children:[n.jsxs("div",{className:"w-full max-w-md mb-8 text-center",children:[n.jsx("div",{onClick:()=>e("/"),className:"w-16 h-16 bg-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl shadow-green-600/20 cursor-pointer",children:n.jsx("span",{className:"text-white font-heading font-bold text-2xl",children:"GT"})}),n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900 mb-2",children:"Driver Portal"}),n.jsx("p",{className:"text-gray-500",children:"Manage your bookings and earnings"})]}),n.jsx(G,{className:"w-full max-w-md p-6 shadow-xl border-gray-100",children:n.jsxs(ln,{defaultValue:"login",children:[n.jsxs(Br,{className:"grid w-full grid-cols-2 mb-6",children:[n.jsx(pe,{value:"login",children:"Sign In"}),n.jsx(pe,{value:"register",children:"Register"})]}),n.jsx(Ne,{value:"login",children:n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Email"}),n.jsx(D,{type:"email",value:i,onChange:p=>o(p.target.value),required:!0})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Password"}),n.jsx(D,{type:"password",value:l,onChange:p=>c(p.target.value),required:!0})]}),n.jsx(P,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:s,children:s?"Signing In...":"Sign In"})]})}),n.jsx(Ne,{value:"register",children:n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"First Name"}),n.jsx(D,{value:d.firstName,onChange:p=>u({...d,firstName:p.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Last Name"}),n.jsx(D,{value:d.lastName,onChange:p=>u({...d,lastName:p.target.value}),required:!0})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Phone"}),n.jsx(D,{type:"tel",value:d.phone,onChange:p=>u({...d,phone:p.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Email"}),n.jsx(D,{type:"email",value:d.email,onChange:p=>u({...d,email:p.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Password"}),n.jsx(D,{type:"password",value:d.password,onChange:p=>u({...d,password:p.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Confirm Password"}),n.jsx(D,{type:"password",value:d.confirmPassword,onChange:p=>u({...d,confirmPassword:p.target.value}),required:!0})]}),n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg text-xs text-blue-700",children:n.jsx("p",{children:"By registering, you agree to submit your vehicle documents for verification."})}),n.jsx(P,{type:"submit",className:"w-full bg-gray-900 hover:bg-black",disabled:s,children:s?"Creating Account...":"Register as Driver"})]})})]})}),n.jsxs(P,{variant:"ghost",className:"mt-8 text-gray-500",onClick:()=>e("/"),children:[n.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})},EV=()=>{const{toast:e}=ae(),[t,r]=f.useState(!1),[s,a]=f.useState({name:"",email:"",phone:"",subject:"",message:""}),i=l=>{a({...s,[l.target.name]:l.target.value})},o=async l=>{l.preventDefault(),r(!0);try{await H$(s),e({title:"Message Sent!",description:"We'll get back to you as soon as possible.",className:"bg-green-50 border-green-200"}),a({name:"",email:"",phone:"",subject:"",message:""})}catch{e({variant:"destructive",title:"Error Sending Message",description:"Please try again later or email us directly."})}finally{r(!1)}};return n.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Send us a Message"}),n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(T,{htmlFor:"name",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{id:"name",name:"name",required:!0,value:s.name,onChange:i,placeholder:"Your Name",className:"bg-gray-50 h-12"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(T,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:i,placeholder:"you@example.com",className:"bg-gray-50 h-12"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"phone",children:"Phone (Optional)"}),n.jsx(D,{id:"phone",name:"phone",value:s.phone,onChange:i,placeholder:"+995...",className:"bg-gray-50 h-12"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(T,{htmlFor:"subject",children:["Subject ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{id:"subject",name:"subject",required:!0,value:s.subject,onChange:i,placeholder:"How can we help?",className:"bg-gray-50 h-12"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(T,{htmlFor:"message",children:["Message ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ae,{id:"message",name:"message",required:!0,value:s.message,onChange:i,placeholder:"Write your message here...",rows:5,className:"bg-gray-50"})]}),n.jsx(P,{type:"submit",disabled:t,className:"w-full bg-green-600 hover:bg-green-700 h-14 text-lg font-bold rounded-xl shadow-lg shadow-green-200",children:t?n.jsxs(n.Fragment,{children:[n.jsx(de,{className:"w-5 h-5 animate-spin mr-2"})," Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(zR,{className:"w-5 h-5 mr-2"})," Send Message"]})})]})]})},PV=()=>{const{content:e}=ot("contact","info",et.contact.info);return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Information"}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"Need help planning your trip or have questions about our services? Our team is here to assist you 24/7."})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4 p-5 rounded-2xl bg-gray-50 hover:bg-white hover:shadow-lg transition-all duration-300 border border-transparent hover:border-green-100 group",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-green-100 flex items-center justify-center shrink-0 text-green-600 group-hover:bg-green-600 group-hover:text-white transition-colors duration-300",children:n.jsx(br,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Our Office"}),n.jsx("p",{className:"text-gray-600",children:e.address||"123 Rustaveli Avenue, Tbilisi 0108, Georgia"})]})]}),n.jsxs("div",{className:"flex items-start gap-4 p-5 rounded-2xl bg-gray-50 hover:bg-white hover:shadow-lg transition-all duration-300 border border-transparent hover:border-blue-100 group",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center shrink-0 text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors duration-300",children:n.jsx(Gn,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Phone Number"}),n.jsx("p",{className:"text-gray-600",children:e.phone||"+995 555 123 456"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.phoneNote||"Available on WhatsApp & Telegram"})]})]}),n.jsxs("div",{className:"flex items-start gap-4 p-5 rounded-2xl bg-gray-50 hover:bg-white hover:shadow-lg transition-all duration-300 border border-transparent hover:border-purple-100 group",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-100 flex items-center justify-center shrink-0 text-purple-600 group-hover:bg-purple-600 group-hover:text-white transition-colors duration-300",children:n.jsx(zi,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Email Address"}),n.jsx("p",{className:"text-gray-600",children:e.email||"info@georgiantrip.com"}),n.jsx("p",{className:"text-gray-600",children:e.supportEmail||"support@georgiantrip.com"})]})]}),n.jsxs("div",{className:"flex items-start gap-4 p-5 rounded-2xl bg-gray-50 hover:bg-white hover:shadow-lg transition-all duration-300 border border-transparent hover:border-yellow-100 group",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-yellow-100 flex items-center justify-center shrink-0 text-yellow-600 group-hover:bg-yellow-600 group-hover:text-white transition-colors duration-300",children:n.jsx(Nn,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Working Hours"}),n.jsx("p",{className:"text-gray-600",children:e.supportHours||"Customer Support: 24/7"}),n.jsx("p",{className:"text-gray-600",children:e.officeHours||"Office: Mon-Fri, 10:00 - 19:00"})]})]})]}),n.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Follow Us"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("a",{href:"#",className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center text-white hover:bg-blue-700 transition-all duration-300 hover:-translate-y-0.5",children:n.jsx(DN,{className:"w-5 h-5"})}),n.jsx("a",{href:"#",className:"w-10 h-10 rounded-xl bg-pink-600 flex items-center justify-center text-white hover:bg-pink-700 transition-all duration-300 hover:-translate-y-0.5",children:n.jsx(Ll,{className:"w-5 h-5"})}),n.jsx("a",{href:"#",className:"w-10 h-10 rounded-xl bg-blue-800 flex items-center justify-center text-white hover:bg-blue-900 transition-all duration-300 hover:-translate-y-0.5",children:n.jsx(LN,{className:"w-5 h-5"})})]})]})]})},AV=()=>{const{content:e}=ot("contact","info",et.contact.info);return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsxs(vr,{children:[n.jsx("title",{children:"Contact Us | GeorgianTrip"}),n.jsx("meta",{name:"description",content:"Get in touch with GeorgianTrip team. 24/7 support for your travel needs in Georgia."})]}),n.jsxs("div",{className:"bg-gray-950 text-white py-28 pb-36 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/40 via-gray-950 to-blue-900/30 z-0"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_40%,rgba(16,185,129,0.12),transparent_60%)]"}),n.jsxs(ye.div,{className:"container-custom relative z-10 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 backdrop-blur-sm text-white rounded-full text-sm font-bold mb-4 tracking-wide border border-white/20",children:[n.jsx(Fl,{className:"w-4 h-4"}),"Get in Touch"]}),n.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-bold mb-4",children:"Contact Us"}),n.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"We'd love to hear from you. Our friendly team is always here to chat."})]})]}),n.jsxs("div",{className:"container-custom -mt-20 relative z-20 pb-20",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(EV,{})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100 h-full",children:n.jsx(PV,{})})})]}),n.jsx("div",{className:"mt-16 bg-gray-100 rounded-2xl overflow-hidden h-[400px] shadow-lg border border-gray-200",children:n.jsx("iframe",{src:e.mapEmbedUrl||"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2978.597362777326!2d44.79377401568057!3d41.69666797923714!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40440cf6e37e179d%3A0x6001a0e1b071060!2sRustaveli%20Ave%2C%20Tbilisi!5e0!3m2!1sen!2sge!4v1689771234567!5m2!1sen!2sge",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Office Location"})})]})]})},RV=()=>{const{content:e}=ot("about","hero",et.about.hero);return n.jsxs("section",{className:"relative h-[60vh] min-h-[500px] flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("img",{src:`${e.backgroundImage}?auto=format&fit=crop&q=80&w=1920`,alt:"Panoramic view of Caucasus Mountains and Trinity Church",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/70"})]}),n.jsx("div",{className:"container-custom relative z-10 text-center text-white px-4",children:n.jsxs(ye.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-300 mb-6 font-medium",children:[n.jsx(ie,{to:"/",className:"hover:text-white transition-colors",children:"Home"}),n.jsx(sr,{className:"w-3 h-3"}),n.jsx("span",{className:"text-green-400",children:"About Us"})]}),n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 backdrop-blur-sm text-white rounded-full text-sm font-bold mb-4 tracking-wide border border-white/20",children:[n.jsx(tn,{className:"w-4 h-4"}),"Get to Know Us"]}),n.jsx("h1",{className:"text-4xl md:text-6xl font-bold font-heading mb-6 leading-tight drop-shadow-lg",children:e.title}),n.jsx("p",{className:"text-lg md:text-xl text-gray-100 max-w-2xl mx-auto font-light leading-relaxed mb-8 drop-shadow-md",children:e.subtitle}),n.jsx(ie,{to:"#our-story",onClick:t=>{var r;t.preventDefault(),(r=document.getElementById("our-story"))==null||r.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center justify-center px-8 py-3 text-base font-bold text-white transition-all duration-300 bg-green-600 border border-transparent rounded-full hover:bg-green-700 hover:shadow-lg hover:shadow-green-900/40 hover:-translate-y-1",children:e.ctaText||"Discover Our Mission"})]})})]})},DV=()=>{var r,s,a,i;const{content:e}=ot("about","mission",et.about.mission),{content:t}=ot("about","vision",et.about.vision);return n.jsxs("section",{className:"py-0 bg-white",children:[n.jsx("div",{className:"relative py-24 overflow-hidden",children:n.jsx("div",{className:"container-custom relative z-10",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-16",children:[n.jsx("div",{className:"w-full md:w-1/2 order-2 md:order-1",children:n.jsxs(ye.div,{className:"relative rounded-3xl overflow-hidden shadow-2xl",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx("img",{src:`${e.imageUrl}?auto=format&fit=crop&q=80&w=800`,alt:e.title,className:"w-full h-[500px] object-cover"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-8",children:n.jsxs("p",{className:"text-white font-medium italic",children:['"',e.imageCaption,'"']})})]})}),n.jsx("div",{className:"w-full md:w-1/2 order-1 md:order-2",children:n.jsxs(ye.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-bold mb-4 tracking-wide",children:e.label}),n.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 mb-6",children:e.title}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-6",children:(r=e.paragraphs)==null?void 0:r[0]}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:(s=e.paragraphs)==null?void 0:s[1]})]})})]})})}),n.jsx("div",{className:"relative py-24 bg-gray-50 overflow-hidden",children:n.jsx("div",{className:"container-custom relative z-10",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-16",children:[n.jsx("div",{className:"w-full md:w-1/2",children:n.jsxs(ye.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-bold mb-4 tracking-wide",children:t.label}),n.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 mb-6",children:t.title}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-6",children:(a=t.paragraphs)==null?void 0:a[0]}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:(i=t.paragraphs)==null?void 0:i[1]})]})}),n.jsx("div",{className:"w-full md:w-1/2",children:n.jsxs(ye.div,{className:"relative rounded-3xl overflow-hidden shadow-2xl",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx("img",{src:`${t.imageUrl}?auto=format&fit=crop&q=80&w=800`,alt:t.title,className:"w-full h-[500px] object-cover"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-8",children:n.jsxs("p",{className:"text-white font-medium italic",children:['"',t.imageCaption,'"']})})]})})]})})})]})},aw=[it,nr,bu,YR],MV=({icon:e,value:t,label:r,description:s})=>n.jsxs("div",{className:"text-center p-8 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-sm transition-all duration-300 hover:bg-white/10",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-green-500/20 text-green-400 mb-4",children:n.jsx(e,{className:"w-7 h-7"})}),n.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:t}),n.jsx("div",{className:"text-green-300 font-bold uppercase text-sm mb-2",children:r}),n.jsx("div",{className:"text-gray-400 text-sm",children:s})]}),OV=()=>{const{content:e}=ot("about","stats",et.about.stats),t=(e.items||[]).map((r,s)=>({icon:aw[s%aw.length],value:r.value,label:r.label,description:r.description}));return n.jsxs("section",{className:"py-24 bg-gray-950 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950"}),n.jsx("div",{className:"absolute inset-0 opacity-5",children:n.jsx("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:n.jsx("path",{d:"M0 100 C 20 0 50 0 100 100 Z",fill:"white"})})}),n.jsx("div",{className:"container-custom relative z-10",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((r,s)=>n.jsx(MV,{...r},s))})})]})},IV=({name:e,role:t,image:r,bio:s})=>n.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-sm border border-gray-100 text-center hover:shadow-xl transition-all duration-300 group",children:[n.jsx("div",{className:"relative w-40 h-40 mx-auto mb-6 rounded-full overflow-hidden border-4 border-green-50 group-hover:border-green-100 transition-colors shadow-inner",children:n.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1 font-heading",children:e}),n.jsx("p",{className:"text-green-600 font-bold text-sm mb-4 uppercase tracking-wide",children:t}),n.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed line-clamp-4",children:s}),n.jsxs("div",{className:"flex justify-center gap-4 opacity-70 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{className:"text-gray-400 hover:text-blue-600 transition-colors transform hover:-translate-y-1",children:n.jsx(LN,{className:"w-5 h-5"})}),n.jsx("button",{className:"text-gray-400 hover:text-pink-600 transition-colors transform hover:-translate-y-1",children:n.jsx(Ll,{className:"w-5 h-5"})}),n.jsx("button",{className:"text-gray-400 hover:text-green-600 transition-colors transform hover:-translate-y-1",children:n.jsx(zi,{className:"w-5 h-5"})})]})]}),LV=()=>{const e=[{name:"Vasil Sidamonidze",role:"Founder & CEO",image:"https://lekwouwaajnnjhoomyrc.supabase.co/storage/v1/object/public/portfolio/portfolio/3e082f34-8ddc-4024-b3fa-89763fcb3605-client-logo-1766261719548.jpeg",bio:"A visionary leader with deep roots in Georgian tourism. Vasil founded GeorgianTrip with a mission to connect the world to the unparalleled beauty and hospitality of the Caucasus. His leadership drives the company's commitment to authentic experiences."},{name:"Nino Kvaratskhelia",role:"Head of Operations",image:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&q=80&w=400",bio:"With over a decade of experience in logistics, Nino ensures that every transfer and tour operates with clockwork precision. She is the backbone of our daily operations and customer satisfaction."},{name:"David Mamardashvili",role:"Lead Guide & Culture Expert",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=400",bio:"A historian by training and a storyteller at heart. David curates our tour itineraries, ensuring travelers don't just see the sights but understand the legends and history behind every stone in Georgia."},{name:"Mariam Tsereteli",role:"Customer Experience Manager",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?auto=format&fit=crop&q=80&w=400",bio:"Mariam leads our support team with empathy and efficiency. She is dedicated to making sure every guest feels supported from the moment they land in Tbilisi until their departure."}];return n.jsxs("section",{className:"py-24 relative overflow-hidden bg-gray-50",children:[n.jsx("div",{className:"absolute inset-0 z-0 opacity-10",children:n.jsx("img",{src:"https://images.unsplash.com/photo-1578326457399-3b34dbbf23b8?auto=format&fit=crop&q=80&w=1920",alt:"Georgian Mountains Texture",className:"w-full h-full object-cover grayscale"})}),n.jsxs("div",{className:"container-custom relative z-10",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("span",{className:"text-green-600 font-bold uppercase tracking-wider text-sm",children:"Our People"}),n.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-bold text-gray-900 mt-2 mb-6",children:"Meet the Team"}),n.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:"We are a group of passionate locals, explorers, and professionals dedicated to showing you the real Georgia."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>n.jsx(IV,{...t},r))})]})]})},iw=[Il,bn,ut,DR],FV=({icon:e,title:t,description:r,image:s,index:a})=>n.jsxs(ye.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:a*.1},className:"group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 flex flex-col h-full border border-gray-100",children:[n.jsxs("div",{className:"h-48 overflow-hidden relative",children:[n.jsx("img",{src:s,alt:t,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),n.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-md rounded-lg text-white",children:n.jsx(e,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-xl font-bold text-white",children:t})]})]}),n.jsx("div",{className:"p-6 flex-grow bg-white",children:n.jsx("p",{className:"text-gray-600 leading-relaxed",children:r})})]}),$V=()=>{const{content:e}=ot("about","values",et.about.values),t=(e.items||[]).map((r,s)=>({icon:iw[s%iw.length],title:r.title,description:r.description,image:r.imageUrl?`${r.imageUrl}?auto=format&fit=crop&q=80&w=500`:""}));return n.jsx("section",{className:"py-24 bg-gray-50",children:n.jsxs("div",{className:"container-custom",children:[n.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[n.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-bold mb-4 tracking-wide",children:e.label}),n.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 mb-6",children:e.title}),n.jsx("p",{className:"text-gray-500 text-lg leading-relaxed",children:e.subtitle})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((r,s)=>n.jsx(FV,{...r,index:s},s))})]})})},ow=["col-span-1 md:col-span-2 row-span-2","col-span-1","col-span-1","col-span-1","col-span-1"],BV=()=>{const{content:e}=ot("about","gallery",et.about.gallery),t=(e.images||[]).map((r,s)=>({src:r.url?`${r.url}?auto=format&fit=crop&q=80&w=${s===0?600:400}`:"",alt:r.alt||"",span:ow[s%ow.length]}));return n.jsx("section",{className:"py-24 bg-white",children:n.jsxs("div",{className:"container-custom",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-green-50 text-green-700 rounded-full text-sm font-bold mb-4 tracking-wide",children:[n.jsx(PN,{className:"w-4 h-4"}),e.label]}),n.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-gray-900 mb-6",children:e.title}),n.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg",children:e.subtitle})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 auto-rows-[200px]",children:t.map((r,s)=>n.jsxs(ye.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:s*.1},className:`relative rounded-2xl overflow-hidden group shadow-md ${r.span}`,children:[n.jsx("img",{src:r.src,alt:r.alt,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:n.jsx("p",{className:"text-white font-bold text-lg translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:r.alt})})]},s))}),n.jsx("div",{className:"mt-12 text-center",children:n.jsxs("a",{href:e.instagramUrl||"https://www.instagram.com/georgiantrip_go/",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-pink-600 font-bold hover:text-pink-700 transition-colors",children:[n.jsx(Ll,{className:"w-5 h-5"}),"View more on Instagram"]})})]})})},VV=()=>{const{content:e}=ot("about","cta",et.about.cta);return n.jsxs("section",{className:"py-24 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("img",{src:`${e.backgroundImage}?auto=format&fit=crop&q=80&w=1920`,alt:"Georgian Mountains Sunset",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gray-950/80"})]}),n.jsxs("div",{className:"container-custom relative z-10 text-center text-white",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 backdrop-blur-sm text-white rounded-full text-sm font-bold mb-6 tracking-wide border border-white/20",children:[n.jsx(qR,{className:"w-4 h-4"}),"Start Your Journey"]}),n.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold mb-6",children:e.title}),n.jsx("p",{className:"text-xl text-gray-200 mb-10 max-w-2xl mx-auto font-light",children:e.subtitle}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[n.jsx(ie,{to:"/tours",children:n.jsxs(P,{className:"bg-green-600 hover:bg-green-700 text-white rounded-full px-8 h-14 text-lg w-full sm:w-auto shadow-lg shadow-green-900/20 transition-all duration-300",children:[e.button1Text||"Explore Tours"," ",n.jsx(at,{className:"w-5 h-5 ml-2"})]})}),n.jsx(ie,{to:"/contact",children:n.jsxs(P,{variant:"outline",className:"bg-transparent border-white text-white hover:bg-white hover:text-gray-900 rounded-full px-8 h-14 text-lg w-full sm:w-auto transition-all duration-300",children:[e.button2Text||"Contact Us"," ",n.jsx(zi,{className:"w-5 h-5 ml-2"})]})})]})]})]})},UV=()=>(f.useEffect(()=>{window.scrollTo(0,0)},[]),n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsxs(vr,{children:[n.jsx("title",{children:"About Us | GeorgianTrip - Our Story & Mission"}),n.jsx("meta",{name:"description",content:"Learn about GeorgianTrip, our story, values, and the team dedicated to making your Georgian adventure unforgettable."})]}),n.jsx(RV,{}),n.jsx(DV,{}),n.jsx(OV,{}),n.jsx($V,{}),n.jsx(LV,{}),n.jsx(BV,{}),n.jsx(VV,{})]})),zV=()=>{const{signIn:e,signUp:t}=Ke(),r=ge(),{toast:s}=ae(),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(!0),[x,g]=f.useState(!1),[b,y]=f.useState(""),[v,w]=f.useState({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:"",terms:!1,languages:[]});f.useEffect(()=>{const _=localStorage.getItem("driver_email");_&&(d(_),p(!0))},[]);const j=async _=>{_.preventDefault(),i(!0),m?localStorage.setItem("driver_email",c):localStorage.removeItem("driver_email");const{error:E}=await e(c,u);i(!1),E||(s({title:"Welcome back!",description:"Redirecting to dashboard..."}),r("/driver/dashboard"))},S=async _=>{if(_.preventDefault(),!/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(v.password)){s({variant:"destructive",title:"Weak Password",description:"Password must be at least 8 characters and contain both letters and numbers."});return}if(v.password!==v.confirmPassword){s({variant:"destructive",title:"Passwords do not match"});return}if(!v.phone.startsWith("+995")){s({variant:"destructive",title:"Invalid Phone Format",description:"Phone must start with +995..."});return}if(v.languages.length===0){s({variant:"destructive",title:"Language Required",description:"Select at least one language."});return}if(!v.terms){s({variant:"destructive",title:"Terms Required",description:"Please accept terms & conditions."});return}i(!0);const{data:k,error:$}=await t(v.email,v.password,{data:{role:"driver",first_name:v.firstName,last_name:v.lastName}});if($){s({variant:"destructive",title:"Registration Failed",description:$.message}),i(!1);return}if(k!=null&&k.user){const{error:F}=await O.from("drivers").insert({user_id:k.user.id,first_name:v.firstName,last_name:v.lastName,email:v.email,phone:v.phone,languages_spoken:v.languages,status:"pending_verification",verification_status:"pending"});F?s({variant:"destructive",title:"Profile Creation Failed",description:F.message}):(s({title:"Registration Successful",description:"Please upload your documents."}),r("/driver/verify"))}i(!1)},C=async()=>{if(!b){s({variant:"destructive",title:"Error",description:"Please enter your email address."});return}i(!0);const{error:_}=await O.auth.resetPasswordForEmail(b,{redirectTo:`${window.location.origin}/driver/settings`});i(!1),_?s({variant:"destructive",title:"Error",description:_.message}):(s({title:"Email Sent",description:"Check your inbox for the password reset link."}),g(!1))},N=_=>{w(E=>{const k=E.languages.includes(_)?E.languages.filter($=>$!==_):[...E.languages,_];return{...E,languages:k}})};return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[n.jsxs(G,{className:"w-full max-w-md p-8 space-y-8 bg-white shadow-xl rounded-2xl",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Driver Portal"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Join our network of professional drivers"})]}),n.jsxs(ln,{defaultValue:"login",className:"w-full",children:[n.jsxs(Br,{className:"grid w-full grid-cols-2 mb-8",children:[n.jsx(pe,{value:"login",children:"Sign In"}),n.jsx(pe,{value:"register",children:"Register"})]}),n.jsx(Ne,{value:"login",children:n.jsxs("form",{onSubmit:j,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(T,{htmlFor:"email",children:"Email address"}),n.jsx(D,{id:"email",type:"email",required:!0,value:c,onChange:_=>d(_.target.value),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(T,{htmlFor:"password",children:"Password"}),n.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-xs text-green-600 hover:text-green-500 font-medium",children:"Forgot password?"})]}),n.jsxs("div",{className:"relative mt-1",children:[n.jsx(D,{id:"password",type:o?"text":"password",required:!0,value:u,onChange:_=>h(_.target.value)}),n.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:o?n.jsx(oy,{className:"w-4 h-4"}):n.jsx(ul,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"remember-me",type:"checkbox",checked:m,onChange:_=>p(_.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),n.jsxs(P,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 h-11 text-base",disabled:a,children:[a?n.jsx(de,{className:"mr-2 h-5 w-5 animate-spin"}):null,"Sign In"]})]})}),n.jsx(Ne,{value:"register",children:n.jsxs("form",{onSubmit:S,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"First Name"}),n.jsx(D,{required:!0,value:v.firstName,onChange:_=>w({...v,firstName:_.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Last Name"}),n.jsx(D,{required:!0,value:v.lastName,onChange:_=>w({...v,lastName:_.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Phone (+995...)"}),n.jsx(D,{required:!0,value:v.phone,onChange:_=>w({...v,phone:_.target.value}),placeholder:"+995 5XX XX XX XX"})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Email"}),n.jsx(D,{required:!0,type:"email",value:v.email,onChange:_=>w({...v,email:_.target.value})})]}),n.jsxs("div",{className:"relative",children:[n.jsx(T,{children:"Password (min 8 chars)"}),n.jsx(D,{required:!0,type:o?"text":"password",value:v.password,onChange:_=>w({...v,password:_.target.value})}),n.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",children:o?n.jsx(oy,{className:"w-4 h-4"}):n.jsx(ul,{className:"w-4 h-4"})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Confirm Password"}),n.jsx(D,{required:!0,type:"password",value:v.confirmPassword,onChange:_=>w({...v,confirmPassword:_.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{className:"mb-2 block",children:"Languages Spoken"}),n.jsx("div",{className:"flex gap-4",children:["EN","RU","KA"].map(_=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm p-2 rounded border border-gray-200 hover:bg-gray-50",children:[n.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${v.languages.includes(_)?"bg-green-600 border-green-600":"border-gray-300"}`,children:v.languages.includes(_)&&n.jsx(jn,{className:"w-3 h-3 text-white"})}),n.jsx("input",{type:"checkbox",className:"hidden",checked:v.languages.includes(_),onChange:()=>N(_)}),n.jsx("span",{children:_})]},_))})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[n.jsx("input",{type:"checkbox",id:"terms",required:!0,checked:v.terms,onChange:_=>w({...v,terms:_.target.checked}),className:"rounded text-green-600 focus:ring-green-500 w-4 h-4"}),n.jsxs(T,{htmlFor:"terms",className:"text-xs text-gray-600 mb-0 cursor-pointer",children:["I agree to the ",n.jsx("a",{href:"#",className:"text-green-600 hover:underline",children:"Terms & Conditions"})]})]}),n.jsxs(P,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 h-11",disabled:a,children:[a?n.jsx(de,{className:"mr-2 h-5 w-5 animate-spin"}):null,"Create Account"]})]})})]})]}),n.jsx(tt,{open:x,onOpenChange:g,children:n.jsxs(Qe,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:"Reset Password"}),n.jsx($r,{children:"Enter your email address and we'll send you a link to reset your password."})]}),n.jsxs("div",{className:"py-4",children:[n.jsx(T,{children:"Email Address"}),n.jsx(D,{placeholder:"name@example.com",value:b,onChange:_=>y(_.target.value)})]}),n.jsxs(Fr,{children:[n.jsx(P,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),n.jsxs(P,{onClick:C,className:"bg-green-600 hover:bg-green-700",disabled:a,children:[a?n.jsx(de,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Send Reset Link"]})]})]})})]})},Fn=({bucketName:e,pathPrefix:t,onUploadComplete:r,maxSizeMB:s=5,acceptedFileTypes:a=["image/jpeg","image/png","image/webp"],className:i,multiple:o=!1,compact:l=!1})=>{const[c,d]=f.useState(!1),{toast:u}=ae(),h=async m=>{const p=Array.from(m.target.files||[]);if(p.length===0)return;d(!0);const x=[],g=[];for(const b of p){if(b.size>s*1024*1024){g.push(`${b.name} is too large (max ${s}MB)`);continue}if(!a.includes(b.type)){g.push(`${b.name} has unsupported format`);continue}try{const y=b.name.split(".").pop(),v=`${Math.random().toString(36).substring(2)}_${Date.now()}.${y}`,w=`${t}/${v}`,{error:j}=await O.storage.from(e).upload(w,b,{upsert:!0});if(j)throw j;const{data:{publicUrl:S}}=O.storage.from(e).getPublicUrl(w);x.push(S)}catch(y){console.error("Upload failed:",y),g.push(`Failed to upload ${b.name}`)}}d(!1),g.length>0&&u({variant:"destructive",title:"Upload Issues",description:g.join(". ")}),x.length>0&&(r(o?x:x[0]),u({title:"Success",description:`${x.length} photo(s) uploaded`})),m.target.value=""};return n.jsxs("div",{className:Q("relative",i),children:[n.jsx("input",{type:"file",accept:a.join(","),onChange:h,className:"hidden",id:`upload-${t}`,multiple:o,disabled:c}),n.jsx("label",{htmlFor:`upload-${t}`,className:Q("flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",l?"w-24 h-24":"w-full h-32",c&&"opacity-50 cursor-not-allowed"),children:c?n.jsx(de,{className:"w-8 h-8 text-green-600 animate-spin"}):n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center p-2 text-center",children:[n.jsx(hl,{className:Q("text-gray-400 mb-2",l?"w-6 h-6":"w-8 h-8")}),!l&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-gray-500 font-semibold",children:o?"Add Photos":"Upload Photo"}),n.jsxs("p",{className:"text-xs text-gray-400",children:["JPG, PNG (Max ",s,"MB)"]})]}),l&&n.jsx("span",{className:"text-xs text-gray-500",children:"Add"})]})})})]})},HV=()=>{const{user:e}=Ke(),t=ge(),{toast:r}=ae(),[s,a]=f.useState(!0),[i,o]=f.useState(null),[l,c]=f.useState({id_url:"",license_url:"",car_docs_url:""});f.useEffect(()=>{e&&d()},[e]);const d=async()=>{const{data:h}=await O.from("drivers").select("*").eq("user_id",e.id).single();h&&(o(h),c({id_url:h.id_document_url||"",license_url:h.driving_license_url||"",car_docs_url:h.car_documents_url||""}),h.verification_status==="approved"&&t("/driver/dashboard")),a(!1)},u=async()=>{if(!l.id_url||!l.license_url){r({variant:"destructive",title:"Missing Documents",description:"Please upload both ID and License."});return}const{error:h}=await O.from("drivers").update({id_document_url:l.id_url,driving_license_url:l.license_url,car_documents_url:l.car_docs_url,verification_status:"pending"}).eq("user_id",e.id);h?r({variant:"destructive",title:"Error",description:h.message}):(r({title:"Documents Uploaded",description:"Your profile is under review."}),t("/driver/dashboard"))};return s?n.jsx("div",{children:"Loading..."}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs(G,{className:"max-w-2xl w-full p-8 space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Verify Your Identity"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Upload your documents to start accepting bookings."}),(i==null?void 0:i.verification_status)==="rejected"&&n.jsxs("div",{className:"mt-4 bg-red-50 text-red-800 p-4 rounded-lg flex items-center gap-2",children:[n.jsx(Ta,{className:"w-5 h-5"}),n.jsxs("div",{className:"text-left text-sm",children:[n.jsx("p",{className:"font-bold",children:"Verification Rejected"}),n.jsx("p",{children:i.rejection_reason||"Please re-upload clear copies of your documents."})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(T,{children:"ID Card / Passport (Front) *"}),n.jsx(Fn,{bucketName:"driver-documents",pathPrefix:`${e.id}/id`,onUploadComplete:h=>c({...l,id_url:h})}),l.id_url&&n.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center",children:[n.jsx(Wn,{className:"w-3 h-3 mr-1"})," Uploaded"]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Driving License (Front) *"}),n.jsx(Fn,{bucketName:"driver-documents",pathPrefix:`${e.id}/license`,onUploadComplete:h=>c({...l,license_url:h})}),l.license_url&&n.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center",children:[n.jsx(Wn,{className:"w-3 h-3 mr-1"})," Uploaded"]})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Car Tech Passport (Optional)"}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"You can add this later when adding a car."}),n.jsx(Fn,{bucketName:"driver-documents",pathPrefix:`${e.id}/car`,onUploadComplete:h=>c({...l,car_docs_url:h}),className:"h-24"})]}),n.jsx("div",{className:"pt-4 border-t",children:n.jsx(P,{onClick:u,className:"w-full bg-green-600 hover:bg-green-700 text-lg py-6",children:"Submit for Verification"})})]})]})})},WV=({status:e})=>{switch(e){case"approved":case"verified":return n.jsxs(ee,{className:"bg-green-100 text-green-800 hover:bg-green-200 border-0 flex items-center gap-1 shadow-none",children:[n.jsx(Wn,{className:"w-3 h-3"})," Verified"]});case"rejected":return n.jsxs(ee,{variant:"destructive",className:"flex items-center gap-1 shadow-none bg-red-100 text-red-800 hover:bg-red-200",children:[n.jsx(Ui,{className:"w-3 h-3"})," Rejected"]});default:return n.jsxs(ee,{variant:"secondary",className:"flex items-center gap-1 shadow-none bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:[n.jsx(Nn,{className:"w-3 h-3"})," Pending Verification"]})}};var Xx="Switch",[GV,UW]=Ut(Xx),[qV,KV]=GV(Xx),ek=f.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=f.useState(null),x=ve(t,w=>p(w)),g=f.useRef(!1),b=m?u||!!m.closest("form"):!0,[y=!1,v]=yr({prop:a,defaultProp:i,onChange:d});return n.jsxs(qV,{scope:r,checked:y,disabled:l,children:[n.jsx(ne.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":nk(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:K(e.onClick,w=>{v(j=>!j),b&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),b&&n.jsx(YV,{control:m,bubbles:!g.current,name:s,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});ek.displayName=Xx;var tk="SwitchThumb",rk=f.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=KV(tk,r);return n.jsx(ne.span,{"data-state":nk(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});rk.displayName=tk;var YV=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=f.useRef(null),o=Wx(r),l=Dg(t);return f.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&h){const m=new Event("click",{bubbles:s});h.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function nk(e){return e?"checked":"unchecked"}var sk=ek,XV=rk;const Fs=f.forwardRef(({className:e,...t},r)=>n.jsx(sk,{className:Q("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-green-600 data-[state=unchecked]:bg-gray-200",e),...t,ref:r,children:n.jsx(XV,{className:Q("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fs.displayName=sk.displayName;const QV=()=>{const{user:e}=Ke(),{toast:t}=ae(),r=ge(),[s,a]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(null);f.useEffect(()=>{e&&d()},[e]);const d=async()=>{o(!0);try{const{data:x}=await O.from("drivers").select("id").eq("user_id",e.id).maybeSingle();if(x){const{data:g,error:b}=await O.from("cars").select("*").eq("driver_id",x.id).order("created_at",{ascending:!1});if(b)throw b;a(g||[])}else a([])}catch(x){console.error("Error fetching cars:",x),t({variant:"destructive",title:"Error",description:"Failed to load your vehicles."})}finally{o(!1)}},u=()=>{r("/driver/cars/new")},h=async(x,g)=>{a(s.map(y=>y.id===x?{...y,active:!g}:y));const{error:b}=await O.from("cars").update({active:!g}).eq("id",x);b?(a(s.map(y=>y.id===x?{...y,active:g}:y)),t({variant:"destructive",title:"Update Failed",description:b.message})):t({title:g?"Car Deactivated":"Car Activated",description:g?"Your car is now hidden.":"Your car is now visible in search results."})},m=async()=>{if(!l)return;const{error:x}=await O.from("cars").delete().eq("id",l);x?t({variant:"destructive",title:"Delete Failed",description:x.message}):(a(s.filter(g=>g.id!==l)),t({title:"Car Deleted Successfully"})),c(null)},p=x=>{var b;return x.active?x.main_photo&&((b=x.gallery_images)==null?void 0:b.length)>=3?n.jsx(ee,{className:"bg-green-600 text-white border-0",children:"Active & Published"}):n.jsx(ee,{className:"bg-amber-500 text-white border-0",children:"Active (Pending Info)"}):n.jsx(ee,{variant:"secondary",className:"bg-gray-500 text-white border-0",children:"Inactive"})};return i?n.jsx("div",{className:"p-8 flex justify-center",children:n.jsx(de,{className:"animate-spin text-green-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"My Vehicles"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your fleet and availability"})]}),n.jsxs(P,{onClick:u,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"})," Add New Car"]})]}),s.length===0?n.jsxs(G,{className:"p-12 flex flex-col items-center justify-center text-center border-dashed border-2 bg-gray-50/50",children:[n.jsx("div",{className:"bg-white p-6 rounded-full mb-4 shadow-sm",children:n.jsx(rr,{className:"w-12 h-12 text-gray-400"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No cars added yet"}),n.jsx("p",{className:"text-gray-500 max-w-sm mb-6",children:"Add your first vehicle to start accepting bookings. Make sure you have clear photos ready."}),n.jsx(P,{onClick:u,className:"bg-green-600",children:"Add Your First Car"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(x=>n.jsxs(G,{className:"overflow-hidden flex flex-col group border-gray-200 hover:border-gray-300 transition-all shadow-sm hover:shadow-md",children:[n.jsxs("div",{className:"relative h-48 bg-gray-200 group-hover:opacity-95 transition-opacity",children:[x.main_photo?n.jsx("img",{src:x.main_photo,alt:x.model,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx(rr,{className:"w-8 h-8 mx-auto mb-1 opacity-20"}),n.jsx("span",{className:"text-xs",children:"No Image"})]})}),n.jsx("div",{className:"absolute top-2 left-2 flex gap-2",children:p(x)}),n.jsxs("div",{className:"absolute top-2 right-2",children:[x.verification_status==="approved"&&n.jsxs(ee,{className:"bg-white/90 text-green-700 hover:bg-white",children:[n.jsx(Wn,{className:"w-3 h-3 mr-1"})," Approved"]}),x.verification_status==="pending"&&n.jsxs(ee,{className:"bg-white/90 text-yellow-700 hover:bg-white",children:[n.jsx(zN,{className:"w-3 h-3 mr-1"})," Verification Pending"]}),x.verification_status==="rejected"&&n.jsxs(ee,{className:"bg-white/90 text-red-700 hover:bg-white",children:[n.jsx(Ui,{className:"w-3 h-3 mr-1"})," Rejected"]})]})]}),n.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:[x.make," ",x.model]}),n.jsx("span",{className:"text-gray-500 text-sm font-medium",children:x.year})]}),n.jsx("p",{className:"text-xs text-gray-500 font-mono bg-gray-100 px-2 py-1 rounded w-fit mb-4",children:x.license_plate}),n.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 text-sm text-gray-600 mb-6 bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rr,{className:"w-4 h-4 text-gray-400"})," ",x.seats," Seats"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-4 text-center text-xs font-bold text-gray-400 border border-gray-300 rounded",children:"T"})," ",x.transmission]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-4 text-center text-xs font-bold text-gray-400 border border-gray-300 rounded",children:"F"})," ",x.fuel_type]}),n.jsxs("div",{className:"flex items-center gap-2",children:[" ",x.luggage_capacity||0," Bags"]})]}),n.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fs,{checked:x.active,onCheckedChange:()=>h(x.id,x.active)}),n.jsx("span",{className:`text-xs font-medium ${x.active?"text-green-600":"text-gray-500"}`,children:x.active?"Visible":"Hidden"})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",asChild:!0,title:"Edit Car",children:n.jsx(ie,{to:`/driver/cars/${x.id}/edit`,children:n.jsx(Ds,{className:"w-4 h-4 text-gray-600"})})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>c(x.id),title:"Delete Car",className:"hover:text-red-600 text-gray-400 hover:bg-red-50",children:n.jsx(ir,{className:"w-4 h-4"})})]})]})]})]},x.id))}),n.jsx(tt,{open:!!l,onOpenChange:()=>c(null),children:n.jsxs(Qe,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:"Delete Vehicle?"}),n.jsx($r,{children:"Are you sure you want to delete this car? This action cannot be undone and will remove it from search results."})]}),n.jsxs(Fr,{children:[n.jsx(P,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),n.jsx(P,{variant:"destructive",onClick:m,children:"Delete Permanently"})]})]})})]})},am=({title:e,documentType:t,currentUrl:r,uploadedAt:s,status:a,rejectionReason:i,onUploadSuccess:o,isRequired:l=!1})=>{const{user:c}=Ke(),{toast:d}=ae(),[u,h]=f.useState(!1),m=t==="car"?"car_documents_url":`${t}_document_url`,p=t==="car"?"car_documents_uploaded_at":`${t}_document_uploaded_at`,x=async b=>{var v;const y=(v=b.target.files)==null?void 0:v[0];if(y){if(y.size>5*1024*1024){d({variant:"destructive",title:"File too large",description:"Please upload a document smaller than 5MB."});return}h(!0);try{const w=y.name.split(".").pop(),j=`${t}_${Date.now()}.${w}`,S=`${c.id}/${j}`,{error:C}=await O.storage.from("driver-documents").upload(S,y);if(C)throw C;const{data:{publicUrl:N}}=O.storage.from("driver-documents").getPublicUrl(S),_={[m]:N,[p]:new Date().toISOString(),verification_status:a==="rejected"?"pending_verification":void 0};Object.keys(_).forEach(k=>_[k]===void 0&&delete _[k]);const{error:E}=await O.from("drivers").update(_).eq("user_id",c.id);if(E)throw E;d({title:"Document Uploaded",description:`${e} has been uploaded successfully.`}),o&&o()}catch(w){console.error("Upload failed:",w),d({variant:"destructive",title:"Upload Failed",description:w.message||"Could not upload document."})}finally{h(!1),b.target.value=""}}},g=()=>r?a==="approved"?n.jsx(ee,{className:"bg-green-100 text-green-700 border-green-200 hover:bg-green-100",children:"Verified"}):a==="rejected"?n.jsx(ee,{className:"bg-red-100 text-red-700 border-red-200 hover:bg-red-100",children:"Rejected"}):n.jsx(ee,{className:"bg-yellow-100 text-yellow-700 border-yellow-200 hover:bg-yellow-100",children:"Pending Verification"}):n.jsx(ee,{variant:"outline",className:"bg-gray-100 text-gray-500 border-gray-200",children:"Not Uploaded"});return n.jsx(G,{className:"p-4 border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:e}),l&&n.jsx("span",{className:"text-red-500 text-xs",children:"*"}),g()]}),s&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded on ",new Date(s).toLocaleDateString()]}),a==="rejected"&&i&&n.jsxs("div",{className:"mt-2 bg-red-50 text-red-700 p-2 rounded text-sm flex items-start gap-2",children:[n.jsx(Ta,{className:"w-4 h-4 mt-0.5 shrink-0"}),n.jsxs("span",{children:[n.jsx("span",{className:"font-bold",children:"Rejection Reason:"})," ",i]})]})]}),n.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:r?n.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[n.jsx(P,{variant:"outline",asChild:!0,size:"sm",className:"flex-1 sm:flex-none",children:n.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:[n.jsx(vu,{className:"w-4 h-4 mr-2"})," View"]})}),n.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[n.jsx("input",{type:"file",id:`replace-${t}`,className:"hidden",accept:".jpg,.jpeg,.png,.pdf",onChange:x,disabled:u}),n.jsx(P,{variant:"outline",size:"sm",className:"w-full text-blue-600 border-blue-200 hover:bg-blue-50",disabled:u,asChild:!0,children:n.jsxs("label",{htmlFor:`replace-${t}`,className:"cursor-pointer",children:[u?n.jsx(de,{className:"w-4 h-4 animate-spin"}):n.jsx($l,{className:"w-4 h-4 mr-2"}),"Replace"]})})]})]}):n.jsxs("div",{className:"relative w-full sm:w-auto",children:[n.jsx("input",{type:"file",id:`upload-${t}`,className:"hidden",accept:".jpg,.jpeg,.png,.pdf",onChange:x,disabled:u}),n.jsx(P,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:u,asChild:!0,children:n.jsxs("label",{htmlFor:`upload-${t}`,className:"cursor-pointer",children:[u?n.jsx(de,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(hl,{className:"w-4 h-4 mr-2"}),"Upload Document"]})})]})})]})})},JV=({driver:e,onEditClick:t,onRefresh:r})=>{var l,c;const s=e.verification_status==="approved",a=[{label:"First Name",completed:!!e.first_name},{label:"Last Name",completed:!!e.last_name},{label:"Phone",completed:!!e.phone},{label:"Languages",completed:((l=e.languages_spoken)==null?void 0:l.length)>0},{label:"Documents",completed:!!e.id_document_url&&!!e.license_document_url}],i=a.filter(d=>d.completed).length,o=i===a.length;return n.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[n.jsx(G,{className:"p-6 border-none shadow-sm bg-gradient-to-r from-gray-900 to-gray-800 text-white overflow-hidden relative",children:n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center md:items-start gap-6",children:[n.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white/20 overflow-hidden shrink-0 bg-gray-700",children:e.avatar_url?n.jsx("img",{src:e.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(qn,{className:"w-10 h-10 text-gray-400"})})}),n.jsxs("div",{className:"flex-1 text-center md:text-left space-y-2",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3",children:[n.jsxs("h2",{className:"text-2xl font-bold",children:[e.first_name," ",e.last_name]}),s?n.jsxs(ee,{className:"bg-green-500/20 text-green-300 border-green-500/50 hover:bg-green-500/30",children:[n.jsx(Bl,{className:"w-3 h-3 mr-1"})," Verified Driver"]}):n.jsxs(ee,{className:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50 hover:bg-yellow-500/30",children:[n.jsx(WR,{className:"w-3 h-3 mr-1"})," ",e.verification_status==="rejected"?"Verification Rejected":"Pending Verification"]})]}),n.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 text-gray-300 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(zi,{className:"w-4 h-4"})," ",e.email]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Gn,{className:"w-4 h-4"})," ",e.phone||"No phone added"]})]}),n.jsx("div",{className:"pt-2 flex flex-wrap justify-center md:justify-start gap-2",children:(c=e.languages_spoken)==null?void 0:c.map(d=>n.jsx(ee,{variant:"outline",className:"border-white/30 text-white bg-white/10",children:d==="KA"?" Georgian":d==="EN"?" English":" Russian"},d))})]}),n.jsxs(P,{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg",children:[n.jsx(gg,{className:"w-4 h-4 mr-2"})," Edit Profile"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(G,{className:"p-6",children:[n.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(qn,{className:"w-5 h-5 text-gray-500"})," About Me"]}),e.bio?n.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:e.bio}):n.jsx("p",{className:"text-gray-400 italic",children:"No bio added yet. Click edit to add a description."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-bold text-gray-900 text-lg flex items-center gap-2",children:[n.jsx(vu,{className:"w-5 h-5 text-blue-600"})," Documents"]}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload required documents to get verified. Verified drivers get more bookings."}),n.jsx(am,{title:"ID Card / Passport",documentType:"id",currentUrl:e.id_document_url,uploadedAt:e.id_document_uploaded_at,status:e.verification_status,rejectionReason:e.verification_rejection_reason,onUploadSuccess:r,isRequired:!0}),n.jsx(am,{title:"Driving License",documentType:"license",currentUrl:e.license_document_url,uploadedAt:e.license_document_uploaded_at,status:e.verification_status,rejectionReason:e.verification_rejection_reason,onUploadSuccess:r,isRequired:!0}),n.jsx(am,{title:"Car Registration (Optional)",documentType:"car",currentUrl:e.car_documents_url,uploadedAt:e.car_documents_uploaded_at,status:e.verification_status,rejectionReason:e.verification_rejection_reason,onUploadSuccess:r})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs(G,{className:"p-6 bg-gray-50 border-gray-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"font-bold text-gray-900",children:"Profile Completion"}),n.jsxs(ee,{variant:o?"default":"secondary",className:o?"bg-green-600":"",children:[i,"/",a.length," Completed"]})]}),n.jsx("div",{className:"space-y-3",children:a.map((d,u)=>n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.completed?n.jsx(ur,{className:"w-5 h-5 text-green-600 shrink-0"}):n.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300 shrink-0"}),n.jsx("span",{className:d.completed?"text-gray-900 font-medium":"text-gray-500",children:d.label})]},u))}),!o&&n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Complete your profile to improve your visibility and get verified."}),n.jsx(P,{variant:"outline",size:"sm",className:"w-full",onClick:t,children:"Complete Profile"})]})]})})]})]})},ZV=({user:e,initialData:t,onCancel:r,onSuccess:s})=>{const{toast:a}=ae(),[i,o]=f.useState(!1),[l,c]=f.useState({first_name:(t==null?void 0:t.first_name)||"",last_name:(t==null?void 0:t.last_name)||"",phone:(t==null?void 0:t.phone)||"",bio:(t==null?void 0:t.bio)||"",languages_spoken:(t==null?void 0:t.languages_spoken)||[],avatar_url:(t==null?void 0:t.avatar_url)||""}),d=h=>{c(m=>{const p=m.languages_spoken||[],x=p.includes(h)?p.filter(g=>g!==h):[...p,h];return{...m,languages_spoken:x}})},u=async h=>{var m,p,x;if(h.preventDefault(),!((m=l.first_name)!=null&&m.trim())){a({variant:"destructive",title:"Error",description:"First Name is required"});return}if(!((p=l.last_name)!=null&&p.trim())){a({variant:"destructive",title:"Error",description:"Last Name is required"});return}if(!((x=l.phone)!=null&&x.trim())){a({variant:"destructive",title:"Error",description:"Phone number is required"});return}o(!0);try{const g={user_id:e.id,...l,email:e.email,updated_at:new Date().toISOString()},{error:b}=await O.from("drivers").upsert(g,{onConflict:"user_id"});if(b)throw b;a({title:"Success",description:"Profile updated successfully",className:"bg-green-50 border-green-200"}),s&&s()}catch(g){console.error("Error saving profile:",g),a({variant:"destructive",title:"Error",description:g.message})}finally{o(!1)}};return n.jsxs(G,{className:"p-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Edit Profile"}),n.jsx(P,{variant:"ghost",size:"icon",onClick:r,children:n.jsx(Dt,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:u,className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col items-center sm:flex-row gap-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 border-2 border-white shadow",children:l.avatar_url?n.jsx("img",{src:l.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"No Image"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(T,{className:"mb-2 block",children:"Profile Photo"}),n.jsx(Fn,{bucketName:"driver-avatars",pathPrefix:e.id,compact:!0,onUploadComplete:h=>{c(m=>({...m,avatar_url:h})),a({title:"Avatar uploaded"})},className:"w-full max-w-[200px]"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs(T,{children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{value:l.first_name,onChange:h=>c({...l,first_name:h.target.value}),className:"mt-1",placeholder:"John"})]}),n.jsxs("div",{children:[n.jsxs(T,{children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{value:l.last_name,onChange:h=>c({...l,last_name:h.target.value}),className:"mt-1",placeholder:"Doe"})]})]}),n.jsxs("div",{children:[n.jsxs(T,{children:["Phone Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{value:l.phone,onChange:h=>c({...l,phone:h.target.value}),className:"mt-1",placeholder:"+995 555 00 00 00"})]}),n.jsxs("div",{children:[n.jsx(T,{className:"mb-3 block",children:"Languages Spoken"}),n.jsx("div",{className:"flex flex-wrap gap-4",children:["EN","RU","KA"].map(h=>{const m=(l.languages_spoken||[]).includes(h);return n.jsxs("label",{className:`flex items-center gap-2 px-4 py-2 rounded-lg border cursor-pointer transition-all ${m?"bg-green-50 border-green-500 text-green-700":"bg-white border-gray-200 hover:border-gray-300"}`,children:[n.jsx("input",{type:"checkbox",checked:m,onChange:()=>d(h),className:"hidden"}),n.jsx("span",{className:"font-bold text-sm",children:h==="KA"?" Georgian":h==="EN"?" English":" Russian"}),m&&n.jsx(ur,{className:"w-3 h-3 ml-1"})]},h)})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Short Bio"}),n.jsx(Ae,{value:l.bio,onChange:h=>c({...l,bio:h.target.value}),placeholder:"Tell customers about your experience...",className:"min-h-[120px] mt-1",maxLength:500}),n.jsx("div",{className:"flex justify-end mt-1",children:n.jsxs("span",{className:"text-xs text-gray-400",children:[l.bio.length,"/500"]})})]}),n.jsxs("div",{className:"pt-4 flex justify-end gap-3 border-t",children:[n.jsx(P,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),n.jsxs(P,{type:"submit",className:"bg-green-600 hover:bg-green-700 min-w-[140px]",disabled:i,children:[i?n.jsx(de,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})},ak=()=>{const{user:e}=Ke(),{toast:t}=ae(),[r,s]=f.useState(!0),[a,i]=f.useState(null),[o,l]=f.useState("view"),c=async()=>{s(!0);try{const{data:d,error:u}=await O.from("drivers").select("*").eq("user_id",e.id).maybeSingle();if(u)throw u;i(d),l(d?"view":"edit")}catch(d){console.error("Error fetching profile:",d),t({variant:"destructive",title:"Error",description:"Failed to load profile data."})}finally{s(!1)}};return f.useEffect(()=>{e&&c()},[e]),r?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx(de,{className:"w-8 h-8 animate-spin text-green-600 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Loading profile..."})]}):o==="view"&&a?n.jsxs("div",{className:"max-w-5xl mx-auto py-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-900",children:"My Profile"}),n.jsx(JV,{driver:a,onEditClick:()=>l("edit"),onRefresh:c})]}):n.jsx("div",{className:"max-w-4xl mx-auto py-6",children:n.jsx(ZV,{user:e,initialData:a,onCancel:()=>{a&&l("view")},onSuccess:()=>{c()}})})},ik=()=>{var C,N,_,E;const{user:e}=Ke(),{toast:t}=ae(),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(null),[c,d]=f.useState(30),[u,h]=f.useState({base_rate_per_km:0,multiplier_200_plus:1,custom_multipliers:{}}),[m,p]=f.useState(null),[x,g]=f.useState(100),[b,y]=f.useState(null);f.useEffect(()=>{e&&v()},[e]);const v=async()=>{s(!0);const{data:k}=await O.from("admin_settings").select("*").maybeSingle();l(k),k!=null&&k.default_admin_commission&&d(Number(k.default_admin_commission));const{data:$}=await O.from("drivers").select("id").eq("user_id",e.id).maybeSingle();if($){p($.id);const{data:F}=await O.from("driver_pricing").select("*").eq("driver_id",$.id).maybeSingle();F?h({base_rate_per_km:F.base_rate_per_km,multiplier_200_plus:F.multiplier_200_plus||1,custom_multipliers:F.custom_multipliers||{}}):k&&h({base_rate_per_km:k.base_rate_per_km,multiplier_200_plus:k.multiplier_200_plus_km||1,custom_multipliers:{}})}s(!1)},w=k=>{if(!o)return null;const $=o.driver_price_override_enabled?u.base_rate_per_km:o.base_rate_per_km;if($==null)return null;let F=1;k<=50?F=o.multiplier_0_50km:k<=100?F=o.multiplier_50_100km:k<=200?F=o.multiplier_100_200km:F=o.driver_price_override_enabled?u.multiplier_200_plus:o.multiplier_200_plus_km;let H=k*$*F;const B=o.min_fare||0,A=H<B,M=Math.max(H,B),U=M*(c/100),R=M*((100-c)/100);return{distance:k,baseRate:$,multiplier:F,subtotal:H,minFareApplied:A,finalPrice:M,commission:U,driverNet:R}};f.useEffect(()=>{!r&&o&&y(w(x))},[x,u,o,r,c]);const j=async()=>{if(!m){t({variant:"destructive",title:"Error",description:"Driver profile not found."});return}if(i(!0),o&&u.base_rate_per_km>o.max_price_per_km){t({variant:"destructive",title:"Price Too High",description:`Max allowed base rate is ${o.max_price_per_km}`}),i(!1);return}const{error:k}=await O.from("driver_pricing").upsert({driver_id:m,base_rate_per_km:u.base_rate_per_km,multiplier_200_plus:u.multiplier_200_plus,updated_at:new Date},{onConflict:"driver_id"});t(k?{variant:"destructive",title:"Error",description:k.message}:{title:"Pricing Updated",description:"Your custom rates are saved."}),i(!1)};if(r)return n.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading pricing..."});if(!o)return n.jsxs("div",{className:"p-8 text-center border-2 border-dashed rounded-lg bg-gray-50",children:[n.jsx(tn,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Configuration Missing"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Pricing settings have not been configured by the administrator yet."})]});const S=o==null?void 0:o.driver_price_override_enabled;return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Pricing Management"}),n.jsxs(G,{className:"p-6",children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsx(ee,{variant:S?"default":"secondary",className:S?"bg-green-600":"bg-gray-500",children:S?"Custom Pricing Enabled":"Global Pricing Active"})}),!S&&n.jsxs("div",{className:"bg-yellow-50 text-yellow-800 p-4 rounded-lg flex gap-3 text-sm mb-6 border border-yellow-100",children:[n.jsx(tn,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("p",{children:"Pricing is currently controlled by the platform administrator to ensure consistency. You cannot modify these rates."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Base Rate per KM ()"}),n.jsx(D,{type:"number",step:"0.1",value:u.base_rate_per_km,onChange:k=>h({...u,base_rate_per_km:parseFloat(k.target.value)}),disabled:!S}),S&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max allowed: ",o.max_price_per_km]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Long Distance Multiplier (200km+)"}),n.jsx(D,{type:"number",step:"0.1",value:u.multiplier_200_plus,onChange:k=>h({...u,multiplier_200_plus:parseFloat(k.target.value)}),disabled:!S}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Applies for trips longer than 200km"})]}),S&&n.jsxs(P,{onClick:j,disabled:a,className:"w-full bg-green-600 hover:bg-green-700 mt-4",children:[a?"Saving...":"Save Changes"," ",n.jsx(Ea,{className:"w-4 h-4 ml-2"})]})]})]}),n.jsxs(G,{className:"p-6 bg-gray-50 border-dashed",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Current Rate Multipliers"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"0 - 50 km"})," ",n.jsxs("span",{className:"font-mono bg-white px-2 rounded",children:["x",o.multiplier_0_50km]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"50 - 100 km"})," ",n.jsxs("span",{className:"font-mono bg-white px-2 rounded",children:["x",o.multiplier_50_100km]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"100 - 200 km"})," ",n.jsxs("span",{className:"font-mono bg-white px-2 rounded",children:["x",o.multiplier_100_200km]})]}),n.jsxs("div",{className:"flex justify-between font-bold text-green-700",children:[n.jsx("span",{children:"200+ km"})," ",n.jsxs("span",{className:"font-mono bg-white px-2 rounded",children:["x",S?u.multiplier_200_plus:o.multiplier_200_plus_km]})]})]})]})]}),n.jsx("div",{children:n.jsxs(G,{className:"p-6 h-full sticky top-6 border-l-4 border-l-blue-500",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-xl font-bold text-gray-900",children:[n.jsx(CR,{className:"w-6 h-6 text-blue-500"}),"Income Calculator"]}),n.jsxs("div",{className:"mb-6",children:[n.jsx(T,{children:"Test Trip Distance (km)"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(D,{type:"number",value:x,onChange:k=>g(parseFloat(k.target.value))}),n.jsx("div",{className:"flex-shrink-0 flex items-center text-sm text-gray-500",children:"km"})]})]}),b?n.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Base Rate:"})," ",n.jsxs("span",{children:["",(C=b.baseRate)==null?void 0:C.toFixed(2)," /km"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Distance Multiplier:"})," ",n.jsxs("span",{children:["x",b.multiplier]})]}),n.jsx("div",{className:"border-t border-blue-200 my-2 pt-2"}),n.jsxs("div",{className:"flex justify-between font-bold",children:[n.jsx("span",{children:"Total Customer Price:"})," ",n.jsxs("span",{children:["",(N=b.finalPrice)==null?void 0:N.toFixed(2)]})]}),b.minFareApplied&&n.jsx("span",{className:"text-xs text-blue-600 block text-right",children:"(Min fare applied)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[n.jsxs("span",{children:["Platform Fee (",c,"%)"]}),n.jsxs("span",{children:["- ",(_=b.commission)==null?void 0:_.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold text-green-700 p-3 bg-green-50 rounded-lg border border-green-100",children:[n.jsx("span",{children:"Your Net Income"}),n.jsxs("span",{children:["",(E=b.driverNet)==null?void 0:E.toFixed(2)]})]}),n.jsx("p",{className:"text-xs text-gray-400 text-center mt-2",children:"* Actual earnings may vary slightly due to rounding."})]})]}):n.jsx("div",{className:"text-center text-gray-400 py-8",children:"Enter a distance to calculate earnings"})]})})]})},eU=()=>{const{user:e}=Ke(),[t,r]=f.useState(null),[s,a]=f.useState({earnings:0,activeCars:0,completedBookings:0,rating:0}),[i,o]=f.useState([]),[l,c]=f.useState(!0);f.useEffect(()=>{e&&d()},[e]),f.useEffect(()=>{if(!(t!=null&&t.id))return;const u=O.channel("driver_dashboard_changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:`driver_id=eq.${t.id}`},h=>{d()}).subscribe();return()=>u.unsubscribe()},[t==null?void 0:t.id]);const d=async()=>{const{data:u}=await O.from("drivers").select("*").eq("user_id",e.id).maybeSingle();if(!u){c(!1);return}r(u);const{count:h}=await O.from("cars").select("*",{count:"exact",head:!0}).eq("driver_id",u.id).eq("active",!0),{data:m}=await O.from("bookings").select(`
          *,
          pickup_location:locations!bookings_pickup_location_id_fkey(name_en),
          dropoff_location:locations!bookings_dropoff_location_id_fkey(name_en)
        `).eq("driver_id",u.id).order("created_at",{ascending:!1}),p=(m==null?void 0:m.filter(g=>g.status==="completed"))||[],x=p.reduce((g,b)=>g+(Number(b.driver_net)||0),0);a({earnings:x.toFixed(2),activeCars:h||0,completedBookings:p.length,rating:u.rating||0}),o((m==null?void 0:m.slice(0,5))||[]),c(!1)};return l?n.jsxs("div",{className:"p-20 text-center",children:[n.jsx("span",{className:"loading loading-spinner text-green-600"})," Loading Dashboard..."]}):t?n.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",t.first_name,"!"]}),n.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[n.jsx(WV,{status:t.verification_status}),t.verification_status==="rejected"&&n.jsxs("span",{className:"text-xs text-red-600 font-medium bg-red-50 px-2 py-1 rounded",children:["Reason: ",t.verification_rejection_reason||t.rejection_reason]})]})]}),n.jsxs("div",{className:"text-right hidden md:block",children:[n.jsxs("p",{className:"text-sm text-gray-500",children:["Member since ",new Date(t.created_at).getFullYear()]}),n.jsx(ie,{to:"/driver/profile",className:"text-green-600 text-sm font-medium hover:underline",children:"Manage Profile"})]})]}),t.verification_status!=="approved"&&t.verification_status!=="verified"&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded-lg flex justify-between items-center",children:[n.jsx("p",{className:"text-sm font-medium",children:"Your account is pending verification. You cannot accept bookings yet."}),n.jsx(P,{variant:"outline",size:"sm",className:"bg-white hover:bg-yellow-100 text-yellow-800 border-yellow-300",asChild:!0,children:n.jsx(ie,{to:"/driver/verify",children:"View Documents"})})]}),n.jsxs(ln,{defaultValue:"dashboard",className:"w-full",children:[n.jsxs(Br,{className:"bg-white border border-gray-100 p-1 rounded-xl mb-6 shadow-sm overflow-x-auto justify-start w-full md:w-auto h-auto",children:[n.jsx(pe,{value:"dashboard",className:"px-6 py-2",children:"Dashboard"}),n.jsx(pe,{value:"bookings",className:"px-6 py-2",children:"Bookings"}),n.jsx(pe,{value:"cars",className:"px-6 py-2",children:"My Cars"}),n.jsx(pe,{value:"profile",className:"px-6 py-2",children:"Profile"}),n.jsx(pe,{value:"pricing",className:"px-6 py-2",children:"Pricing"})]}),n.jsxs(Ne,{value:"dashboard",className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(G,{className:"p-6 bg-white border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Earnings"}),n.jsxs("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:["",s.earnings]})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl text-green-600",children:n.jsx(KR,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Net Income (70%)"})]}),n.jsx(G,{className:"p-6 bg-white border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Cars"}),n.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.activeCars})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl text-blue-600",children:n.jsx(rr,{className:"w-6 h-6"})})]})}),n.jsx(G,{className:"p-6 bg-white border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),n.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:s.completedBookings})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl text-purple-600",children:n.jsx(it,{className:"w-6 h-6"})})]})}),n.jsx(G,{className:"p-6 bg-white border-l-4 border-l-yellow-500 shadow-sm hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Rating"}),n.jsxs("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:[s.rating," "]})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl text-yellow-600",children:n.jsx(ut,{className:"w-6 h-6"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Activity"}),n.jsxs(ie,{to:"/driver/bookings",className:"text-sm text-green-600 font-medium hover:underline flex items-center",children:["View All Bookings ",n.jsx(at,{className:"w-4 h-4 ml-1"})]})]}),n.jsx(G,{className:"overflow-hidden border-gray-100 shadow-sm",children:i.length>0?n.jsx("div",{className:"divide-y divide-gray-100",children:i.map(u=>{var h,m;return n.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${u.status==="completed"?"bg-green-100 text-green-800":u.status==="confirmed"?"bg-blue-100 text-blue-800":u.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:u.status}),n.jsx("span",{className:"text-xs text-gray-400",children:new Date(u.date).toLocaleDateString()})]}),n.jsxs("p",{className:"font-bold text-gray-900 text-sm",children:[((h=u.pickup_location)==null?void 0:h.name_en)||"Unknown","  ",((m=u.dropoff_location)==null?void 0:m.name_en)||"Destination"]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Customer: ",u.customer_first_name]})]}),n.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto",children:[n.jsxs("p",{className:"font-bold text-green-600",children:["",u.driver_net||u.final_price]}),n.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:n.jsx(ie,{to:"/driver/bookings",children:"Details"})})]})]},u.id)})}):n.jsxs("div",{className:"p-12 text-center flex flex-col items-center",children:[n.jsx("div",{className:"bg-gray-50 p-4 rounded-full mb-3",children:n.jsx(it,{className:"w-8 h-8 text-gray-300"})}),n.jsx("p",{className:"text-gray-900 font-medium",children:"No bookings yet"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your recent trips will appear here."})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),n.jsxs(G,{className:"p-5 space-y-3 shadow-sm border-gray-100",children:[n.jsx(P,{asChild:!0,className:"w-full justify-start bg-green-600 hover:bg-green-700 h-12 text-base",children:n.jsxs(ie,{to:"/driver/cars/new",children:[n.jsx(ar,{className:"w-5 h-5 mr-3"})," Add New Car"]})}),n.jsx(P,{asChild:!0,variant:"outline",className:"w-full justify-start h-12 text-base bg-white hover:bg-gray-50",children:n.jsx(ie,{to:"/driver/profile",children:"Update Profile"})}),n.jsx(P,{asChild:!0,variant:"outline",className:"w-full justify-start h-12 text-base bg-white hover:bg-gray-50",children:n.jsx(ie,{to:"/driver/pricing",children:"Pricing Settings"})}),n.jsx(P,{asChild:!0,variant:"outline",className:"w-full justify-start h-12 text-base bg-white hover:bg-gray-50",children:n.jsx(ie,{to:"/driver/settings",children:"Account Security"})})]})]})]})]}),n.jsx(Ne,{value:"bookings",children:n.jsx("div",{className:"bg-white rounded-xl border p-1",children:n.jsx(ie,{to:"/driver/bookings",className:"block p-4 text-center text-green-600 hover:underline",children:"Go to Full Bookings Page"})})}),n.jsx(Ne,{value:"cars",children:n.jsx(QV,{})}),n.jsx(Ne,{value:"pricing",children:n.jsx(ik,{})}),n.jsx(Ne,{value:"profile",children:n.jsx(ak,{})})]})]}):n.jsx("div",{className:"p-8 text-center",children:"Driver profile not found. Please contact support."})},tU=()=>n.jsx(ak,{}),ok=({seats:e,luggage:t,transmission:r,fuel:s,compact:a=!1})=>n.jsxs("div",{className:`grid ${a?"grid-cols-2 gap-x-2 gap-y-2":"grid-cols-2 sm:grid-cols-4 gap-4"} w-full`,children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[n.jsx(nr,{className:`${a?"w-4 h-4":"w-5 h-5"} text-blue-500`}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:`font-medium ${a?"text-xs":"text-sm"}`,children:[e," Seats"]}),!a&&n.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:"Capacity"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[n.jsx(xu,{className:`${a?"w-4 h-4":"w-5 h-5"} text-blue-500`}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:`font-medium ${a?"text-xs":"text-sm"}`,children:[t," Bags"]}),!a&&n.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:"Luggage"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[n.jsx(VN,{className:`${a?"w-4 h-4":"w-5 h-5"} text-blue-500`}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:`font-medium ${a?"text-xs":"text-sm"}`,children:r}),!a&&n.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:"Gearbox"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[n.jsx(hg,{className:`${a?"w-4 h-4":"w-5 h-5"} text-blue-500`}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:`font-medium ${a?"text-xs":"text-sm"}`,children:s}),!a&&n.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:"Fuel Type"})]})]})]}),rU=({car:e,onDelete:t,onToggleActive:r})=>{const s=ge(),a=()=>{s(`/driver/cars/${e.id}`)},i=u=>{u.stopPropagation(),s(`/driver/cars/${e.id}/edit`)},o=u=>{u.stopPropagation(),t(e.id)},l=u=>{u.stopPropagation()},c=()=>{var h;return e.active?e.main_photo&&((h=e.gallery_images)==null?void 0:h.length)>=3?n.jsx(ee,{className:"bg-green-600/90 text-white border-0 backdrop-blur-sm",children:"Active & Published"}):n.jsx(ee,{className:"bg-amber-500/90 text-white border-0 backdrop-blur-sm",children:"Active (Pending Info)"}):n.jsx(ee,{variant:"secondary",className:"bg-gray-500/90 text-white border-0 backdrop-blur-sm",children:"Inactive"})},d=()=>{switch(e.verification_status){case"approved":return n.jsxs(ee,{className:"bg-white/90 text-green-700 hover:bg-white border-0",children:[n.jsx(ur,{className:"w-3 h-3 mr-1"})," Approved"]});case"rejected":return n.jsxs(ee,{className:"bg-white/90 text-red-700 hover:bg-white border-0",children:[n.jsx(Ui,{className:"w-3 h-3 mr-1"})," Rejected"]});default:return n.jsxs(ee,{className:"bg-white/90 text-yellow-700 hover:bg-white border-0",children:[n.jsx(Ta,{className:"w-3 h-3 mr-1"})," Pending"]})}};return n.jsxs(G,{className:"group relative flex flex-col overflow-hidden border-gray-200 transition-all duration-300 hover:shadow-lg hover:-translate-y-1 bg-white cursor-pointer",onClick:a,children:[n.jsxs("div",{className:"relative aspect-[16/9] w-full overflow-hidden bg-gray-100",children:[e.main_photo?n.jsx("img",{src:e.main_photo,alt:`${e.make} ${e.model}`,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}):n.jsx("div",{className:"flex h-full w-full items-center justify-center text-gray-300",children:n.jsx(TR,{className:"h-12 w-12"})}),n.jsx("div",{className:"absolute left-3 top-3 flex gap-2",children:c()}),n.jsx("div",{className:"absolute right-3 top-3",children:d()})]}),n.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("h3",{className:"text-lg font-bold text-gray-900 line-clamp-1",children:[e.make," ",e.model," ",n.jsx("span",{className:"text-gray-500 font-normal",children:e.year})]})}),n.jsx("p",{className:"text-sm font-medium text-gray-500 font-mono",children:e.license_plate})]}),n.jsx("div",{className:"mb-4",children:n.jsx(ok,{seats:e.seats,luggage:e.luggage_capacity,transmission:e.transmission,fuel:e.fuel_type,compact:!0})}),n.jsx("p",{className:"mb-4 text-sm text-gray-600 line-clamp-2 min-h-[40px]",children:e.description||n.jsx("span",{className:"italic text-gray-400",children:"No description provided."})}),n.jsxs("div",{className:"mt-auto flex items-center justify-between border-t border-gray-100 pt-3",children:[n.jsxs("div",{className:"flex items-center gap-2",onClick:l,children:[n.jsx(Fs,{checked:e.active,onCheckedChange:u=>r(e.id,u),className:"data-[state=checked]:bg-blue-600"}),n.jsx("span",{className:`text-xs font-medium ${e.active?"text-blue-600":"text-gray-400"}`,children:e.active?"Active":"Hidden"})]}),n.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:bg-blue-50",onClick:i,title:"Edit",children:n.jsx(Ds,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:bg-red-50",onClick:o,title:"Delete",children:n.jsx(ir,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex gap-1 md:hidden",children:n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600",onClick:i,children:n.jsx(Ds,{className:"h-4 w-4"})})})]})]})]})},nU=()=>{const{user:e}=Ke(),{toast:t}=ae(),r=ge(),[s,a]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(null);f.useEffect(()=>{e&&d()},[e]);const d=async()=>{o(!0);try{const{data:m}=await O.from("drivers").select("id").eq("user_id",e.id).maybeSingle();if(m){const{data:p,error:x}=await O.from("cars").select("*").eq("driver_id",m.id).order("created_at",{ascending:!1});if(x)throw x;a(p||[])}}catch(m){console.error("Error fetching cars:",m),t({variant:"destructive",title:"Error",description:"Failed to load your vehicles."})}finally{o(!1)}},u=async(m,p)=>{const x=[...s];a(s.map(g=>g.id===m?{...g,active:p}:g));try{const{error:g}=await O.from("cars").update({active:p}).eq("id",m);if(g)throw g;t({title:p?"Car Activated":"Car Deactivated",description:p?"Vehicle is now visible to customers.":"Vehicle is hidden from search results.",className:p?"bg-green-50 border-green-200":""})}catch(g){a(x),t({variant:"destructive",title:"Update Failed",description:g.message})}},h=async()=>{if(l)try{const{error:m}=await O.from("cars").delete().eq("id",l);if(m)throw m;a(s.filter(p=>p.id!==l)),t({title:"Car Deleted Successfully"})}catch(m){t({variant:"destructive",title:"Delete Failed",description:m.message})}finally{c(null)}};return n.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 border-b border-gray-100 pb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"My Vehicles"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your fleet, update availability, and track status."})]}),n.jsxs(P,{onClick:()=>r("/driver/cars/new"),className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-600/20 rounded-full px-6",children:[n.jsx(ar,{className:"w-5 h-5 mr-2"})," Add New Car"]})]}),i?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(m=>n.jsx("div",{className:"h-[380px] bg-gray-100 rounded-xl animate-pulse"},m))}):s.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200 text-center",children:[n.jsx("div",{className:"bg-white p-6 rounded-full mb-6 shadow-sm",children:n.jsx(rr,{className:"w-16 h-16 text-blue-100 fill-blue-600"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No vehicles yet"}),n.jsx("p",{className:"text-gray-500 max-w-md mb-8",children:"Add your first vehicle to start accepting transfer requests. It only takes a few minutes."}),n.jsx(P,{onClick:()=>r("/driver/cars/new"),size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:"Add Your First Car"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(m=>n.jsx(rU,{car:m,onDelete:c,onToggleActive:u},m.id))}),n.jsx(tt,{open:!!l,onOpenChange:()=>c(null),children:n.jsxs(Qe,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:"Delete Vehicle"}),n.jsx($r,{children:"Are you sure you want to remove this vehicle? This action cannot be undone and will cancel any pending bookings for this car."})]}),n.jsxs(Fr,{className:"gap-2 sm:gap-0",children:[n.jsx(P,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),n.jsx(P,{variant:"destructive",onClick:h,children:"Delete Permanently"})]})]})})]})},sU=({images:e,mainImage:t,title:r})=>{const s=[t,...e||[]].filter(Boolean),[a,i]=f.useState(0);if(s.length===0)return n.jsxs("div",{className:"w-full aspect-video bg-gray-100 rounded-xl flex flex-col items-center justify-center text-gray-400 border-2 border-dashed border-gray-200",children:[n.jsx(mg,{className:"w-16 h-16 mb-2 opacity-50"}),n.jsx("span",{className:"text-sm",children:"No images available"})]});const o=c=>{c.stopPropagation(),i(d=>d===0?s.length-1:d-1)},l=c=>{c.stopPropagation(),i(d=>d===s.length-1?0:d+1)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative w-full aspect-video bg-gray-900 rounded-xl overflow-hidden group shadow-md",children:[n.jsx("img",{src:s[a],alt:`${r} - View ${a+1}`,className:"w-full h-full object-cover transition-opacity duration-300"}),n.jsxs("div",{className:"absolute top-4 right-4 bg-black/60 text-white text-xs px-2 py-1 rounded-md backdrop-blur-sm",children:[a+1," / ",s.length]}),s.length>1&&n.jsxs(n.Fragment,{children:[n.jsx(P,{variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:o,children:n.jsx(Ol,{className:"w-6 h-6"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:l,children:n.jsx(sr,{className:"w-6 h-6"})})]})]}),s.length>1&&n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide snap-x",children:s.map((c,d)=>n.jsx("button",{onClick:()=>i(d),className:`relative w-20 h-20 flex-shrink-0 rounded-lg overflow-hidden border-2 transition-all snap-start ${a===d?"border-blue-500 ring-2 ring-blue-500/20":"border-transparent opacity-70 hover:opacity-100"}`,children:n.jsx("img",{src:c,alt:`Thumbnail ${d}`,className:"w-full h-full object-cover"})},d))})]})},aU=()=>{var v,w;const{carId:e}=an(),{user:t}=Ke(),r=ge(),{toast:s}=ae(),[a,i]=f.useState(null),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,p]=f.useState(!1);f.useEffect(()=>{t&&e&&x()},[t,e]);const x=async()=>{l(!0);try{const{data:j,error:S}=await O.from("cars").select("*").eq("id",e).single();if(S)throw S;i(j);const{data:C}=await O.from("drivers").select("verification_status").eq("user_id",t.id).single();h((C==null?void 0:C.verification_status)==="approved");const{data:N}=await O.from("driver_pricing").select("id").eq("driver_id",j.driver_id).maybeSingle(),{data:_}=await O.from("admin_settings").select("driver_price_override_enabled").maybeSingle();p(!!N||!(_!=null&&_.driver_price_override_enabled))}catch(j){console.error("Error fetching details:",j),s({variant:"destructive",title:"Error",description:"Could not load car details."}),r("/driver/cars")}finally{l(!1)}},g=async j=>{const S=a.active;i({...a,active:j});const{error:C}=await O.from("cars").update({active:j}).eq("id",e);C?(i({...a,active:S}),s({variant:"destructive",title:"Error",description:C.message})):s({title:j?"Car Published":"Car Hidden",description:j?"Visible to customers.":"Hidden from search results.",className:j?"bg-green-50 border-green-200":""})},b=async()=>{const{error:j}=await O.from("cars").delete().eq("id",e);j?s({variant:"destructive",title:"Delete Failed",description:j.message}):(s({title:"Car Deleted"}),r("/driver/cars"))};if(o)return n.jsx("div",{className:"h-screen flex items-center justify-center",children:n.jsx(de,{className:"w-10 h-10 animate-spin text-blue-600"})});if(!a)return null;const y=a.main_photo&&((v=a.gallery_images)==null?void 0:v.length)>=3&&u&&m;return n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-12 animate-in fade-in duration-300",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-gray-200 pb-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>r("/driver/cars"),className:"rounded-full",children:n.jsx(Ir,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[a.make," ",a.model]}),n.jsxs("p",{className:"text-gray-500 text-sm font-mono",children:[a.year,"  ",a.license_plate]})]}),n.jsxs("div",{className:"hidden md:flex gap-2 ml-4",children:[a.active?n.jsx(ee,{className:"bg-green-100 text-green-700 border-green-200 hover:bg-green-200",children:"Published"}):n.jsx(ee,{variant:"secondary",children:"Hidden"}),a.verification_status==="approved"&&n.jsx(ee,{className:"bg-blue-100 text-blue-700 border-blue-200 hover:bg-blue-200",children:"Verified"}),a.verification_status==="pending"&&n.jsx(ee,{className:"bg-yellow-100 text-yellow-700 border-yellow-200 hover:bg-yellow-200",children:"Pending Verification"})]})]}),n.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[n.jsxs(P,{variant:"outline",className:"flex-1 md:flex-none text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>r(`/driver/cars/${e}/edit`),children:[n.jsx(Ds,{className:"w-4 h-4 mr-2"})," Edit Car"]}),n.jsxs(P,{variant:"outline",className:"flex-1 md:flex-none text-red-600 border-red-200 hover:bg-red-50",onClick:()=>d(!0),children:[n.jsx(ir,{className:"w-4 h-4 mr-2"})," Delete"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(G,{className:"p-1 border-0 shadow-none bg-transparent",children:n.jsx(sU,{images:a.gallery_images,mainImage:a.main_photo,title:`${a.make} ${a.model}`})}),n.jsxs(G,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Description"}),n.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-line",children:a.description||n.jsx("span",{className:"italic text-gray-400",children:"No description provided."})})]}),n.jsxs(G,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Features"}),a.features&&a.features.length>0?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:a.features.map(j=>n.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(jn,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{children:j})]},j))}):n.jsx("p",{className:"text-gray-400 italic",children:"No specific features listed."})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(G,{className:"p-6",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Specifications"}),n.jsx(ok,{seats:a.seats,luggage:a.luggage_capacity,transmission:a.transmission,fuel:a.fuel_type})]}),n.jsxs(G,{className:`p-6 border-l-4 ${y?"border-l-green-500":"border-l-amber-500"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("h3",{className:"font-bold text-gray-900",children:"Publish Status"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-sm font-medium ${a.active?"text-green-600":"text-gray-500"}`,children:a.active?"Visible":"Hidden"}),n.jsx(Fs,{checked:a.active,onCheckedChange:g,disabled:!y})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Mc,{label:"Driver Verified",met:u}),n.jsx(Mc,{label:"Main Photo Uploaded",met:!!a.main_photo}),n.jsx(Mc,{label:"Gallery Photos (3+)",met:((w=a.gallery_images)==null?void 0:w.length)>=3}),n.jsx(Mc,{label:"Pricing Configured",met:m})]}),!y&&n.jsxs("div",{className:"mt-4 p-3 bg-amber-50 text-amber-800 text-sm rounded-lg flex gap-2 items-start",children:[n.jsx(zN,{className:"w-4 h-4 mt-0.5 shrink-0"}),n.jsx("span",{children:"Complete all requirements above to publish your car."})]})]}),n.jsxs(G,{className:"p-6 bg-gray-50 border-gray-200",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Pricing"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Base rates controlled via Pricing page."}),n.jsx(P,{variant:"outline",className:"w-full bg-white",onClick:()=>r("/driver/pricing"),children:"Manage Pricing"})]})]})]}),n.jsx(tt,{open:c,onOpenChange:d,children:n.jsxs(Qe,{children:[n.jsxs(bt,{children:[n.jsxs(wt,{children:["Delete ",a.make," ",a.model,"?"]}),n.jsx($r,{children:"This action cannot be undone. All future bookings for this vehicle will be cancelled automatically."})]}),n.jsxs(Fr,{children:[n.jsx(P,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(P,{variant:"destructive",onClick:b,children:"Delete Permanently"})]})]})})]})},Mc=({label:e,met:t})=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:t?"text-gray-700":"text-gray-400",children:e}),t?n.jsx(ur,{className:"w-5 h-5 text-green-500"}):n.jsx(Ui,{className:"w-5 h-5 text-gray-300"})]});function lw(e,[t,r]){return Math.min(r,Math.max(t,e))}var iU=[" ","Enter","ArrowUp","ArrowDown"],oU=[" ","Enter"],Jl="Select",[Hu,Wu,lU]=Rl(Jl),[Zi,zW]=Ut(Jl,[lU,Yi]),Gu=Yi(),[cU,Ws]=Zi(Jl),[dU,uU]=Zi(Jl),lk=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:x}=e,g=Gu(t),[b,y]=f.useState(null),[v,w]=f.useState(null),[j,S]=f.useState(!1),C=Gi(d),[N=!1,_]=yr({prop:s,defaultProp:a,onChange:i}),[E,k]=yr({prop:o,defaultProp:l,onChange:c}),$=f.useRef(null),F=b?x||!!b.closest("form"):!0,[H,B]=f.useState(new Set),A=Array.from(H).map(M=>M.props.value).join(";");return n.jsx(Ig,{...g,children:n.jsxs(cU,{required:p,scope:t,trigger:b,onTriggerChange:y,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:fr(),value:E,onValueChange:k,open:N,onOpenChange:_,dir:C,triggerPointerDownPosRef:$,disabled:m,children:[n.jsx(Hu.Provider,{scope:t,children:n.jsx(dU,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(M=>{B(U=>new Set(U).add(M))},[]),onNativeOptionRemove:f.useCallback(M=>{B(U=>{const R=new Set(U);return R.delete(M),R})},[]),children:r})}),F?n.jsxs(Ek,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:E,onChange:M=>k(M.target.value),disabled:m,form:x,children:[E===void 0?n.jsx("option",{value:""}):null,Array.from(H)]},A):null]})})};lk.displayName=Jl;var ck="SelectTrigger",dk=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=Gu(r),o=Ws(ck,r),l=o.disabled||s,c=ve(t,o.onTriggerChange),d=Wu(r),u=f.useRef("touch"),[h,m,p]=Pk(g=>{const b=d().filter(w=>!w.disabled),y=b.find(w=>w.value===o.value),v=Ak(b,g,y);v!==void 0&&o.onValueChange(v.value)}),x=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(Lg,{asChild:!0,...i,children:n.jsx(ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Tk(o.value)?"":void 0,...a,ref:c,onClick:K(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:K(a.onPointerDown,g=>{u.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:K(a.onKeyDown,g=>{const b=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(b&&g.key===" ")&&iU.includes(g.key)&&(x(),g.preventDefault())})})})});dk.displayName=ck;var uk="SelectValue",hk=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Ws(uk,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=ve(t,c.onValueNodeChange);return yt(()=>{d(u)},[d,u]),n.jsx(ne.span,{...l,ref:h,style:{pointerEvents:"none"},children:Tk(c.value)?n.jsx(n.Fragment,{children:o}):i})});hk.displayName=uk;var hU="SelectIcon",mk=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(ne.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});mk.displayName=hU;var mU="SelectPortal",fk=e=>n.jsx(Dl,{asChild:!0,...e});fk.displayName=mU;var Na="SelectContent",pk=f.forwardRef((e,t)=>{const r=Ws(Na,e.__scopeSelect),[s,a]=f.useState();if(yt(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?ka.createPortal(n.jsx(gk,{scope:e.__scopeSelect,children:n.jsx(Hu.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(xk,{...e,ref:t})});pk.displayName=Na;var Gr=10,[gk,Gs]=Zi(Na),fU="SelectContentImpl",xk=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:b,...y}=e,v=Ws(Na,r),[w,j]=f.useState(null),[S,C]=f.useState(null),N=ve(t,te=>j(te)),[_,E]=f.useState(null),[k,$]=f.useState(null),F=Wu(r),[H,B]=f.useState(!1),A=f.useRef(!1);f.useEffect(()=>{if(w)return Ug(w)},[w]),Sg();const M=f.useCallback(te=>{const[_e,...Te]=F().map(Ce=>Ce.ref.current),[je]=Te.slice(-1),Se=document.activeElement;for(const Ce of te)if(Ce===Se||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===_e&&S&&(S.scrollTop=0),Ce===je&&S&&(S.scrollTop=S.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==Se))return},[F,S]),U=f.useCallback(()=>M([_,w]),[M,_,w]);f.useEffect(()=>{H&&U()},[H,U]);const{onOpenChange:R,triggerPointerDownPosRef:I}=v;f.useEffect(()=>{if(w){let te={x:0,y:0};const _e=je=>{var Se,Ce;te={x:Math.abs(Math.round(je.pageX)-(((Se=I.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Ce=I.current)==null?void 0:Ce.y)??0))}},Te=je=>{te.x<=10&&te.y<=10?je.preventDefault():w.contains(je.target)||R(!1),document.removeEventListener("pointermove",_e),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Te,{capture:!0})}}},[w,R,I]),f.useEffect(()=>{const te=()=>R(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[R]);const[V,Y]=Pk(te=>{const _e=F().filter(Se=>!Se.disabled),Te=_e.find(Se=>Se.ref.current===document.activeElement),je=Ak(_e,te,Te);je&&setTimeout(()=>je.ref.current.focus())}),oe=f.useCallback((te,_e,Te)=>{const je=!A.current&&!Te;(v.value!==void 0&&v.value===_e||je)&&(E(te),je&&(A.current=!0))},[v.value]),fe=f.useCallback(()=>w==null?void 0:w.focus(),[w]),le=f.useCallback((te,_e,Te)=>{const je=!A.current&&!Te;(v.value!==void 0&&v.value===_e||je)&&$(te)},[v.value]),Fe=s==="popper"?Yf:vk,$e=Fe===Yf?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:b}:{};return n.jsx(gk,{scope:r,content:w,viewport:S,onViewportChange:C,itemRefCallback:oe,selectedItem:_,onItemLeave:fe,itemTextRefCallback:le,focusSelectedItem:U,selectedItemText:k,position:s,isPositioned:H,searchRef:V,children:n.jsx(zg,{as:Rs,allowPinchZoom:!0,children:n.jsx(Tu,{asChild:!0,trapped:v.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:K(a,te=>{var _e;(_e=v.trigger)==null||_e.focus({preventScroll:!0}),te.preventDefault()}),children:n.jsx(Vi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(Fe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:te=>te.preventDefault(),...y,...$e,onPlaced:()=>B(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:K(y.onKeyDown,te=>{const _e=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!_e&&te.key.length===1&&Y(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let je=F().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(te.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Se=te.target,Ce=je.indexOf(Se);je=je.slice(Ce+1)}setTimeout(()=>M(je)),te.preventDefault()}})})})})})})});xk.displayName=fU;var pU="SelectItemAlignedPosition",vk=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Ws(Na,r),o=Gs(Na,r),[l,c]=f.useState(null),[d,u]=f.useState(null),h=ve(t,N=>u(N)),m=Wu(r),p=f.useRef(!1),x=f.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:y,focusSelectedItem:v}=o,w=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&b&&y){const N=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),k=y.getBoundingClientRect();if(i.dir!=="rtl"){const Se=k.left-_.left,Ce=E.left-Se,Nt=N.left-Ce,or=N.width+Nt,ns=Math.max(or,_.width),ss=window.innerWidth-Gr,as=lw(Ce,[Gr,Math.max(Gr,ss-ns)]);l.style.minWidth=or+"px",l.style.left=as+"px"}else{const Se=_.right-k.right,Ce=window.innerWidth-E.right-Se,Nt=window.innerWidth-N.right-Ce,or=N.width+Nt,ns=Math.max(or,_.width),ss=window.innerWidth-Gr,as=lw(Ce,[Gr,Math.max(Gr,ss-ns)]);l.style.minWidth=or+"px",l.style.right=as+"px"}const $=m(),F=window.innerHeight-Gr*2,H=g.scrollHeight,B=window.getComputedStyle(d),A=parseInt(B.borderTopWidth,10),M=parseInt(B.paddingTop,10),U=parseInt(B.borderBottomWidth,10),R=parseInt(B.paddingBottom,10),I=A+M+H+R+U,V=Math.min(b.offsetHeight*5,I),Y=window.getComputedStyle(g),oe=parseInt(Y.paddingTop,10),fe=parseInt(Y.paddingBottom,10),le=N.top+N.height/2-Gr,Fe=F-le,$e=b.offsetHeight/2,te=b.offsetTop+$e,_e=A+M+te,Te=I-_e;if(_e<=le){const Se=$.length>0&&b===$[$.length-1].ref.current;l.style.bottom="0px";const Ce=d.clientHeight-g.offsetTop-g.offsetHeight,Nt=Math.max(Fe,$e+(Se?fe:0)+Ce+U),or=_e+Nt;l.style.height=or+"px"}else{const Se=$.length>0&&b===$[0].ref.current;l.style.top="0px";const Nt=Math.max(le,A+g.offsetTop+(Se?oe:0)+$e)+Te;l.style.height=Nt+"px",g.scrollTop=_e-le+g.offsetTop}l.style.margin=`${Gr}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=F+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,b,y,i.dir,s]);yt(()=>w(),[w]);const[j,S]=f.useState();yt(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const C=f.useCallback(N=>{N&&x.current===!0&&(w(),v==null||v(),x.current=!1)},[w,v]);return n.jsx(xU,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:n.jsx(ne.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});vk.displayName=pU;var gU="SelectPopperPosition",Yf=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Gr,...i}=e,o=Gu(r);return n.jsx(Fg,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yf.displayName=gU;var[xU,Qx]=Zi(Na,{}),Xf="SelectViewport",yk=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=Gs(Xf,r),o=Qx(Xf,r),l=ve(t,i.onViewportChange),c=f.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Hu.Slot,{scope:r,children:n.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:K(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const x=window.innerHeight-Gr*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),y=Math.max(g,b);if(y<x){const v=y+p,w=Math.min(x,v),j=v-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});yk.displayName=Xf;var bk="SelectGroup",[vU,yU]=Zi(bk),bU=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=fr();return n.jsx(vU,{scope:r,id:a,children:n.jsx(ne.div,{role:"group","aria-labelledby":a,...s,ref:t})})});bU.displayName=bk;var wk="SelectLabel",wU=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=yU(wk,r);return n.jsx(ne.div,{id:a.id,...s,ref:t})});wU.displayName=wk;var qd="SelectItem",[jU,jk]=Zi(qd),Nk=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Ws(qd,r),c=Gs(qd,r),d=l.value===s,[u,h]=f.useState(i??""),[m,p]=f.useState(!1),x=ve(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,s,a)}),g=fr(),b=f.useRef("touch"),y=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(jU,{scope:r,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:f.useCallback(v=>{h(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:n.jsx(Hu.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(ne.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:K(o.onFocus,()=>p(!0)),onBlur:K(o.onBlur,()=>p(!1)),onClick:K(o.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:K(o.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:K(o.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:K(o.onPointerMove,v=>{var w;b.current=v.pointerType,a?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:K(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:K(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(oU.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});Nk.displayName=qd;var Eo="SelectItemText",_k=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Ws(Eo,r),l=Gs(Eo,r),c=jk(Eo,r),d=uU(Eo,r),[u,h]=f.useState(null),m=ve(t,y=>h(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,x=f.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=d;return yt(()=>(g(x),()=>b(x)),[g,b,x]),n.jsxs(n.Fragment,{children:[n.jsx(ne.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ka.createPortal(i.children,o.valueNode):null]})});_k.displayName=Eo;var Sk="SelectItemIndicator",Ck=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return jk(Sk,r).isSelected?n.jsx(ne.span,{"aria-hidden":!0,...s,ref:t}):null});Ck.displayName=Sk;var Qf="SelectScrollUpButton",NU=f.forwardRef((e,t)=>{const r=Gs(Qf,e.__scopeSelect),s=Qx(Qf,e.__scopeSelect),[a,i]=f.useState(!1),o=ve(t,s.onScrollButtonChange);return yt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(kk,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});NU.displayName=Qf;var Jf="SelectScrollDownButton",_U=f.forwardRef((e,t)=>{const r=Gs(Jf,e.__scopeSelect),s=Qx(Jf,e.__scopeSelect),[a,i]=f.useState(!1),o=ve(t,s.onScrollButtonChange);return yt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(kk,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});_U.displayName=Jf;var kk=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=Gs("SelectScrollButton",r),o=f.useRef(null),l=Wu(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),yt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(ne.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:K(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:K(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:K(a.onPointerLeave,()=>{c()})})}),SU="SelectSeparator",CU=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(ne.div,{"aria-hidden":!0,...s,ref:t})});CU.displayName=SU;var Zf="SelectArrow",kU=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Gu(r),i=Ws(Zf,r),o=Gs(Zf,r);return i.open&&o.position==="popper"?n.jsx($g,{...a,...s,ref:t}):null});kU.displayName=Zf;function Tk(e){return e===""||e===void 0}var Ek=f.forwardRef((e,t)=>{const{value:r,...s}=e,a=f.useRef(null),i=ve(t,a),o=Wx(r);return f.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const h=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(h)}},[o,r]),n.jsx(Ml,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});Ek.displayName="BubbleSelect";function Pk(e){const t=Rt(e),r=f.useRef(""),s=f.useRef(0),a=f.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=f.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function Ak(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=TU(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function TU(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var EU=lk,Rk=dk,PU=hk,AU=mk,RU=fk,Dk=pk,DU=yk,Mk=Nk,MU=_k,OU=Ck;const Qt=EU,Jt=PU,Lt=X.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Rk,{ref:s,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-black ring-offset-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:[t,n.jsx(AU,{asChild:!0,children:n.jsx(ba,{className:"h-4 w-4 opacity-50"})})]}));Lt.displayName=Rk.displayName;const Ft=X.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(RU,{children:n.jsx(Dk,{ref:a,className:Q("relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-black shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:n.jsx(DU,{className:Q("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));Ft.displayName=Dk.displayName;const ce=X.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Mk,{ref:s,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-green-50 focus:text-black data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(OU,{children:n.jsx(jn,{className:"h-4 w-4"})})}),n.jsx(MU,{children:t})]}));ce.displayName=Mk.displayName;const Jx=({driverId:e,car:t,onSuccess:r,onCancel:s,isAdmin:a=!1})=>{const{toast:i}=ae(),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,h]=f.useState(!1),[m,p]=f.useState([]),[x,g]=f.useState({driver_id:e,make:"",model:"",year:new Date().getFullYear(),license_plate:"",seats:4,luggage_capacity:2,transmission:"Automatic",fuel_type:"Petrol",description:"",active:!1,verification_status:"pending",main_photo:"",gallery_images:[],features:[],admin_notes:""});f.useEffect(()=>{const C=async()=>{const{data:N}=await O.from("drivers").select("verification_status").eq("id",x.driver_id||e).maybeSingle();d(N==null?void 0:N.verification_status);const{data:_}=await O.from("driver_pricing").select("id").eq("driver_id",x.driver_id||e).maybeSingle(),{data:E}=await O.from("admin_settings").select("driver_price_override_enabled").maybeSingle();h(!!_||!(E!=null&&E.driver_price_override_enabled))};(e||x.driver_id)&&C(),a&&(async()=>{const{data:_}=await O.from("drivers").select("id, first_name, last_name, email");p(_||[])})(),t&&g({driver_id:t.driver_id||e,make:t.make||"",model:t.model||"",year:t.year||new Date().getFullYear(),license_plate:t.license_plate||"",seats:t.seats||4,luggage_capacity:t.luggage_capacity||0,transmission:t.transmission||"Automatic",fuel_type:t.fuel_type||"Petrol",description:t.description||"",active:t.active??!1,verification_status:t.verification_status||"pending",main_photo:t.main_photo||"",gallery_images:t.gallery_images||t.photos_urls||[],features:t.features||[],admin_notes:t.admin_notes||""})},[t,e,a]);const b=async()=>{var _,E,k;const C=[],N=new Date().getFullYear();if((_=x.make)!=null&&_.trim()||C.push("Brand/Make is required"),(E=x.model)!=null&&E.trim()||C.push("Model is required"),(k=x.license_plate)!=null&&k.trim()||C.push("License plate is required"),(x.year<1990||x.year>N+1)&&C.push("Invalid Year"),(x.seats<1||x.seats>15)&&C.push("Seats must be between 1-15"),(x.luggage_capacity===""||x.luggage_capacity<0)&&C.push("Luggage capacity is required"),x.main_photo||C.push("Main photo is required"),x.gallery_images.length<3&&C.push("At least 3 gallery photos required"),x.license_plate){let $=O.from("cars").select("id").eq("license_plate",x.license_plate);t!=null&&t.id&&($=$.neq("id",t.id));const{data:F}=await $;F&&F.length>0&&C.push("License plate already exists")}return C},y=async C=>{C.preventDefault(),l(!0);const N=await b();if(N.length>0){i({variant:"destructive",title:"Validation Failed",description:N[0]}),l(!1);return}const _={driverVerified:c==="approved",detailsComplete:!!x.make&&!!x.model&&!!x.license_plate,mainPhoto:!!x.main_photo,galleryPhotos:x.gallery_images.length>=3,pricing:u},E=Object.values(_).every(Boolean);let k=x.active;!t&&E?k=!0:!E&&!a&&(k=!1);const $={...x,driver_id:x.driver_id||e,photos_urls:x.gallery_images,active:k,updated_at:new Date().toISOString()};let F;if(t!=null&&t.id){const{error:H}=await O.from("cars").update($).eq("id",t.id);F=H}else{$.verification_status=a?$.verification_status:"pending";const{error:H}=await O.from("cars").insert($);F=H}F?i({variant:"destructive",title:"Error",description:F.message}):(i({title:E?"Success":"Saved (Pending Publish)",description:E&&k?"Car published successfully! It is now visible to customers.":"Car saved. Complete all requirements to publish.",className:E?"bg-green-50 border-green-200":""}),r()),l(!1)},v=C=>{g(N=>({...N,features:N.features.includes(C)?N.features.filter(_=>_!==C):[...N.features,C]}))},w=C=>{const N=[...x.gallery_images];N.splice(C,1),g({...x,gallery_images:N})},j={driverVerified:c==="approved",detailsComplete:!!x.make&&!!x.model&&!!x.license_plate,mainPhoto:!!x.main_photo,galleryPhotos:x.gallery_images.length>=3,pricing:u},S=Object.values(j).every(Boolean);return n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"flex-1 space-y-6",children:[a&&n.jsxs(G,{className:"p-4 bg-purple-50 border-purple-200",children:[n.jsx("h3",{className:"font-bold text-purple-900 mb-3",children:"Admin Controls"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Owner Driver"}),n.jsxs(Qt,{value:x.driver_id,onValueChange:C=>g({...x,driver_id:C}),children:[n.jsx(Lt,{className:"bg-white",children:n.jsx(Jt,{placeholder:"Select Driver"})}),n.jsx(Ft,{children:m.map(C=>n.jsxs(ce,{value:C.id,children:[C.first_name," ",C.last_name," (",C.email,")"]},C.id))})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Verification Status"}),n.jsxs(Qt,{value:x.verification_status,onValueChange:C=>g({...x,verification_status:C}),children:[n.jsx(Lt,{className:`bg-white font-medium ${x.verification_status==="approved"?"text-green-700":"text-amber-700"}`,children:n.jsx(Jt,{})}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"pending",children:"Pending"}),n.jsx(ce,{value:"approved",children:"Approved"}),n.jsx(ce,{value:"rejected",children:"Rejected"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(T,{children:["Brand / Make ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{value:x.make,onChange:C=>g({...x,make:C.target.value}),placeholder:"Toyota"})]}),n.jsxs("div",{children:[n.jsxs(T,{children:["Model ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{value:x.model,onChange:C=>g({...x,model:C.target.value}),placeholder:"Camry"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(T,{children:["Year ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{type:"number",value:x.year,onChange:C=>g({...x,year:parseInt(C.target.value)})})]}),n.jsxs("div",{children:[n.jsxs(T,{children:["License Plate ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{value:x.license_plate,onChange:C=>g({...x,license_plate:C.target.value}),placeholder:"GE-000-AA"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(T,{children:["Transmission ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Qt,{value:x.transmission,onValueChange:C=>g({...x,transmission:C}),children:[n.jsx(Lt,{children:n.jsx(Jt,{})}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"Automatic",children:"Automatic"}),n.jsx(ce,{value:"Manual",children:"Manual"})]})]})]}),n.jsxs("div",{children:[n.jsxs(T,{children:["Fuel Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Qt,{value:x.fuel_type,onValueChange:C=>g({...x,fuel_type:C}),children:[n.jsx(Lt,{children:n.jsx(Jt,{})}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"Petrol",children:"Petrol"}),n.jsx(ce,{value:"Diesel",children:"Diesel"}),n.jsx(ce,{value:"Hybrid",children:"Hybrid"}),n.jsx(ce,{value:"Electric",children:"Electric"}),n.jsx(ce,{value:"LPG",children:"LPG"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(T,{children:["Seats (incl. driver) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{type:"number",min:"1",max:"15",value:x.seats,onChange:C=>g({...x,seats:parseInt(C.target.value)})})]}),n.jsxs("div",{children:[n.jsxs(T,{children:["Luggage Bags ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(D,{type:"number",min:"0",max:"20",value:x.luggage_capacity,onChange:C=>g({...x,luggage_capacity:parseInt(C.target.value)})})]})]}),n.jsxs("div",{children:[n.jsx(T,{className:"mb-2 block",children:"Features"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["AC","WiFi","Child Seat","USB Charging","Water","English Speaking","Roof Box","Leather Seats"].map(C=>n.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer hover:bg-gray-50 p-1 rounded",children:[n.jsx("input",{type:"checkbox",checked:x.features.includes(C),onChange:()=>v(C),className:"rounded text-green-600 focus:ring-green-600"}),C]},C))})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Description"}),n.jsx(Ae,{value:x.description,onChange:C=>g({...x,description:C.target.value}),placeholder:"Describe your car's condition and comfort...",rows:3})]}),n.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${x.active?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[n.jsxs("div",{children:[n.jsx(T,{htmlFor:"active-mode",className:"mb-0 cursor-pointer",children:"Active Status"}),n.jsx("p",{className:"text-xs text-gray-500",children:S?"Visible to customers when active":"Complete requirements to activate"})]}),n.jsx(Fs,{id:"active-mode",checked:x.active,disabled:!S&&!a,onCheckedChange:C=>g({...x,active:C})})]})]}),n.jsxs("div",{className:"w-full md:w-80 space-y-6",children:[n.jsxs(G,{className:`p-4 border-l-4 ${S?"border-l-green-500 bg-green-50/30":"border-l-amber-500 bg-amber-50/30"}`,children:[n.jsxs("h4",{className:"font-bold text-gray-900 mb-3 text-sm flex items-center gap-2",children:[S?n.jsx(ur,{className:"w-4 h-4 text-green-600"}):n.jsx(Ta,{className:"w-4 h-4 text-amber-600"}),"Publish Checklist"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[j.driverVerified?n.jsx(ur,{className:"w-4 h-4 text-green-600"}):n.jsx(ti,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:j.driverVerified?"text-gray-900":"text-gray-500",children:"Driver Verified"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[j.mainPhoto?n.jsx(ur,{className:"w-4 h-4 text-green-600"}):n.jsx(ti,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:j.mainPhoto?"text-gray-900":"text-gray-500",children:"Main Photo"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[j.galleryPhotos?n.jsx(ur,{className:"w-4 h-4 text-green-600"}):n.jsx(ti,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:j.galleryPhotos?"text-gray-900":"text-gray-500",children:"Gallery (3+ Photos)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[j.pricing?n.jsx(ur,{className:"w-4 h-4 text-green-600"}):n.jsx(ti,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:j.pricing?"text-gray-900":"text-gray-500",children:"Pricing Configured"})]})]}),!S&&n.jsx("div",{className:"mt-3 text-xs bg-white p-2 rounded border border-amber-200 text-amber-800",children:"Complete all items to publish your car automatically."})]}),n.jsxs("div",{children:[n.jsxs(T,{children:["Main Photo ",n.jsx("span",{className:"text-red-500",children:"*"})]}),x.main_photo?n.jsxs("div",{className:"relative w-full h-40 mt-1 rounded-lg overflow-hidden border border-gray-200 group",children:[n.jsx("img",{src:x.main_photo,alt:"Main",className:"w-full h-full object-cover"}),n.jsx("button",{onClick:()=>g({...x,main_photo:""}),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:n.jsx(Dt,{className:"w-4 h-4"})})]}):n.jsx("div",{className:"mt-1",children:n.jsx(Fn,{bucketName:"car-photos",pathPrefix:`car-${x.driver_id||"temp"}/main`,onUploadComplete:C=>g({...x,main_photo:C})})})]}),n.jsxs("div",{children:[n.jsxs(T,{className:"flex justify-between items-center mb-1",children:[n.jsxs("span",{children:["Gallery Photos ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${x.gallery_images.length>=3?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[x.gallery_images.length,"/5 (Min 3)"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[x.gallery_images.map((C,N)=>n.jsxs("div",{className:"relative aspect-square rounded-md overflow-hidden bg-gray-100 group border border-gray-200",children:[n.jsx("img",{src:C,alt:"",className:"w-full h-full object-cover"}),n.jsx("button",{onClick:()=>w(N),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:n.jsx(Dt,{className:"w-3 h-3"})})]},N)),x.gallery_images.length<5&&n.jsx(Fn,{bucketName:"car-photos",pathPrefix:`car-${x.driver_id||"temp"}/gallery`,multiple:!0,compact:!0,className:"aspect-square h-auto",onUploadComplete:C=>{const N=Array.isArray(C)?C:[C];g(_=>({..._,gallery_images:[..._.gallery_images,...N].slice(0,5)}))}})]})]}),n.jsxs("div",{className:"pt-4 space-y-2",children:[n.jsxs(P,{onClick:y,disabled:o,className:"w-full bg-green-600 hover:bg-green-700",children:[o&&n.jsx(de,{className:"w-4 h-4 animate-spin mr-2"}),"Save Car"]}),n.jsx(P,{variant:"outline",onClick:s,type:"button",className:"w-full",children:"Cancel"})]})]})]})},cw=()=>{const e=ge(),{user:t}=Ke(),[r,s]=f.useState(null),[a,i]=f.useState(!0);return f.useEffect(()=>{(async()=>{if(t){i(!0);try{const{data:l}=await O.from("drivers").select("id").eq("user_id",t.id).maybeSingle();if(l)s(l.id);else{const{data:c,error:d}=await O.from("drivers").insert({user_id:t.id,email:t.email,first_name:"",last_name:"",phone:""}).select("id").single();if(d){console.error("Error creating driver placeholder:",d);const{data:u}=await O.from("drivers").select("id").eq("user_id",t.id).maybeSingle();u&&s(u.id)}else c&&s(c.id)}}catch(l){console.error("Error initializing driver for car form:",l)}finally{i(!1)}}})()},[t]),a?n.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:n.jsx(de,{className:"w-8 h-8 animate-spin text-green-600"})}):r?n.jsxs("div",{className:"max-w-4xl mx-auto py-6",children:[n.jsxs(P,{variant:"ghost",className:"mb-4 pl-0",onClick:()=>e("/driver/cars"),children:[n.jsx(Ir,{className:"w-4 h-4 mr-2"})," Back to My Cars"]}),n.jsxs(G,{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New Vehicle"}),n.jsx(Jx,{driverId:r,onSuccess:()=>e("/driver/cars"),onCancel:()=>e("/driver/cars")})]})]}):n.jsx("div",{className:"max-w-4xl mx-auto py-6",children:n.jsxs(G,{className:"p-8 text-center text-red-500 border-red-100 bg-red-50",children:[n.jsx("h2",{className:"text-xl font-bold mb-2",children:"Account Initialization Failed"}),n.jsx("p",{children:"We couldn't prepare your driver account. Please try refreshing the page."})]})})},IU=()=>n.jsx(ik,{}),LU=({booking:e,isOpen:t,onClose:r,onUpdateStatus:s})=>e?n.jsx(tt,{open:t,onOpenChange:r,children:n.jsxs(Qe,{className:"max-w-xl",children:[n.jsxs(bt,{children:[n.jsx(wt,{children:"Booking Details"}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(ee,{variant:"outline",children:e.status.toUpperCase()}),n.jsx("span",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-bold",children:"Pickup"}),n.jsx("span",{children:e.from_location||e.start_location_id})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-bold",children:"Dropoff"}),n.jsx("span",{children:e.to_location||e.end_location_id})]}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-500 pt-2 border-t border-gray-200",children:[n.jsx("span",{children:"Date & Time"}),n.jsxs("span",{children:[e.date," at ",e.time]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold mb-2",children:"Customer"}),n.jsxs("p",{children:[e.customer_first_name," ",e.customer_last_name]}),n.jsx("p",{className:"text-sm text-gray-500",children:e.customer_phone}),n.jsx("p",{className:"text-sm text-gray-500",children:e.customer_email}),e.customer_comment&&n.jsxs("div",{className:"mt-2 text-sm bg-yellow-50 p-2 rounded text-yellow-800 border border-yellow-100",children:['"',e.customer_comment,'"']})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold mb-2",children:"Payment Breakdown"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Distance"})," ",n.jsxs("span",{children:[e.distance_km," km"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Total Price"})," ",n.jsxs("span",{className:"font-bold text-green-700",children:["",e.final_price||e.total_price]})]}),n.jsxs("div",{className:"flex justify-between text-gray-400 text-xs",children:[n.jsx("span",{children:"Platform Fee (30%)"})," ",n.jsxs("span",{children:["",((e.final_price||e.total_price)*.3).toFixed(1)]})]}),n.jsxs("div",{className:"flex justify-between text-gray-500 font-bold border-t pt-1 mt-1",children:[n.jsx("span",{children:"Your Net Earning"})," ",n.jsxs("span",{children:["",((e.final_price||e.total_price)*.7).toFixed(1)]})]})]})]})]}),n.jsxs(Fr,{className:"flex gap-2 justify-end",children:[e.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(P,{variant:"destructive",onClick:()=>s(e.id,"rejected"),children:"Reject"}),n.jsx(P,{className:"bg-green-600 hover:bg-green-700",onClick:()=>s(e.id,"confirmed"),children:"Accept Booking"})]}),e.status==="confirmed"&&n.jsxs(n.Fragment,{children:[n.jsx(P,{variant:"outline",onClick:()=>s(e.id,"cancelled"),children:"Cancel Trip"}),n.jsx(P,{className:"bg-green-600",onClick:()=>s(e.id,"completed"),children:"Mark Completed"})]}),n.jsx(P,{variant:"ghost",onClick:r,children:"Close"})]})]})}):null,FU=()=>{const{user:e}=Ke(),{toast:t}=ae(),[r,s]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(null),[c,d]=f.useState("all"),[u,h]=f.useState(!1),[m,p]=f.useState(""),[x,g]=f.useState(""),[b,y]=f.useState(null);f.useEffect(()=>{if(e){v();const N=O.channel("bookings_updates").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},()=>v()).subscribe();return()=>N.unsubscribe()}},[e,c]);const v=async()=>{i(!0);try{const{data:N,error:_}=await O.from("drivers").select("id").eq("user_id",e.id).maybeSingle();if(_){console.error("Error fetching driver profile:",_),i(!1);return}if(!N){i(!1);return}let E=O.from("bookings").select(`
              *,
              pickup_location:locations!bookings_pickup_location_id_fkey(name_en),
              dropoff_location:locations!bookings_dropoff_location_id_fkey(name_en)
            `).eq("driver_id",N.id).order("created_at",{ascending:!1});c!=="all"&&(E=E.eq("status",c));const{data:k,error:$}=await E;if($)throw $;s(k||[])}catch(N){console.error("Error fetching bookings:",N),t({variant:"destructive",title:"Error",description:"Could not load bookings."})}finally{i(!1)}},w=(N,_)=>{y(N),g(_),p(""),h(!0)},j=async()=>{if(!m){t({variant:"destructive",title:"Reason Required",description:"Please explain why."});return}const N=x==="reject"?"rejected":"cancelled",{error:_}=await O.from("bookings").update({status:N,rejection_reason:m}).eq("id",b);_?t({variant:"destructive",title:"Error",description:_.message}):(t({title:"Success",description:`Booking ${N}`}),h(!1),l(null),v())},S=async(N,_)=>{if(_==="rejected"||_==="cancelled"){w(N,_==="rejected"?"reject":"cancel");return}const{error:E}=await O.from("bookings").update({status:_}).eq("id",N);E?t({variant:"destructive",title:"Error",description:E.message}):(t({title:"Success",description:`Booking ${_}`}),v(),l(null))},C=N=>{switch(N){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100"}};return a?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx(de,{className:"w-8 h-8 animate-spin text-green-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"My Bookings"}),n.jsx(ln,{value:c,onValueChange:d,className:"w-full md:w-auto",children:n.jsxs(Br,{children:[n.jsx(pe,{value:"all",children:"All"}),n.jsx(pe,{value:"pending",children:"Pending"}),n.jsx(pe,{value:"confirmed",children:"Upcoming"}),n.jsx(pe,{value:"completed",children:"History"})]})})]}),r.length===0?n.jsxs(G,{className:"p-16 flex flex-col items-center justify-center text-center text-gray-500 border-dashed",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4 text-3xl",children:""}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"No bookings found"}),n.jsx("p",{children:"New bookings will appear here instantly."})]}):n.jsx("div",{className:"grid gap-4",children:r.map(N=>{var _,E;return n.jsxs(G,{className:"p-5 flex flex-col md:flex-row justify-between items-center gap-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(ee,{className:`shadow-none border-0 ${C(N.status)}`,children:N.status}),n.jsxs("span",{className:"text-xs text-gray-400",children:["ID: ",N.id.slice(0,8)]})]}),n.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[((_=N.pickup_location)==null?void 0:_.name_en)||"Unknown","  ",((E=N.dropoff_location)==null?void 0:E.name_en)||"Destination"]}),n.jsxs("div",{className:"text-sm text-gray-600 mt-1 flex flex-wrap gap-4",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[" ",N.customer_first_name]}),n.jsxs("span",{className:"flex items-center gap-1",children:[" ",new Date(N.date).toLocaleDateString()," at ",N.time]}),n.jsxs("span",{children:[" ",N.distance_km," km"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-end border-t md:border-0 pt-4 md:pt-0",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Your Net"}),n.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",N.driver_earnings||(N.total_price*.7).toFixed(0)]})]}),n.jsx(P,{variant:"outline",onClick:()=>l(N),children:"View"})]})]},N.id)})}),n.jsx(LU,{booking:o,isOpen:!!o,onClose:()=>l(null),onUpdateStatus:S}),n.jsx(tt,{open:u,onOpenChange:h,children:n.jsxs(Qe,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:x==="reject"?"Reject Booking":"Cancel Trip"}),n.jsx($r,{children:"Please provide a reason. This will be visible to the customer."})]}),n.jsxs("div",{className:"py-2",children:[n.jsx(T,{children:"Reason"}),n.jsx(Ae,{value:m,onChange:N=>p(N.target.value),placeholder:x==="reject"?"I am not available...":"Car breakdown..."})]}),n.jsxs(Fr,{children:[n.jsx(P,{variant:"ghost",onClick:()=>h(!1),children:"Back"}),n.jsx(P,{variant:"destructive",onClick:j,children:x==="reject"?"Reject":"Cancel"})]})]})})]})},$U=()=>{const{user:e}=Ke(),[t,r]=f.useState([]);return f.useEffect(()=>{e&&O.from("drivers").select("id").eq("user_id",e.id).maybeSingle().then(({data:s})=>{s&&O.from("admin_messages").select("*").eq("driver_id",s.id).order("created_at",{ascending:!1}).then(({data:a})=>r(a||[]))})},[e]),n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Messages from Admin"}),t.length===0?n.jsxs(G,{className:"p-12 text-center text-gray-500",children:[n.jsx(Fl,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),"No messages yet."]}):n.jsx("div",{className:"space-y-4",children:t.map(s=>n.jsxs(G,{className:"p-4 border-l-4 border-l-blue-500",children:[n.jsx("p",{className:"text-gray-800",children:s.message}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(s.created_at).toLocaleString()})]},s.id))})]})},BU=()=>{const{user:e,signOut:t}=Ke(),{toast:r}=ae(),s=ge(),[a,i]=f.useState({current:"",new:"",confirm:""}),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=async x=>{if(x.preventDefault(),a.new!==a.confirm){r({variant:"destructive",title:"Passwords do not match"});return}if(a.new.length<8){r({variant:"destructive",title:"Too Weak",description:"Password must be at least 8 characters"});return}l(!0);const{error:g}=await O.auth.updateUser({password:a.new});g?r({variant:"destructive",title:"Error",description:g.message}):(r({title:"Success",description:"Password updated successfully"}),i({current:"",new:"",confirm:""})),l(!1)},p=async()=>{if(u==="DELETE"){l(!0);try{const{data:x}=await O.from("drivers").select("id").eq("user_id",e.id).maybeSingle();x&&(await O.from("cars").delete().eq("driver_id",x.id),await O.from("bookings").delete().eq("driver_id",x.id),await O.from("driver_pricing").delete().eq("driver_id",x.id),await O.from("drivers").delete().eq("id",x.id)),await t(),s("/driver/login"),r({title:"Account Data Deleted",description:"Your profile has been removed."})}catch(x){r({variant:"destructive",title:"Error",description:x.message})}finally{l(!1)}}};return n.jsxs("div",{className:"max-w-2xl space-y-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Account Security"}),n.jsxs(G,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-gray-900 font-bold text-lg",children:[n.jsx(FN,{className:"w-5 h-5 text-gray-500"}),"Change Password"]}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"New Password"}),n.jsx(D,{type:"password",value:a.new,onChange:x=>i({...a,new:x.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Confirm Password"}),n.jsx(D,{type:"password",value:a.confirm,onChange:x=>i({...a,confirm:x.target.value})})]}),n.jsx(P,{type:"submit",disabled:o,className:"bg-green-600 hover:bg-green-700",children:o?"Updating...":"Update Password"})]})]}),n.jsx(G,{className:"p-6 border-red-100 bg-red-50",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-red-100 rounded-full text-red-600",children:n.jsx(ir,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-lg font-bold text-red-800 mb-1",children:"Delete Account"}),n.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Permanently delete your account and all associated data (cars, bookings history). This action cannot be undone."}),n.jsx(P,{variant:"destructive",onClick:()=>d(!0),children:"Delete My Account"})]})]})}),n.jsx(tt,{open:c,onOpenChange:d,children:n.jsxs(Qe,{children:[n.jsxs(bt,{children:[n.jsx(wt,{className:"text-red-600",children:"Delete Account Permanently?"}),n.jsxs($r,{children:["This will remove your driver profile, cars, and booking history. Type ",n.jsx("strong",{children:"DELETE"})," below to confirm."]})]}),n.jsx("div",{className:"py-4",children:n.jsx(D,{value:u,onChange:x=>h(x.target.value),placeholder:"DELETE",className:"border-red-300 focus-visible:ring-red-500"})}),n.jsxs(Fr,{children:[n.jsx(P,{variant:"ghost",onClick:()=>d(!1),children:"Cancel"}),n.jsx(P,{variant:"destructive",onClick:p,disabled:u!=="DELETE"||o,children:o?"Deleting...":"Confirm Deletion"})]})]})})]})},Vr=X.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Q("w-full caption-bottom text-sm",e),...t})}));Vr.displayName="Table";const Ur=X.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Q("[&_tr]:border-b",e),...t}));Ur.displayName="TableHeader";const cn=X.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Q("[&_tr:last-child]:border-0",e),...t}));cn.displayName="TableBody";const VU=X.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));VU.displayName="TableFooter";const he=X.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Q("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));he.displayName="TableRow";const Z=X.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Z.displayName="TableHead";const q=X.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Q("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));q.displayName="TableCell";const UU=X.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Q("mt-4 text-sm text-muted-foreground",e),...t}));UU.displayName="TableCaption";const Ok=6048e5,zU=864e5,dw=Symbol.for("constructDateFrom");function $s(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&dw in e?e[dw](t):e instanceof Date?new e.constructor(t):new Date(t)}function dn(e,t){return $s(t||e,e)}let HU={};function qu(){return HU}function _l(e,t){var l,c,d,u;const r=qu(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=dn(e,t==null?void 0:t.in),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Kd(e,t){return _l(e,{...t,weekStartsOn:1})}function Ik(e,t){const r=dn(e,t==null?void 0:t.in),s=r.getFullYear(),a=$s(r,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const i=Kd(a),o=$s(r,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const l=Kd(o);return r.getTime()>=i.getTime()?s+1:r.getTime()>=l.getTime()?s:s-1}function uw(e){const t=dn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function WU(e,...t){const r=$s.bind(null,e||t.find(s=>typeof s=="object"));return t.map(r)}function hw(e,t){const r=dn(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function GU(e,t,r){const[s,a]=WU(r==null?void 0:r.in,e,t),i=hw(s),o=hw(a),l=+i-uw(i),c=+o-uw(o);return Math.round((l-c)/zU)}function qU(e,t){const r=Ik(e,t),s=$s((t==null?void 0:t.in)||e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Kd(s)}function KU(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function YU(e){return!(!KU(e)&&typeof e!="number"||isNaN(+dn(e)))}function XU(e,t){const r=dn(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const QU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JU=(e,t,r)=>{let s;const a=QU[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function im(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ZU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ez={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rz={date:im({formats:ZU,defaultWidth:"full"}),time:im({formats:ez,defaultWidth:"full"}),dateTime:im({formats:tz,defaultWidth:"full"})},nz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sz=(e,t,r,s)=>nz[e];function xo(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const az={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uz=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hz={ordinalNumber:uz,era:xo({values:az,defaultWidth:"wide"}),quarter:xo({values:iz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xo({values:oz,defaultWidth:"wide"}),day:xo({values:lz,defaultWidth:"wide"}),dayPeriod:xo({values:cz,defaultWidth:"wide",formattingValues:dz,defaultFormattingWidth:"wide"})};function vo(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?fz(l,h=>h.test(o)):mz(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function mz(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function fz(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function pz(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const gz=/^(\d+)(th|st|nd|rd)?/i,xz=/\d+/i,vz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yz={any:[/^b/i,/^(a|c)/i]},bz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wz={any:[/1/i,/2/i,/3/i,/4/i]},jz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_z={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tz={ordinalNumber:pz({matchPattern:gz,parsePattern:xz,valueCallback:e=>parseInt(e,10)}),era:vo({matchPatterns:vz,defaultMatchWidth:"wide",parsePatterns:yz,defaultParseWidth:"any"}),quarter:vo({matchPatterns:bz,defaultMatchWidth:"wide",parsePatterns:wz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vo({matchPatterns:jz,defaultMatchWidth:"wide",parsePatterns:Nz,defaultParseWidth:"any"}),day:vo({matchPatterns:_z,defaultMatchWidth:"wide",parsePatterns:Sz,defaultParseWidth:"any"}),dayPeriod:vo({matchPatterns:Cz,defaultMatchWidth:"any",parsePatterns:kz,defaultParseWidth:"any"})},Ez={code:"en-US",formatDistance:JU,formatLong:rz,formatRelative:sz,localize:hz,match:Tz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pz(e,t){const r=dn(e,t==null?void 0:t.in);return GU(r,XU(r))+1}function Az(e,t){const r=dn(e,t==null?void 0:t.in),s=+Kd(r)-+qU(r);return Math.round(s/Ok)+1}function Lk(e,t){var u,h,m,p;const r=dn(e,t==null?void 0:t.in),s=r.getFullYear(),a=qu(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=$s((t==null?void 0:t.in)||e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=_l(o,t),c=$s((t==null?void 0:t.in)||e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=_l(c,t);return+r>=+l?s+1:+r>=+d?s:s-1}function Rz(e,t){var l,c,d,u;const r=qu(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=Lk(e,t),i=$s((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),_l(i,t)}function Dz(e,t){const r=dn(e,t==null?void 0:t.in),s=+_l(r,t)-+Rz(r,t);return Math.round(s/Ok)+1}function Ee(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const ds={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Ee(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ee(r+1,2)},d(e,t){return Ee(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ee(e.getHours()%12||12,t.length)},H(e,t){return Ee(e.getHours(),t.length)},m(e,t){return Ee(e.getMinutes(),t.length)},s(e,t){return Ee(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Ee(a,t.length)}},Ua={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mw={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return ds.y(e,t)},Y:function(e,t,r,s){const a=Lk(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Ee(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ee(i,t.length)},R:function(e,t){const r=Ik(e);return Ee(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ee(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Ee(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Ee(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return ds.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Ee(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=Dz(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ee(a,t.length)},I:function(e,t,r){const s=Az(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Ee(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ds.d(e,t)},D:function(e,t,r){const s=Pz(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Ee(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ee(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ee(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Ee(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Ua.noon:s===0?a=Ua.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Ua.evening:s>=12?a=Ua.afternoon:s>=4?a=Ua.morning:a=Ua.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return ds.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ds.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Ee(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Ee(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ds.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ds.s(e,t)},S:function(e,t){return ds.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return pw(s);case"XXXX":case"XX":return ta(s);case"XXXXX":case"XXX":default:return ta(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return pw(s);case"xxxx":case"xx":return ta(s);case"xxxxx":case"xxx":default:return ta(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fw(s,":");case"OOOO":default:return"GMT"+ta(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fw(s,":");case"zzzz":default:return"GMT"+ta(s,":")}},t:function(e,t,r){const s=Math.trunc(+e/1e3);return Ee(s,t.length)},T:function(e,t,r){return Ee(+e,t.length)}};function fw(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+Ee(i,2)}function pw(e,t){return e%60===0?(e>0?"-":"+")+Ee(Math.abs(e)/60,2):ta(e,t)}function ta(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Ee(Math.trunc(s/60),2),i=Ee(s%60,2);return r+a+t+i}const gw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Fk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Mz=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return gw(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",gw(s,t)).replace("{{time}}",Fk(a,t))},Oz={p:Fk,P:Mz},Iz=/^D+$/,Lz=/^Y+$/,Fz=["D","DD","YY","YYYY"];function $z(e){return Iz.test(e)}function Bz(e){return Lz.test(e)}function Vz(e,t,r){const s=Uz(e,t,r);if(console.warn(s),Fz.includes(e))throw new RangeError(s)}function Uz(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wz=/^'([^]*?)'?$/,Gz=/''/g,qz=/[a-zA-Z]/;function $n(e,t,r){var u,h,m,p,x,g,b,y;const s=qu(),a=(r==null?void 0:r.locale)??s.locale??Ez,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((y=(b=s.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,l=dn(e,r==null?void 0:r.in);if(!YU(l))throw new RangeError("Invalid time value");let c=t.match(Hz).map(v=>{const w=v[0];if(w==="p"||w==="P"){const j=Oz[w];return j(v,a.formatLong)}return v}).join("").match(zz).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:Kz(v)};if(mw[w])return{isToken:!0,value:v};if(w.match(qz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const w=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Bz(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&$z(w))&&Vz(w,t,String(e));const j=mw[w[0]];return j(l,w,a.localize,d)}).join("")}function Kz(e){const t=e.match(Wz);return t?t[1].replace(Gz,"'"):e}const Yz=()=>{const{user:e}=Ke(),[t,r]=f.useState(!0),[s,a]=f.useState({total:0,thisMonth:0,pending:0,tripCount:0}),[i,o]=f.useState([]);f.useEffect(()=>{e&&l()},[e]);const l=async()=>{r(!0);const{data:c}=await O.from("drivers").select("id").eq("user_id",e.id).single();if(!c)return;const{data:d}=await O.from("bookings").select("*").eq("driver_id",c.id).not("driver_earnings","is",null).order("created_at",{ascending:!1});if(d){let u=0,h=0,m=0;const p=new Date().getMonth();d.forEach(x=>{const g=Number(x.driver_earnings||0);u+=g,x.payment_status==="pending"&&(h+=g),new Date(x.created_at).getMonth()===p&&(m+=g)}),a({total:u,thisMonth:m,pending:h,tripCount:d.length}),o(d)}r(!1)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"My Earnings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(G,{className:"p-6 bg-green-600 text-white",children:[n.jsx("p",{className:"text-green-100 mb-1",children:"Total Earned"}),n.jsxs("h3",{className:"text-3xl font-bold",children:["",s.total.toLocaleString()]})]}),n.jsxs(G,{className:"p-6",children:[n.jsx("p",{className:"text-gray-500 mb-1",children:"This Month"}),n.jsxs("h3",{className:"text-3xl font-bold text-gray-900",children:["",s.thisMonth.toLocaleString()]})]}),n.jsxs(G,{className:"p-6",children:[n.jsx("p",{className:"text-gray-500 mb-1",children:"Pending Payout"}),n.jsxs("h3",{className:"text-3xl font-bold text-yellow-600",children:["",s.pending.toLocaleString()]})]})]}),n.jsxs(G,{className:"border-none shadow-sm overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b",children:n.jsx("h3",{className:"font-bold",children:"Recent Trips History"})}),n.jsxs(Vr,{children:[n.jsx(Ur,{children:n.jsxs(he,{children:[n.jsx(Z,{children:"Date"}),n.jsx(Z,{children:"Route"}),n.jsx(Z,{children:"Distance"}),n.jsx(Z,{children:"Your Earnings"}),n.jsx(Z,{children:"Status"})]})}),n.jsx(cn,{children:t?n.jsx(he,{children:n.jsx(q,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):i.length===0?n.jsx(he,{children:n.jsx(q,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No earnings history yet."})}):i.map(c=>n.jsxs(he,{children:[n.jsx(q,{children:$n(new Date(c.created_at),"MMM d, yyyy")}),n.jsxs(q,{className:"max-w-[200px] truncate",children:[c.from_location,"  ",c.to_location]}),n.jsxs(q,{children:[c.distance_km," km"]}),n.jsxs(q,{className:"font-bold text-green-600",children:["",c.driver_earnings]}),n.jsx(q,{children:n.jsx(ee,{variant:c.payment_status==="completed"?"default":"secondary",children:c.payment_status})})]},c.id))})]})]})]})},Xz=gu("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$k=f.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:Q(Xz({variant:t}),e),...r}));$k.displayName="Alert";const Qz=f.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:Q("mb-1 font-medium leading-none tracking-tight",e),...t}));Qz.displayName="AlertTitle";const Bk=f.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Q("text-sm [&_p]:leading-relaxed",e),...t}));Bk.displayName="AlertDescription";const Jz=()=>{var w,j,S;const e=ge(),t=jt(),{signIn:r,signOut:s,user:a,isAdmin:i,loading:o}=Ke(),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(!1),[p,x]=f.useState(null),g=((j=(w=t.state)==null?void 0:w.from)==null?void 0:j.pathname)||"/paneli/dashboard",b=(S=t.state)==null?void 0:S.error;f.useEffect(()=>{!o&&a&&(i?e(g,{replace:!0}):(s(),b==="unauthorized"&&x("Access denied: You need administrator privileges to view that page.")))},[a,i,o,e,g,s,b]);const y=C=>{if(!C)return"Authentication failed";const N=C.message||"";return N.includes("Invalid login credentials")?"Invalid email or password. Please try again.":N.includes("Email not confirmed")?"Your email is not confirmed. Please check your inbox.":N},v=async C=>{var N;C.preventDefault(),x(null),m(!0);try{if(!l.trim()||!d)throw new Error("Please enter both email and password");const{data:_,error:E}=await r(l,d);if(E)throw E;if(!(_!=null&&_.user))throw new Error("Login failed. No user data returned.");const k=(N=_.user.user_metadata)==null?void 0:N.role;if(k!=="admin"&&k!=="super_admin")throw await s(),new Error("You do not have admin access permissions.");e(g,{replace:!0})}catch(_){x(y(_))}finally{m(!1)}};return o?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-4 border-green-600 border-t-transparent rounded-full animate-spin"})}):n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-2xl flex items-center justify-center shadow-xl shadow-green-900/10 mx-auto mb-4",children:n.jsx("span",{className:"text-white font-heading font-bold text-2xl",children:"GT"})}),n.jsx("h1",{className:"text-2xl font-heading font-bold text-gray-900",children:"Admin Panel Access"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Sign in to manage GeorgianTrip platform"})]}),n.jsxs(G,{className:"border-none shadow-xl",children:[n.jsxs(Jn,{className:"space-y-1",children:[n.jsx(Zn,{className:"text-xl",children:"Login"}),n.jsx(SS,{children:"Enter your administrative credentials below"})]}),n.jsx(It,{children:n.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p&&n.jsxs($k,{variant:"destructive",className:"bg-red-50 text-red-600 border-red-200",children:[n.jsx(Ta,{className:"h-4 w-4"}),n.jsx(Bk,{children:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(zi,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),n.jsx(D,{id:"email",type:"email",placeholder:"admin@georgiantrip.com",className:"pl-10",value:l,onChange:C=>{c(C.target.value),p&&x(null)},required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(T,{htmlFor:"password",children:"Password"})}),n.jsxs("div",{className:"relative",children:[n.jsx(FN,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),n.jsx(D,{id:"password",type:"password",placeholder:"",className:"pl-10",value:d,onChange:C=>{u(C.target.value),p&&x(null)},required:!0})]})]}),n.jsx(P,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 h-11 text-base",disabled:h,children:h?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Authenticating..."]}):n.jsxs("span",{className:"flex items-center gap-2",children:["Login to Dashboard ",n.jsx(at,{className:"w-4 h-4"})]})})]})}),n.jsx(CS,{className:"bg-gray-50/50 p-6 rounded-b-xl border-t",children:n.jsx("p",{className:"text-xs text-center text-gray-500 w-full",children:"Protected area. Unauthorized access is monitored and logged."})})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsx("a",{href:"/",className:"text-sm text-gray-500 hover:text-gray-900 transition-colors",children:" Back to Main Website"})})]})})},Zz=()=>{const e=ge(),t=[{title:"Driver Management",description:"Manage drivers, review applications, and track verification status.",icon:nr,route:"/paneli/drivers",color:"text-blue-600",bg:"bg-blue-50"},{title:"Bookings",description:"View and manage all customer bookings and trip details.",icon:it,route:"/paneli/bookings",color:"text-purple-600",bg:"bg-purple-50"},{title:"Finances",description:"Track earnings, commissions, and payout history.",icon:Ar,route:"/paneli/finances",color:"text-green-600",bg:"bg-green-50"},{title:"Tours",description:"Create and manage tour packages and itineraries.",icon:UN,route:"/paneli/tours",color:"text-orange-600",bg:"bg-orange-50"},{title:"Locations & Transfers",description:"Manage pickup locations and transfer routes.",icon:bu,route:"/paneli/locations",color:"text-red-600",bg:"bg-red-50"},{title:"Global Settings",description:"Configure platform settings, pricing rules, and content.",icon:xg,route:"/paneli/settings",color:"text-gray-600",bg:"bg-gray-50"}];return n.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[n.jsxs("div",{className:"text-center max-w-2xl mx-auto py-8",children:[n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900 mb-4",children:"Admin Panel Overview"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"Welcome to the central control hub. Select a module below to get started."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((r,s)=>n.jsx(G,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer border-none shadow-sm ring-1 ring-gray-200",onClick:()=>e(r.route),children:n.jsxs(It,{className:"p-8",children:[n.jsx("div",{className:`w-14 h-14 rounded-2xl ${r.bg} ${r.color} flex items-center justify-center mb-6 transition-transform group-hover:scale-110`,children:n.jsx(r.icon,{className:"w-7 h-7"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-green-600 transition-colors",children:r.title}),n.jsx("p",{className:"text-gray-500 mb-6 leading-relaxed",children:r.description}),n.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-900 group-hover:text-green-600",children:["Access Module ",n.jsx(at,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})},s))})]})},eH=()=>{Ke();const e=ge(),[t,r]=f.useState({totalDrivers:0,totalBookings:0,totalRevenue:0}),[s,a]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0);f.useEffect(()=>{(async()=>{c(!0);try{const{count:h}=await O.from("drivers").select("*",{count:"exact",head:!0}),{count:m}=await O.from("bookings").select("*",{count:"exact",head:!0}),{data:p}=await O.from("bookings").select("total_price").eq("status","completed"),x=(p==null?void 0:p.reduce((y,v)=>y+(Number(v.total_price)||0),0))||0;r({totalDrivers:h||0,totalBookings:m||0,totalRevenue:x});const{data:g}=await O.from("drivers").select("id, first_name, last_name, status, created_at").order("created_at",{ascending:!1}).limit(5);a(g||[]);const{data:b}=await O.from("bookings").select("id, customer_first_name, status, total_price, date").order("created_at",{ascending:!1}).limit(5);o(b||[])}catch(h){console.error("Error fetching dashboard data:",h)}finally{c(!1)}})()},[]);const d=({icon:u,label:h,value:m,colorClass:p,bgClass:x})=>n.jsx(G,{className:"border-none shadow-sm",children:n.jsx(It,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-xl ${x} ${p}`,children:n.jsx(u,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:h}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l?"...":m})]})]})})});return n.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:"Dashboard"}),n.jsx("p",{className:"text-gray-500",children:"Overview of your platform's performance"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(P,{variant:"outline",onClick:()=>e("/paneli/bookings"),children:"View Bookings"}),n.jsx(P,{className:"bg-green-600 hover:bg-green-700",onClick:()=>e("/paneli/drivers"),children:"Manage Drivers"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(d,{icon:nr,label:"Total Drivers",value:t.totalDrivers,bgClass:"bg-blue-50",colorClass:"text-blue-600"}),n.jsx(d,{icon:it,label:"Total Bookings",value:t.totalBookings,bgClass:"bg-purple-50",colorClass:"text-purple-600"}),n.jsx(d,{icon:Ar,label:"Total Revenue",value:`${t.totalRevenue.toLocaleString()}`,bgClass:"bg-green-50",colorClass:"text-green-600"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs(G,{children:[n.jsxs(Jn,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(Zn,{className:"text-lg",children:"Recent Drivers"}),n.jsxs(P,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>e("/paneli/drivers"),children:["View All ",n.jsx(at,{className:"w-3 h-3 ml-1"})]})]}),n.jsx(It,{children:n.jsx("div",{className:"space-y-4",children:l?n.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):s.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No recent drivers."}):s.map(u=>{var h,m;return n.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0 border-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-600",children:[(h=u.first_name)==null?void 0:h[0],(m=u.last_name)==null?void 0:m[0]]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium",children:[u.first_name," ",u.last_name]}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Joined ",$n(new Date(u.created_at),"MMM dd")]})]})]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full capitalize ${u.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:u.status})]},u.id)})})})]}),n.jsxs(G,{children:[n.jsxs(Jn,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(Zn,{className:"text-lg",children:"Recent Bookings"}),n.jsxs(P,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>e("/paneli/bookings"),children:["View All ",n.jsx(at,{className:"w-3 h-3 ml-1"})]})]}),n.jsx(It,{children:n.jsx("div",{className:"space-y-4",children:l?n.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):i.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No recent bookings."}):i.map(u=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0 border-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:n.jsx(bu,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:u.customer_first_name}),n.jsx("p",{className:"text-xs text-gray-400",children:$n(new Date(u.date),"MMM dd")})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-bold",children:["",u.total_price]}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full capitalize ${u.status==="completed"?"text-green-600 bg-green-50":u.status==="cancelled"?"text-red-600 bg-red-50":"text-blue-600 bg-blue-50"}`,children:u.status})]})]},u.id))})})]})]})]})},tH=({status:e,verificationStatus:t})=>e==="blocked"?n.jsx(ee,{className:"bg-red-500 hover:bg-red-600",children:"Blocked"}):t==="pending"?n.jsx(ee,{className:"bg-yellow-500 hover:bg-yellow-600 text-black",children:"Pending Verification"}):t==="rejected"?n.jsx(ee,{className:"bg-red-500 hover:bg-red-600",children:"Rejected"}):e==="active"&&t==="approved"?n.jsx(ee,{className:"bg-blue-600 hover:bg-blue-700",children:"Active"}):n.jsx(ee,{variant:"outline",className:"capitalize",children:e||"Unknown"}),rH=({isOpen:e,onClose:t,driver:r,onUpdate:s})=>{const{toast:a}=ae(),[i,o]=f.useState(!1),[l,c]=f.useState(""),[d,u]=f.useState(!1);f.useEffect(()=>{e&&(u(!1),c(""),o(!1))},[e,r]);const h=async()=>{o(!0);try{const{error:p}=await O.from("drivers").update({verification_status:"approved",status:"active",verification_rejection_reason:null}).eq("id",r.id);if(p)throw p;a({title:"Driver Approved",className:"bg-green-600 text-white"}),s(),t()}catch(p){a({variant:"destructive",title:"Error",description:p.message})}finally{o(!1)}},m=async()=>{if(!d){u(!0);return}if(!l.trim()){a({variant:"destructive",title:"Error",description:"Please provide a reason for rejection."});return}o(!0);try{const{error:p}=await O.from("drivers").update({verification_status:"rejected",status:"inactive",verification_rejection_reason:l}).eq("id",r.id);if(p)throw p;a({title:"Driver Rejected",description:"Notification sent to driver."}),s(),t()}catch(p){a({variant:"destructive",title:"Error",description:p.message})}finally{o(!1)}};return r?n.jsx(tt,{open:e,onOpenChange:t,children:n.jsxs(Qe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(bt,{children:[n.jsx(wt,{children:"Review Driver Application"}),n.jsxs($r,{children:["Review documents and approve or reject ",r.first_name," ",r.last_name,"."]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{className:"text-gray-500",children:"Full Name"}),n.jsxs("p",{className:"font-medium",children:[r.first_name," ",r.last_name]})]}),n.jsxs("div",{children:[n.jsx(T,{className:"text-gray-500",children:"Email"}),n.jsx("p",{className:"font-medium",children:r.email})]}),n.jsxs("div",{children:[n.jsx(T,{className:"text-gray-500",children:"Phone"}),n.jsx("p",{className:"font-medium",children:r.phone})]}),n.jsxs("div",{children:[n.jsx(T,{className:"text-gray-500",children:"Current Status"}),n.jsx("p",{className:"font-medium capitalize",children:r.verification_status})]})]}),n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(vu,{className:"w-4 h-4"})," Document Checklist"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[n.jsx("span",{className:"text-sm",children:"Driving License"}),r.driving_license_url?n.jsxs("a",{href:r.driving_license_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm flex items-center hover:underline",children:["View Document ",n.jsx($o,{className:"w-3 h-3 ml-1"})]}):n.jsx("span",{className:"text-red-500 text-sm",children:"Not Uploaded"})]}),n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[n.jsx("span",{className:"text-sm",children:"ID Document"}),r.id_document_url?n.jsxs("a",{href:r.id_document_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm flex items-center hover:underline",children:["View Document ",n.jsx($o,{className:"w-3 h-3 ml-1"})]}):n.jsx("span",{className:"text-red-500 text-sm",children:"Not Uploaded"})]}),n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[n.jsx("span",{className:"text-sm",children:"Car Documents"}),r.car_documents_url?n.jsxs("a",{href:r.car_documents_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm flex items-center hover:underline",children:["View Document ",n.jsx($o,{className:"w-3 h-3 ml-1"})]}):n.jsx("span",{className:"text-red-500 text-sm",children:"Not Uploaded"})]})]})]}),d&&n.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[n.jsx(T,{children:"Reason for Rejection"}),n.jsx(Ae,{placeholder:"Please explain why the application is being rejected...",value:l,onChange:p=>c(p.target.value),className:"mt-1.5"})]})]}),n.jsxs(Fr,{className:"gap-2 sm:gap-0",children:[n.jsx(P,{variant:"outline",onClick:t,children:"Cancel"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(P,{variant:d?"default":"destructive",onClick:m,disabled:i,className:d?"bg-red-600 hover:bg-red-700":"",children:d?"Confirm Rejection":n.jsxs(n.Fragment,{children:[n.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Reject"]})}),!d&&n.jsxs(P,{onClick:h,disabled:i,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Approve Driver"]})]})]})]})}):null},nH=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(""),[o,l]=f.useState("all"),[c,d]=f.useState(null),[u,h]=f.useState(!1),{toast:m}=ae(),p=ge();f.useEffect(()=>{x()},[]);const x=async()=>{s(!0);try{const{data:v,error:w}=await O.from("drivers").select("*").order("created_at",{ascending:!1});if(w)throw w;t(v||[])}catch(v){m({variant:"destructive",title:"Error fetching drivers",description:v.message})}finally{s(!1)}},g=e.filter(v=>{var S;const w=(v.first_name+" "+v.last_name).toLowerCase().includes(a.toLowerCase())||((S=v.email)==null?void 0:S.toLowerCase().includes(a.toLowerCase())),j=o==="all"||v.status===o||v.verification_status===o;return w&&j}),b=async v=>{const w=v.status==="blocked"?"active":"blocked";try{const{error:j}=await O.from("drivers").update({status:w}).eq("id",v.id);if(j)throw j;m({title:`Driver ${w==="blocked"?"Blocked":"Unblocked"}`}),x()}catch(j){m({variant:"destructive",title:"Error",description:j.message})}},y=async v=>{if(window.confirm("Are you sure? This action cannot be undone."))try{const{error:w}=await O.from("drivers").delete().eq("id",v);if(w)throw w;m({title:"Driver deleted"}),x()}catch(w){m({variant:"destructive",title:"Error",description:w.message})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:"Drivers Management"})}),n.jsxs(G,{children:[n.jsxs(Jn,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(Zn,{className:"text-lg font-medium",children:"All Drivers"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),n.jsx(D,{placeholder:"Search name or email...",className:"pl-9 w-[250px]",value:a,onChange:v=>i(v.target.value)})]}),n.jsxs(Qt,{value:o,onValueChange:l,children:[n.jsxs(Lt,{className:"w-[180px]",children:[n.jsx(ug,{className:"w-4 h-4 mr-2"}),n.jsx(Jt,{placeholder:"Filter Status"})]}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"all",children:"All Statuses"}),n.jsx(ce,{value:"pending",children:"Pending Approval"}),n.jsx(ce,{value:"active",children:"Active"}),n.jsx(ce,{value:"blocked",children:"Blocked"}),n.jsx(ce,{value:"rejected",children:"Rejected"})]})]})]})]}),n.jsx(It,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs(Vr,{children:[n.jsx(Ur,{children:n.jsxs(he,{children:[n.jsx(Z,{children:"Name"}),n.jsx(Z,{children:"Contact"}),n.jsx(Z,{children:"Status"}),n.jsx(Z,{children:"Verification"}),n.jsx(Z,{className:"text-right",children:"Total Earnings"}),n.jsx(Z,{className:"text-right",children:"Actions"})]})}),n.jsx(cn,{children:r?n.jsx(he,{children:n.jsx(q,{colSpan:6,className:"text-center py-8",children:"Loading drivers..."})}):g.length===0?n.jsx(he,{children:n.jsx(q,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No drivers found."})}):g.map(v=>n.jsxs(he,{children:[n.jsxs(q,{className:"font-medium",children:[v.first_name," ",v.last_name]}),n.jsxs(q,{children:[n.jsx("div",{className:"text-sm",children:v.email}),n.jsx("div",{className:"text-xs text-gray-500",children:v.phone})]}),n.jsx(q,{children:n.jsx(tH,{status:v.status,verificationStatus:v.verification_status})}),n.jsx(q,{className:"capitalize text-sm",children:v.verification_status}),n.jsxs(q,{className:"text-right font-medium",children:["",(v.total_earnings||0).toLocaleString()]}),n.jsx(q,{className:"text-right",children:n.jsxs(Id,{children:[n.jsx(Ld,{asChild:!0,children:n.jsx(P,{variant:"ghost",className:"h-8 w-8 p-0",children:n.jsx(PR,{className:"h-4 w-4"})})}),n.jsxs(vl,{align:"end",children:[v.verification_status==="pending"&&n.jsxs(Tt,{onClick:()=>{d(v),h(!0)},children:[n.jsx(bn,{className:"mr-2 h-4 w-4"})," Review Application"]}),n.jsxs(Tt,{onClick:()=>p(`/paneli/drivers/${v.id}/routes`),children:[n.jsx(bu,{className:"mr-2 h-4 w-4"})," View Routes"]}),n.jsxs(Tt,{onClick:()=>p(`/paneli/drivers/${v.id}/edit`),children:[n.jsx(Ds,{className:"mr-2 h-4 w-4"})," Edit Details"]}),n.jsx(Tt,{onClick:()=>b(v),children:v.status==="blocked"?n.jsxs(n.Fragment,{children:[n.jsx(Wn,{className:"mr-2 h-4 w-4"})," Unblock Driver"]}):n.jsxs(n.Fragment,{children:[n.jsx(dg,{className:"mr-2 h-4 w-4"})," Block Driver"]})}),n.jsx(yl,{}),n.jsxs(Tt,{onClick:()=>y(v.id),className:"text-red-600 focus:text-red-600",children:[n.jsx(ir,{className:"mr-2 h-4 w-4"})," Delete Driver"]})]})]})})]},v.id))})]})})})]}),n.jsx(rH,{isOpen:u,onClose:()=>h(!1),driver:c,onUpdate:x})]})},sH=()=>{const{toast:e}=ae(),[t,r]=f.useState([]),[s,a]=f.useState(!0),[i,o]=f.useState(""),[l,c]=f.useState("all"),[d,u]=f.useState("all"),[h,m]=f.useState(null),[p,x]=f.useState(!1),[g,b]=f.useState({open:!1,title:"",description:"",action:null});f.useEffect(()=>{y()},[l,d]);const y=async()=>{a(!0);let N=O.from("cars").select(`
        *,
        drivers!inner(id, first_name, last_name, email, phone)
      `).order("created_at",{ascending:!1});l!=="all"&&(N=N.eq("verification_status",l)),d==="active"?N=N.eq("active",!0):d==="disabled"&&(N=N.eq("active",!1));const{data:_,error:E}=await N;if(E)e({variant:"destructive",title:"Error",description:E.message});else{let k=_||[];if(i){const $=i.toLowerCase();k=k.filter(F=>{var H,B;return F.make.toLowerCase().includes($)||F.model.toLowerCase().includes($)||((H=F.drivers)==null?void 0:H.first_name.toLowerCase().includes($))||((B=F.drivers)==null?void 0:B.last_name.toLowerCase().includes($))||F.license_plate.toLowerCase().includes($)})}r(k)}a(!1)},v=async(N,_)=>{const{error:E}=await O.from("cars").update({verification_status:_}).eq("id",N);E?e({variant:"destructive",title:"Error",description:E.message}):(e({title:"Success",description:`Car marked as ${_}`}),y())},w=async N=>{try{await gV(N),e({title:"Success",description:"Car deleted"}),y()}catch(_){e({variant:"destructive",title:"Error",description:_.message})}},j=async(N,_)=>{try{await pV(N,!_),e({title:"Success",description:`Car ${_?"disabled":"enabled"} successfully`}),y()}catch(E){e({variant:"destructive",title:"Error",description:E.message})}},S=(N,_,E)=>{b({open:!0,title:N,description:_,action:E})},C=async()=>{g.action&&await g.action(),b({...g,open:!1})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col xl:flex-row justify-between gap-4 bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ts,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(D,{placeholder:"Search by model, plate, or driver...",className:"pl-10 h-10 bg-gray-50 border-gray-200",value:i,onChange:N=>o(N.target.value),onKeyDown:N=>N.key==="Enter"&&y()})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs(Qt,{value:l,onValueChange:c,children:[n.jsx(Lt,{className:"w-[180px] h-10 bg-gray-50 border-gray-200",children:n.jsx(Jt,{placeholder:"Verification"})}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"all",children:"All Verifications"}),n.jsx(ce,{value:"pending",children:"Pending"}),n.jsx(ce,{value:"approved",children:"Approved"}),n.jsx(ce,{value:"rejected",children:"Rejected"})]})]}),n.jsxs(Qt,{value:d,onValueChange:u,children:[n.jsx(Lt,{className:"w-[180px] h-10 bg-gray-50 border-gray-200",children:n.jsx(Jt,{placeholder:"Availability"})}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"all",children:"All Availability"}),n.jsx(ce,{value:"active",children:"Enabled"}),n.jsx(ce,{value:"disabled",children:"Disabled"})]})]}),n.jsxs(P,{onClick:y,className:"bg-gray-900 text-white h-10",children:[n.jsx(ug,{className:"w-4 h-4 mr-2"})," Apply"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:s?n.jsx("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100",children:"Loading cars..."}):t.length===0?n.jsx("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100 text-gray-500",children:"No cars found matching criteria."}):n.jsx("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm text-left",children:[n.jsx("thead",{className:"bg-gray-50 text-gray-600 font-semibold border-b border-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4",children:"Vehicle"}),n.jsx("th",{className:"px-6 py-4",children:"Driver"}),n.jsx("th",{className:"px-6 py-4",children:"Specs"}),n.jsx("th",{className:"px-6 py-4",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(N=>{var _,E,k;return n.jsxs("tr",{className:`hover:bg-gray-50/50 transition-colors ${N.active?"":"bg-gray-50/30"}`,children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-12 rounded-lg bg-gray-100 overflow-hidden shrink-0 border border-gray-200 relative",children:N.main_photo?n.jsx("img",{src:N.main_photo,className:`w-full h-full object-cover ${N.active?"":"grayscale"}`,alt:N.model}):n.jsx("div",{className:"flex items-center justify-center h-full text-xs text-gray-400",children:"No Pic"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-bold text-gray-900 text-base flex items-center gap-2",children:[N.make," ",N.model,!N.active&&n.jsx(ee,{variant:"secondary",className:"text-[10px] h-4 px-1",children:"Disabled"})]}),n.jsx("div",{className:"text-xs text-gray-500 font-mono bg-gray-100 px-1.5 py-0.5 rounded inline-block mt-1",children:N.license_plate})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:[(_=N.drivers)==null?void 0:_.first_name," ",(E=N.drivers)==null?void 0:E.last_name]}),n.jsx("div",{className:"text-xs text-gray-500",children:(k=N.drivers)==null?void 0:k.email})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1 bg-gray-50 px-2 py-1 rounded text-xs",children:[n.jsx(rr,{className:"w-3 h-3"})," ",N.year]}),n.jsxs("span",{className:"flex items-center gap-1 bg-gray-50 px-2 py-1 rounded text-xs",children:[n.jsx(hg,{className:"w-3 h-3"})," ",N.fuel_type]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[N.active?n.jsxs(ee,{className:"bg-green-600 hover:bg-green-700 text-white border-0 shadow-none gap-1",children:[n.jsx(Wn,{className:"w-3 h-3"})," Active"]}):n.jsxs(ee,{variant:"secondary",className:"bg-gray-200 text-gray-600 border-0 shadow-none gap-1",children:[n.jsx(dg,{className:"w-3 h-3"})," Disabled"]}),n.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:[N.verification_status==="approved"&&n.jsx("span",{className:"text-green-600",children:"Verified"}),N.verification_status==="pending"&&n.jsx("span",{className:"text-yellow-600",children:"Pending Review"}),N.verification_status==="rejected"&&n.jsx("span",{className:"text-red-600",children:"Rejected"})]})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs(Id,{children:[n.jsx(Ld,{asChild:!0,children:n.jsx(P,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(AR,{className:"h-4 w-4 text-gray-400"})})}),n.jsxs(vl,{align:"end",className:"w-48",children:[n.jsx(Tt,{onClick:()=>{m(N),x(!0)},children:"Edit Details"}),n.jsxs(Tt,{onClick:()=>S(N.active?"Disable Car":"Enable Car",`Are you sure you want to ${N.active?"disable":"enable"} this ${N.make} ${N.model}? ${N.active?"It will disappear from search results.":"It will appear in search results."}`,()=>j(N.id,N.active)),children:[n.jsx(LR,{className:"w-4 h-4 mr-2"}),N.active?"Disable":"Enable"]}),n.jsx(yl,{}),n.jsx(Tt,{onClick:()=>v(N.id,"approved"),className:"text-green-600",children:"Mark Approved"}),n.jsx(Tt,{onClick:()=>v(N.id,"rejected"),className:"text-red-600",children:"Mark Rejected"}),n.jsx(yl,{}),n.jsx(Tt,{onClick:()=>S("Delete Car","Are you sure you want to permanently delete this car? This action cannot be undone.",()=>w(N.id)),className:"text-red-600 bg-red-50 hover:bg-red-100",children:"Delete Permanently"})]})]})})]},N.id)})})]})})}),n.jsx(tt,{open:p,onOpenChange:x,children:n.jsxs(Qe,{className:"max-w-4xl max-h-[90vh] p-0 overflow-hidden",children:[n.jsx(bt,{className:"px-6 py-4 border-b",children:n.jsx(wt,{children:"Vehicle Details"})}),n.jsx("div",{className:"overflow-y-auto max-h-[80vh] px-6 py-4",children:h&&n.jsx(Jx,{driverId:h.driver_id,car:h,isAdmin:!0,onSuccess:()=>{x(!1),y()},onCancel:()=>x(!1)})})]})}),n.jsx(tt,{open:g.open,onOpenChange:N=>!N&&b({...g,open:!1}),children:n.jsxs(Qe,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:g.title}),n.jsx($r,{children:g.description})]}),n.jsxs(Fr,{children:[n.jsx(P,{variant:"outline",onClick:()=>b({...g,open:!1}),children:"Cancel"}),n.jsx(P,{onClick:C,className:"bg-green-600 hover:bg-green-700",children:"Confirm"})]})]})})]})},aH=()=>n.jsxs(n.Fragment,{children:[n.jsx(vr,{children:n.jsx("title",{children:"Admin - Car Management | GeorgianTrip"})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:"Vehicle Management"}),n.jsx("p",{className:"text-gray-500 hidden md:block",children:"Manage all fleet vehicles, approve listings, and monitor status."})]}),n.jsx(sH,{})]})]}),iH=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(""),[o,l]=f.useState("all"),[c,d]=f.useState(null),[u,h]=f.useState(""),[m,p]=f.useState(!1),{toast:x}=ae();f.useEffect(()=>{g()},[]);const g=async()=>{s(!0);try{const{data:j,error:S}=await O.from("bookings").select(`
                  *,
                  pickup_location:locations!pickup_location_id(name_en),
                  dropoff_location:locations!dropoff_location_id(name_en),
                  driver:drivers(first_name, last_name, phone)
                `).order("created_at",{ascending:!1});if(S)throw S;t(j||[])}catch(j){x({variant:"destructive",title:"Error",description:j.message})}finally{s(!1)}},b=async(j,S)=>{try{const{error:C}=await O.from("bookings").update({status:S}).eq("id",j);if(C)throw C;x({title:"Status Updated",description:`Booking is now ${S}`}),g()}catch(C){x({variant:"destructive",title:"Update Failed",description:C.message})}},y=async()=>{if(!u.trim()){x({variant:"destructive",title:"Error",description:"Please provide a cancellation reason."});return}try{const{error:j}=await O.from("bookings").update({status:"cancelled",rejection_reason:u}).eq("id",c.id);if(j)throw j;x({title:"Booking Cancelled",description:"User has been notified."}),p(!1),h(""),g()}catch(j){x({variant:"destructive",title:"Error",description:j.message})}},v=e.filter(j=>{var N;const S=((N=j.customer_first_name)==null?void 0:N.toLowerCase().includes(a.toLowerCase()))||j.id.includes(a),C=o==="all"||j.status===o;return S&&C}),w=j=>{switch(j){case"completed":return"default";case"confirmed":return"secondary";case"pending":return"warning";case"cancelled":return"destructive";default:return"outline"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:"Bookings Management"}),n.jsxs(G,{children:[n.jsxs(Jn,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(Zn,{className:"text-lg",children:"All Transactions"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),n.jsx(D,{placeholder:"Search passenger or ID...",className:"pl-9 w-[250px]",value:a,onChange:j=>i(j.target.value)})]}),n.jsxs(Qt,{value:o,onValueChange:l,children:[n.jsxs(Lt,{className:"w-[180px]",children:[n.jsx(ug,{className:"w-4 h-4 mr-2"}),n.jsx(Jt,{placeholder:"Status"})]}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"all",children:"All Bookings"}),n.jsx(ce,{value:"pending",children:"Pending"}),n.jsx(ce,{value:"confirmed",children:"Confirmed"}),n.jsx(ce,{value:"completed",children:"Completed"}),n.jsx(ce,{value:"cancelled",children:"Cancelled"})]})]})]})]}),n.jsx(It,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs(Vr,{children:[n.jsx(Ur,{children:n.jsxs(he,{children:[n.jsx(Z,{children:"Customer"}),n.jsx(Z,{children:"Route & Date"}),n.jsx(Z,{children:"Driver"}),n.jsx(Z,{children:"Status"}),n.jsx(Z,{children:"Price"}),n.jsx(Z,{className:"text-right",children:"Actions"})]})}),n.jsx(cn,{children:r?n.jsx(he,{children:n.jsx(q,{colSpan:6,className:"text-center py-8",children:"Loading bookings..."})}):v.length===0?n.jsx(he,{children:n.jsx(q,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No bookings found."})}):v.map(j=>{var S,C;return n.jsxs(he,{children:[n.jsxs(q,{children:[n.jsx("div",{className:"font-medium",children:j.customer_first_name}),n.jsx("div",{className:"text-xs text-gray-500",children:j.customer_phone})]}),n.jsxs(q,{children:[n.jsxs("div",{className:"flex items-center text-sm mb-1",children:[n.jsx(br,{className:"w-3 h-3 mr-1 text-gray-400"}),(S=j.pickup_location)==null?void 0:S.name_en,"  ",(C=j.dropoff_location)==null?void 0:C.name_en]}),n.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[n.jsx(it,{className:"w-3 h-3 mr-1"}),$n(new Date(j.date),"MMM dd, yyyy"),"  ",j.time]})]}),n.jsx(q,{children:j.driver?n.jsxs("span",{className:"text-sm font-medium",children:[j.driver.first_name," ",j.driver.last_name]}):n.jsx("span",{className:"text-xs text-yellow-600 font-bold bg-yellow-100 px-2 py-0.5 rounded-full",children:"Unassigned"})}),n.jsx(q,{children:n.jsx(ee,{variant:w(j.status),children:j.status})}),n.jsxs(q,{className:"font-medium",children:["",j.total_price]}),n.jsxs(q,{className:"text-right space-x-2",children:[n.jsxs(Qt,{defaultValue:j.status,onValueChange:N=>b(j.id,N),children:[n.jsx(Lt,{className:"w-[110px] h-8 text-xs inline-flex",children:n.jsx(Jt,{})}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"pending",children:"Pending"}),n.jsx(ce,{value:"confirmed",children:"Confirmed"}),n.jsx(ce,{value:"completed",children:"Completed"})]})]}),j.status!=="cancelled"&&n.jsx(P,{variant:"ghost",size:"sm",className:"text-red-600 h-8 w-8 p-0",onClick:()=>{d(j),p(!0)},children:n.jsx(Ui,{className:"w-4 h-4"})})]})]},j.id)})})]})})})]}),n.jsx(tt,{open:m,onOpenChange:p,children:n.jsxs(Qe,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:"Cancel Booking"}),n.jsxs($r,{children:["Are you sure you want to cancel the booking for ",c==null?void 0:c.customer_first_name,"? This action cannot be undone."]})]}),n.jsxs("div",{className:"py-4",children:[n.jsx(T,{htmlFor:"reason",className:"mb-2 block",children:"Cancellation Reason"}),n.jsx(D,{id:"reason",placeholder:"e.g. Driver unavailable, Customer request...",value:u,onChange:j=>h(j.target.value)})]}),n.jsxs(Fr,{children:[n.jsx(P,{variant:"outline",onClick:()=>p(!1),children:"Keep Booking"}),n.jsx(P,{variant:"destructive",onClick:y,children:"Confirm Cancellation"})]})]})})]})},oH=()=>{const{carId:e}=an(),t=ge(),[r,s]=f.useState(null),[a,i]=f.useState(!0);return f.useEffect(()=>{(async()=>{const{data:l,error:c}=await O.from("cars").select("*").eq("id",e).single();l&&s(l),i(!1)})()},[e]),a?n.jsx("div",{className:"flex justify-center p-12",children:n.jsx(de,{className:"animate-spin"})}):n.jsxs("div",{className:"max-w-5xl mx-auto py-8 px-4",children:[n.jsxs(P,{variant:"ghost",onClick:()=>t("/admin"),className:"mb-4 pl-0 hover:bg-transparent hover:underline",children:[n.jsx(Ir,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]}),n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Vehicle (Admin)"})}),n.jsx(G,{className:"p-6",children:n.jsx(Jx,{driverId:r==null?void 0:r.driver_id,car:r,isAdmin:!0,onSuccess:()=>t("/admin"),onCancel:()=>t("/admin")})})]})},lH=({driverId:e,onSuccess:t,onCancel:r})=>{const{toast:s}=ae(),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState({first_name:"",last_name:"",phone:"",email:"",bio:"",languages_spoken:[],avatar_url:"",verification_status:"pending",verification_rejection_reason:"",rating:5,total_earnings:0});f.useEffect(()=>{e&&(async()=>{const{data:p,error:x}=await O.from("drivers").select("*").eq("id",e).single();p&&d({first_name:p.first_name||"",last_name:p.last_name||"",phone:p.phone||"",email:p.email||"",bio:p.bio||"",languages_spoken:p.languages_spoken||[],avatar_url:p.avatar_url||"",verification_status:p.verification_status||"pending",verification_rejection_reason:p.verification_rejection_reason||"",rating:p.rating||5,total_earnings:p.total_earnings||0}),i(!1)})()},[e]);const u=async m=>{m.preventDefault(),l(!0);const{error:p}=await O.from("drivers").update({first_name:c.first_name,last_name:c.last_name,phone:c.phone,email:c.email,bio:c.bio,languages_spoken:c.languages_spoken,avatar_url:c.avatar_url,verification_status:c.verification_status,verification_rejection_reason:c.verification_rejection_reason,rating:parseFloat(c.rating)}).eq("id",e);p?s({variant:"destructive",title:"Error",description:p.message}):(s({title:"Success",description:"Driver updated successfully"}),t()),l(!1)},h=m=>{d(p=>{const x=p.languages_spoken.includes(m)?p.languages_spoken.filter(g=>g!==m):[...p.languages_spoken,m];return{...p,languages_spoken:x}})};return a?n.jsx("div",{className:"p-8",children:n.jsx(de,{className:"animate-spin"})}):n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-6",children:[n.jsxs("div",{className:"w-1/3",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[n.jsx(T,{children:"Verification Status"}),n.jsxs(Qt,{value:c.verification_status,onValueChange:m=>d({...c,verification_status:m}),children:[n.jsx(Lt,{className:"bg-white mb-2",children:n.jsx(Jt,{})}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"pending",children:"Pending"}),n.jsx(ce,{value:"approved",children:"Approved"}),n.jsx(ce,{value:"rejected",children:"Rejected"})]})]}),c.verification_status==="rejected"&&n.jsxs("div",{className:"mt-2",children:[n.jsx(T,{className:"text-red-600",children:"Rejection Reason"}),n.jsx(Ae,{value:c.verification_rejection_reason,onChange:m=>d({...c,verification_rejection_reason:m.target.value}),placeholder:"Why was this driver rejected?",className:"border-red-200"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(T,{children:"Avatar"}),c.avatar_url&&n.jsx("img",{src:c.avatar_url,className:"w-24 h-24 rounded-full object-cover mb-2 border"}),n.jsx(Fn,{bucketName:"driver-avatars",pathPrefix:`admin-edit-${e}`,compact:!0,onUploadComplete:m=>d({...c,avatar_url:m})})]})]}),n.jsxs("div",{className:"w-2/3 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"First Name"}),n.jsx(D,{value:c.first_name,onChange:m=>d({...c,first_name:m.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Last Name"}),n.jsx(D,{value:c.last_name,onChange:m=>d({...c,last_name:m.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Email"}),n.jsx(D,{value:c.email,onChange:m=>d({...c,email:m.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Phone"}),n.jsx(D,{value:c.phone,onChange:m=>d({...c,phone:m.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(T,{className:"mb-2 block",children:"Languages"}),n.jsx("div",{className:"flex gap-4",children:["EN","RU","KA"].map(m=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.languages_spoken.includes(m),onChange:()=>h(m),className:"rounded border-gray-300"}),n.jsx("span",{children:m})]},m))})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Bio"}),n.jsx(Ae,{value:c.bio,onChange:m=>d({...c,bio:m.target.value}),rows:3})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-3 rounded",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Rating"}),n.jsx(D,{type:"number",step:"0.1",min:"0",max:"5",value:c.rating,onChange:m=>d({...c,rating:m.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Total Earnings (Read Only)"}),n.jsx(D,{value:c.total_earnings,disabled:!0})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(P,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),n.jsxs(P,{type:"submit",disabled:o,className:"bg-gray-900 text-white",children:[o&&n.jsx(de,{className:"w-4 h-4 mr-2 animate-spin"})," Save Changes"]})]})]})},cH=()=>{const{driverId:e}=an(),t=ge();return n.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[n.jsxs(P,{variant:"ghost",onClick:()=>t("/admin"),className:"mb-4 pl-0",children:[n.jsx(Ir,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]}),n.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Edit Driver Profile"}),n.jsx(G,{className:"p-6",children:n.jsx(lH,{driverId:e,onSuccess:()=>t("/admin"),onCancel:()=>t("/admin")})})]})},dH=()=>{const{toast:e}=ae(),[t,r]=f.useState({default_driver_commission:70,default_admin_commission:30,base_rate_per_km:1.5,min_fare:50,multiplier_0_50km:1.5,multiplier_50_100km:1.3,multiplier_100_200km:1.2,multiplier_200_plus_km:1,driver_price_override_enabled:!0,max_price_per_km:5});f.useEffect(()=>{s()},[]);const s=async()=>{const{data:i}=await O.from("admin_settings").select("*").maybeSingle();i&&r(i)},a=async()=>{const i={...t};if(i.id){const{error:o}=await O.from("admin_settings").update(i).eq("id",i.id);e(o?{variant:"destructive",title:"Error",description:o.message}:{title:"Success",description:"Settings updated successfully"})}else{const{error:o}=await O.from("admin_settings").insert(i);o?e({variant:"destructive",title:"Error",description:o.message}):(e({title:"Success",description:"Settings created successfully"}),s())}};return n.jsxs("div",{className:"space-y-6 max-w-4xl",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Settings"}),n.jsxs(G,{className:"p-6",children:[n.jsx("h3",{className:"font-bold text-lg mb-4",children:"Commission Settings"}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Admin Commission (%)"}),n.jsx(D,{type:"number",value:t.default_admin_commission,onChange:i=>{const o=Number(i.target.value);r({...t,default_admin_commission:o,default_driver_commission:100-o})}})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Driver Commission (%)"}),n.jsx(D,{type:"number",value:t.default_driver_commission,disabled:!0,className:"bg-gray-50"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-calculated: 100%  Admin Commission"})]})]})]}),n.jsxs(G,{className:"p-6",children:[n.jsx("h3",{className:"font-bold text-lg mb-4",children:"Driver Pricing Controls"}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Allow Driver Custom Pricing"}),n.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[n.jsxs(P,{variant:t.driver_price_override_enabled?"default":"outline",size:"sm",className:t.driver_price_override_enabled?"bg-green-600 hover:bg-green-700":"",onClick:()=>r({...t,driver_price_override_enabled:!0}),children:[n.jsx(bn,{className:"w-4 h-4 mr-1"})," Enabled"]}),n.jsx(P,{variant:t.driver_price_override_enabled?"outline":"default",size:"sm",className:t.driver_price_override_enabled?"":"bg-red-600 hover:bg-red-700",onClick:()=>r({...t,driver_price_override_enabled:!1}),children:"Disabled"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When disabled, all drivers use global pricing"})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Max Driver Rate (/km)"}),n.jsx(D,{type:"number",step:"0.5",value:t.max_price_per_km,onChange:i=>r({...t,max_price_per_km:i.target.value})}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Safety cap  drivers cannot exceed this rate"})]})]})]}),n.jsxs(G,{className:"p-6",children:[n.jsx("h3",{className:"font-bold text-lg mb-4",children:"Global Pricing Defaults"}),n.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Base Rate (/km)"}),n.jsx(D,{type:"number",step:"0.1",value:t.base_rate_per_km,onChange:i=>r({...t,base_rate_per_km:i.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Minimum Fare ()"}),n.jsx(D,{type:"number",value:t.min_fare,onChange:i=>r({...t,min_fare:i.target.value})})]})]}),n.jsx(T,{className:"block mb-2 mt-6",children:"Distance Multipliers"}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{className:"text-xs text-gray-500",children:"0 - 50 km"}),n.jsx(D,{type:"number",step:"0.1",value:t.multiplier_0_50km,onChange:i=>r({...t,multiplier_0_50km:i.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{className:"text-xs text-gray-500",children:"50 - 100 km"}),n.jsx(D,{type:"number",step:"0.1",value:t.multiplier_50_100km,onChange:i=>r({...t,multiplier_50_100km:i.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{className:"text-xs text-gray-500",children:"100 - 200 km"}),n.jsx(D,{type:"number",step:"0.1",value:t.multiplier_100_200km,onChange:i=>r({...t,multiplier_100_200km:i.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{className:"text-xs text-gray-500",children:"200+ km"}),n.jsx(D,{type:"number",step:"0.1",value:t.multiplier_200_plus_km,onChange:i=>r({...t,multiplier_200_plus_km:i.target.value})})]})]})]}),n.jsxs(P,{onClick:a,className:"bg-green-600 w-full md:w-auto",children:[n.jsx(Ea,{className:"w-4 h-4 mr-2"})," Save Changes"]})]})},uH=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Earnings & Revenue"}),n.jsxs(G,{className:"p-12 text-center text-gray-500",children:[n.jsx(Ar,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-medium",children:"Financial Reports"}),n.jsx("p",{children:"Detailed revenue reports and payout management coming soon."})]})]}),Vk=({tour:e,onClose:t})=>{const{toast:r}=ae(),[s,a]=f.useState(!1),[i,o]=f.useState({name_en:(e==null?void 0:e.name_en)||"",name_ka:(e==null?void 0:e.name_ka)||"",name_ru:(e==null?void 0:e.name_ru)||"",description_en:(e==null?void 0:e.description_en)||"",description_ka:(e==null?void 0:e.description_ka)||"",description_ru:(e==null?void 0:e.description_ru)||"",duration_days:(e==null?void 0:e.duration_days)||1,price_per_person:(e==null?void 0:e.price_per_person)||0,rating:(e==null?void 0:e.rating)||5,reviews_count:(e==null?void 0:e.reviews_count)||0,image_url:(e==null?void 0:e.image_url)||"",gallery_images:(e==null?void 0:e.gallery_images)||[],what_included:(e==null?void 0:e.what_included)||[],what_to_bring:(e==null?void 0:e.what_to_bring)||[],best_time_to_visit:(e==null?void 0:e.best_time_to_visit)||[],is_active:(e==null?void 0:e.is_active)??!0,is_featured:(e==null?void 0:e.is_featured)??!1}),l=(d,u)=>{o(h=>({...h,[d]:u}))},c=async d=>{d.preventDefault(),a(!0);try{const u={...i,what_included:typeof i.what_included=="string"?i.what_included.split(",").map(h=>h.trim()):i.what_included,what_to_bring:typeof i.what_to_bring=="string"?i.what_to_bring.split(",").map(h=>h.trim()):i.what_to_bring,best_time_to_visit:typeof i.best_time_to_visit=="string"?i.best_time_to_visit.split(",").map(h=>h.trim()):i.best_time_to_visit};if(e!=null&&e.id){const{error:h}=await O.from("tours").update(u).eq("id",e.id);if(h)throw h;r({title:"Success",description:"Tour updated successfully"})}else{const{error:h}=await O.from("tours").insert(u);if(h)throw h;r({title:"Success",description:"Tour created successfully"})}t(!0)}catch(u){r({variant:"destructive",title:"Error",description:u.message})}finally{a(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[n.jsx("h2",{className:"text-lg font-bold",children:e?"Edit Tour Basic Info":"Create New Tour"}),n.jsx(P,{variant:"ghost",onClick:()=>t(!1),children:"Close"})]}),n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs(ln,{defaultValue:"english",className:"w-full",children:[n.jsxs(Br,{className:"grid w-full grid-cols-3",children:[n.jsx(pe,{value:"english",children:" English"}),n.jsx(pe,{value:"georgian",children:" Georgian"}),n.jsx(pe,{value:"russian",children:" Russian"})]}),n.jsxs(Ne,{value:"english",className:"space-y-4 pt-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Name (EN)"}),n.jsx(D,{required:!0,value:i.name_en,onChange:d=>l("name_en",d.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Description (EN)"}),n.jsx(Ae,{rows:4,value:i.description_en,onChange:d=>l("description_en",d.target.value)})]})]}),n.jsxs(Ne,{value:"georgian",className:"space-y-4 pt-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Name (KA)"}),n.jsx(D,{value:i.name_ka,onChange:d=>l("name_ka",d.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Description (KA)"}),n.jsx(Ae,{rows:4,value:i.description_ka,onChange:d=>l("description_ka",d.target.value)})]})]}),n.jsxs(Ne,{value:"russian",className:"space-y-4 pt-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Name (RU)"}),n.jsx(D,{value:i.name_ru,onChange:d=>l("name_ru",d.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Description (RU)"}),n.jsx(Ae,{rows:4,value:i.description_ru,onChange:d=>l("description_ru",d.target.value)})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Duration (Days)"}),n.jsx(D,{type:"number",required:!0,min:"1",value:i.duration_days,onChange:d=>l("duration_days",d.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Base Price (GEL)"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(D,{type:"number",required:!0,min:"0",value:i.price_per_person,onChange:d=>l("price_per_person",d.target.value)}),n.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:i.price_per_person?oi(i.price_per_person).split(" ")[2]:""})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Main Image URL"}),n.jsx(D,{value:i.image_url,onChange:d=>l("image_url",d.target.value)})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"What's Included (Legacy / Comma separated)"}),n.jsx(Ae,{value:Array.isArray(i.what_included)?i.what_included.join(", "):i.what_included,onChange:d=>l("what_included",d.target.value)}),n.jsx("p",{className:"text-xs text-gray-500",children:"For detailed management use the Tour Details page"})]}),n.jsxs("div",{className:"pt-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fs,{checked:i.is_active,onCheckedChange:d=>l("is_active",d)}),n.jsx(T,{children:"Active Status"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fs,{checked:i.is_featured,onCheckedChange:d=>l("is_featured",d)}),n.jsxs(T,{className:"flex items-center gap-1",children:["Featured Tour ",n.jsx("span",{className:"text-yellow-500 text-xs",children:"(Shows on Home)"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(P,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",disabled:s,children:s?"Saving...":"Save Changes"})]})]})]})},hH=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(null),{toast:c}=ae(),d=ge();f.useEffect(()=>{u()},[]);const u=async()=>{s(!0);try{const{data:g,error:b}=await O.from("tours").select("*").order("created_at",{ascending:!1});if(b)throw b;t(g||[])}catch(g){c({variant:"destructive",title:"Error",description:g.message})}finally{s(!1)}},h=async(g,b)=>{if(window.confirm(`Delete tour "${b}"? This cannot be undone.`))try{const{error:y}=await O.from("tours").delete().eq("id",g);if(y)throw y;c({title:"Tour Deleted"}),u()}catch(y){c({variant:"destructive",title:"Error",description:y.message})}},m=()=>{l(null),i(!0)},p=g=>{l(g),i(!0)},x=g=>{i(!1),l(null),g&&u()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:"Tours Management"}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e.length," total tours"]})]}),n.jsxs(P,{className:"bg-green-600 hover:bg-green-700",onClick:m,children:[n.jsx(ar,{className:"w-4 h-4 mr-2"})," Add New Tour"]})]}),n.jsxs(G,{children:[n.jsx(Jn,{children:n.jsx(Zn,{children:"All Tours"})}),n.jsx(It,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs(Vr,{children:[n.jsx(Ur,{children:n.jsxs(he,{children:[n.jsx(Z,{children:"Tour Name"}),n.jsx(Z,{children:"Duration"}),n.jsx(Z,{children:"Price (Per Person)"}),n.jsx(Z,{children:"Status"}),n.jsx(Z,{className:"text-right",children:"Actions"})]})}),n.jsx(cn,{children:r?n.jsx(he,{children:n.jsx(q,{colSpan:5,className:"text-center py-8",children:"Loading tours..."})}):e.length===0?n.jsx(he,{children:n.jsx(q,{colSpan:5,className:"text-center py-8 text-gray-500",children:'No tours found. Click "Add New Tour" to create one.'})}):e.map(g=>n.jsxs(he,{className:"hover:bg-gray-50",children:[n.jsx(q,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-3",children:[(g.image_url||g.main_image)&&n.jsx("img",{src:g.image_url||g.main_image,alt:g.name_en||g.title_en,className:"w-10 h-10 rounded-md object-cover"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:g.name_en||g.title_en||"Untitled"}),g.name_ka&&n.jsx("div",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:g.name_ka})]})]})}),n.jsx(q,{children:n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Nn,{className:"w-3 h-3 mr-1"})," ",g.duration_days," Day",g.duration_days>1?"s":""]})}),n.jsxs(q,{className:"font-bold text-green-700",children:["",g.price_per_person||g.price||0]}),n.jsxs(q,{children:[g.is_active??g.active?n.jsx(ee,{className:"bg-green-600 hover:bg-green-600",children:"Active"}):n.jsx(ee,{variant:"secondary",children:"Draft"}),g.is_featured&&n.jsx(ee,{className:"ml-1 bg-yellow-100 text-yellow-700 hover:bg-yellow-100 border border-yellow-200",children:"Featured"})]}),n.jsx(q,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"View on site",onClick:()=>window.open(`/tours/${g.id}`,"_blank"),children:n.jsx($o,{className:"w-4 h-4"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Full edit (gallery, pricing, itinerary)",onClick:()=>d(`/paneli/tours/${g.id}`),children:n.jsx(ul,{className:"w-4 h-4"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Quick edit",onClick:()=>p(g),children:n.jsx(Ds,{className:"w-4 h-4"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Delete tour",onClick:()=>h(g.id,g.name_en||g.title_en),children:n.jsx(ir,{className:"w-4 h-4"})})]})})]},g.id))})]})})})]}),n.jsx(tt,{open:a,onOpenChange:g=>{g||x(!1)},children:n.jsx(Qe,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:n.jsx(Vk,{tour:o,onClose:x})})})]})},mH=()=>{var N;const{toast:e}=ae(),[t,r]=f.useState([]),[s,a]=f.useState(!0),[i,o]=f.useState(null),[l,c]=f.useState(!1),[d,u]=f.useState(""),[h,m]=f.useState("all"),[p,x]=f.useState("all"),[g,b]=f.useState({totalBookings:0,totalRevenue:0,totalPassengers:0,paidBookings:0,pendingPayments:0});f.useEffect(()=>{y()},[]);const y=async()=>{a(!0);try{const{data:_,error:E}=await O.from("tour_bookings").select(`
          *,
          tour:tours(name_en, title_en, image_url, main_image)
        `).order("created_at",{ascending:!1});if(E)throw E;const k=_||[];r(k);const $=k.filter(A=>A.payment_status==="completed").reduce((A,M)=>A+(Number(M.total_price_gel)||Number(M.total_price)||0),0),F=k.reduce((A,M)=>A+(Number(M.passenger_count)||1),0),H=k.filter(A=>A.payment_status==="completed").length,B=k.filter(A=>A.payment_status==="pending").length;b({totalBookings:k.length,totalRevenue:$,totalPassengers:F,paidBookings:H,pendingPayments:B})}catch(_){e({variant:"destructive",title:"Error",description:_.message})}finally{a(!1)}},v=async(_,E)=>{try{const{error:k}=await O.from("tour_bookings").update({booking_status:E,updated_at:new Date().toISOString()}).eq("id",_);if(k)throw k;e({title:"Status Updated",description:`Booking marked as ${E}`}),y(),(i==null?void 0:i.id)===_&&o($=>({...$,booking_status:E}))}catch(k){e({variant:"destructive",title:"Error",description:k.message})}},w=t.filter(_=>{const E=!d||(_.passenger_name||"").toLowerCase().includes(d.toLowerCase())||(_.passenger_email||"").toLowerCase().includes(d.toLowerCase())||(_.passenger_phone||"").includes(d)||(_.tour_name||"").toLowerCase().includes(d.toLowerCase())||(_.paypal_transaction_id||"").toLowerCase().includes(d.toLowerCase()),k=h==="all"||_.booking_status===h,$=p==="all"||_.payment_status===p;return E&&k&&$}),j=_=>{switch(_){case"completed":return n.jsx(ee,{className:"bg-green-100 text-green-700 hover:bg-green-100 border-0",children:"Paid"});case"pending":return n.jsx(ee,{className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100 border-0",children:"Pending"});case"failed":return n.jsx(ee,{className:"bg-red-100 text-red-700 hover:bg-red-100 border-0",children:"Failed"});case"refunded":return n.jsx(ee,{className:"bg-blue-100 text-blue-700 hover:bg-blue-100 border-0",children:"Refunded"});default:return n.jsx(ee,{variant:"secondary",children:_||"Unknown"})}},S=_=>{switch(_){case"confirmed":return n.jsx(ee,{className:"bg-blue-100 text-blue-700 hover:bg-blue-100 border-0",children:"Confirmed"});case"completed":return n.jsx(ee,{className:"bg-green-100 text-green-700 hover:bg-green-100 border-0",children:"Completed"});case"cancelled":return n.jsx(ee,{className:"bg-red-100 text-red-700 hover:bg-red-100 border-0",children:"Cancelled"});case"pending":return n.jsx(ee,{className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100 border-0",children:"Pending"});default:return n.jsx(ee,{variant:"secondary",children:_||"Unknown"})}},C=_=>{o(_),c(!0)};return s?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx(de,{className:"w-8 h-8 animate-spin text-green-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:"Tour Bookings"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage tour reservations, passenger data & payments"})]}),n.jsxs(P,{variant:"outline",onClick:y,className:"gap-2",children:[n.jsx($l,{className:"w-4 h-4"})," Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsx(G,{className:"p-4 border-l-4 border-l-blue-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:n.jsx(it,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Total Bookings"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.totalBookings})]})]})}),n.jsx(G,{className:"p-4 border-l-4 border-l-green-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:n.jsx(Ar,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Total Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["",g.totalRevenue.toLocaleString()]})]})]})}),n.jsx(G,{className:"p-4 border-l-4 border-l-purple-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:n.jsx(nr,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Total Passengers"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.totalPassengers})]})]})}),n.jsx(G,{className:"p-4 border-l-4 border-l-emerald-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:n.jsx(ha,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Paid"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.paidBookings})]})]})}),n.jsx(G,{className:"p-4 border-l-4 border-l-yellow-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-yellow-50 rounded-lg",children:n.jsx(ha,{className:"w-5 h-5 text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Pending Pay"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.pendingPayments})]})]})})]}),n.jsx(G,{className:"p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ts,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),n.jsx(D,{placeholder:"Search by name, email, phone, tour or transaction ID...",className:"pl-10",value:d,onChange:_=>u(_.target.value)})]}),n.jsxs(Qt,{value:h,onValueChange:m,children:[n.jsx(Lt,{className:"w-[160px]",children:n.jsx(Jt,{placeholder:"Booking Status"})}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"all",children:"All Statuses"}),n.jsx(ce,{value:"confirmed",children:"Confirmed"}),n.jsx(ce,{value:"completed",children:"Completed"}),n.jsx(ce,{value:"cancelled",children:"Cancelled"}),n.jsx(ce,{value:"pending",children:"Pending"})]})]}),n.jsxs(Qt,{value:p,onValueChange:x,children:[n.jsx(Lt,{className:"w-[160px]",children:n.jsx(Jt,{placeholder:"Payment Status"})}),n.jsxs(Ft,{children:[n.jsx(ce,{value:"all",children:"All Payments"}),n.jsx(ce,{value:"completed",children:"Paid"}),n.jsx(ce,{value:"pending",children:"Pending"}),n.jsx(ce,{value:"failed",children:"Failed"}),n.jsx(ce,{value:"refunded",children:"Refunded"})]})]})]})}),n.jsx(G,{children:n.jsx(It,{className:"p-0",children:n.jsx("div",{className:"rounded-md border",children:n.jsxs(Vr,{children:[n.jsx(Ur,{children:n.jsxs(he,{className:"bg-gray-50",children:[n.jsx(Z,{children:"Passenger"}),n.jsx(Z,{children:"Tour"}),n.jsx(Z,{children:"Date"}),n.jsx(Z,{children:"Travelers"}),n.jsx(Z,{children:"Price"}),n.jsx(Z,{children:"Payment"}),n.jsx(Z,{children:"Status"}),n.jsx(Z,{className:"text-right",children:"Actions"})]})}),n.jsx(cn,{children:w.length===0?n.jsx(he,{children:n.jsx(q,{colSpan:8,className:"text-center py-12 text-gray-500",children:d||h!=="all"||p!=="all"?"No bookings match your filters.":"No tour bookings yet."})}):w.map(_=>{var E,k;return n.jsxs(he,{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>C(_),children:[n.jsx(q,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:_.passenger_name||"N/A"}),n.jsx("div",{className:"text-xs text-gray-500",children:_.passenger_email}),n.jsx("div",{className:"text-xs text-gray-400",children:_.passenger_phone})]})}),n.jsx(q,{children:n.jsx("div",{className:"max-w-[180px] truncate font-medium text-gray-700",children:_.tour_name||((E=_.tour)==null?void 0:E.name_en)||((k=_.tour)==null?void 0:k.title_en)||"Unknown Tour"})}),n.jsx(q,{children:n.jsx("div",{className:"text-sm",children:_.tour_date?new Date(_.tour_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"})}),n.jsx(q,{children:n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(nr,{className:"w-3 h-3 text-gray-400"}),_.passenger_count||1]})}),n.jsx(q,{children:n.jsxs("div",{children:[n.jsxs("div",{className:"font-bold text-green-700",children:["",_.total_price_gel||_.total_price||0]}),_.total_price_usd&&n.jsxs("div",{className:"text-xs text-gray-400",children:["$",_.total_price_usd," USD"]})]})}),n.jsx(q,{children:j(_.payment_status)}),n.jsx(q,{children:S(_.booking_status)}),n.jsx(q,{className:"text-right",onClick:$=>$.stopPropagation(),children:n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>C(_),children:n.jsx(ul,{className:"w-4 h-4"})})})]},_.id)})})]})})})}),n.jsx(tt,{open:l,onOpenChange:c,children:n.jsxs(Qe,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(bt,{children:[n.jsx(wt,{className:"text-xl",children:"Tour Booking Details"}),n.jsx($r,{children:"Full booking, passenger and payment information"})]}),i&&n.jsxs("div",{className:"space-y-6 pt-2",children:[n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-3",children:[n.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(nr,{className:"w-4 h-4 text-gray-500"})," Passenger Information"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Full Name"}),n.jsx("span",{className:"font-semibold text-gray-900",children:i.passenger_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Email"}),n.jsx("span",{className:"text-gray-900",children:i.passenger_email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Phone"}),n.jsx("span",{className:"text-gray-900",children:i.passenger_phone||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Number of Travelers"}),n.jsx("span",{className:"font-semibold text-gray-900",children:i.passenger_count||1})]})]}),i.special_requests&&n.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Special Requests"}),n.jsx("p",{className:"text-sm text-gray-700 italic",children:i.special_requests})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 space-y-3",children:[n.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(it,{className:"w-4 h-4 text-blue-500"})," Tour Information"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Tour"}),n.jsx("span",{className:"font-semibold text-gray-900",children:i.tour_name||((N=i.tour)==null?void 0:N.name_en)||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Tour Date"}),n.jsx("span",{className:"text-gray-900",children:i.tour_date?new Date(i.tour_date).toLocaleDateString("en-GB",{weekday:"long",day:"2-digit",month:"long",year:"numeric"}):"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Booking Status"}),S(i.booking_status)]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Booked On"}),n.jsx("span",{className:"text-gray-900",children:i.created_at?new Date(i.created_at).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"})]})]})]}),n.jsxs("div",{className:"bg-green-50 rounded-xl p-4 space-y-3",children:[n.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(Ar,{className:"w-4 h-4 text-green-600"})," Financial Details"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Total Price (GEL)"}),n.jsxs("span",{className:"text-xl font-bold text-green-700",children:["",i.total_price_gel||i.total_price||0]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Total Price (USD)"}),n.jsxs("span",{className:"text-xl font-bold text-gray-700",children:["$",i.total_price_usd||""]})]}),i.discount_percent>0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Discount Applied"}),n.jsxs("span",{className:"text-green-600 font-bold",children:[i.discount_percent,"%"]})]})]})]}),n.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4 space-y-3",children:[n.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(ha,{className:"w-4 h-4 text-indigo-600"})," PayPal Payment"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Payment Status"}),j(i.payment_status)]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Transaction ID"}),n.jsx("span",{className:"font-mono text-xs text-gray-700 bg-white px-2 py-1 rounded border",children:i.paypal_transaction_id||"No transaction"})]}),i.paypal_order_id&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"PayPal Order ID"}),n.jsx("span",{className:"font-mono text-xs text-gray-700 bg-white px-2 py-1 rounded border",children:i.paypal_order_id})]}),i.paypal_payer_email&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Payer Email"}),n.jsx("span",{className:"text-gray-700",children:i.paypal_payer_email})]}),i.updated_at&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 block text-xs font-medium mb-0.5",children:"Last Updated"}),n.jsx("span",{className:"text-gray-700",children:new Date(i.updated_at).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),n.jsxs("div",{className:"pt-3 mt-3 border-t border-indigo-100",children:[n.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Payment Timeline"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),n.jsxs("span",{className:"text-gray-600",children:["Booking created  ",i.created_at?new Date(i.created_at).toLocaleString("en-GB",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"N/A"]})]}),i.payment_status==="completed"&&i.paypal_transaction_id&&n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),n.jsxs("span",{className:"text-green-700 font-medium",children:["PayPal payment captured  Transaction: ",i.paypal_transaction_id,i.updated_at&&n.jsx("span",{className:"text-gray-400 font-normal ml-2",children:new Date(i.updated_at).toLocaleString("en-GB",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})})]})]}),i.payment_status==="failed"&&n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),n.jsxs("span",{className:"text-red-600 font-medium",children:["Payment failed",i.updated_at&&n.jsx("span",{className:"text-gray-400 font-normal ml-2",children:new Date(i.updated_at).toLocaleString("en-GB",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})})]})]}),i.payment_status==="pending"&&n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400 animate-pulse"}),n.jsx("span",{className:"text-yellow-700",children:"Awaiting PayPal payment..."})]}),i.payment_status==="refunded"&&n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),n.jsx("span",{className:"text-blue-700 font-medium",children:"Payment refunded"})]}),i.booking_status==="cancelled"&&n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),n.jsx("span",{className:"text-red-600",children:"Booking cancelled"})]})]})]})]}),n.jsxs("div",{className:"text-xs text-gray-400 pt-2 border-t",children:["Booking ID: ",n.jsx("span",{className:"font-mono",children:i.id})]}),n.jsx("div",{className:"flex gap-3 pt-2",children:i.booking_status!=="completed"&&i.booking_status!=="cancelled"&&n.jsxs(n.Fragment,{children:[n.jsx(P,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>v(i.id,"completed"),children:"Mark Completed"}),n.jsx(P,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>v(i.id,"cancelled"),children:"Cancel Booking"})]})})]})]})})]})},fH=async e=>{const{data:t,error:r}=await O.from("tours").select("*").eq("id",e).single();if(r)throw r;return t},Bn=async(e,t)=>{const{data:r,error:s}=await O.from("tours").update(t).eq("id",e).select().single();if(s)throw s;return r},pH=async(e,t)=>{const r=t.name.split(".").pop(),s=`tours/${e}/${Date.now()}-${Math.random().toString(36).substring(7)}.${r}`,{error:a}=await O.storage.from("car-photos").upload(s,t);if(a)throw a;const{data:{publicUrl:i}}=O.storage.from("car-photos").getPublicUrl(s);return i},gH=({image:e,index:t,onRemove:r,isMain:s})=>{const a=Ax();return n.jsxs(Dx,{value:e,dragListener:!1,dragControls:a,className:"relative group aspect-video rounded-lg overflow-hidden border border-gray-200 bg-gray-50 shadow-sm",children:[n.jsx("img",{src:e,alt:`Gallery ${t+1}`,className:"w-full h-full object-cover"}),n.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[n.jsx("div",{className:"p-2 bg-white rounded-full cursor-move hover:bg-gray-100",onPointerDown:i=>a.start(i),children:n.jsx(yu,{className:"w-4 h-4 text-gray-600"})}),n.jsx("button",{onClick:()=>r(e),className:"p-2 bg-white rounded-full hover:bg-red-50 text-red-600",children:n.jsx(Dt,{className:"w-4 h-4"})})]}),s&&n.jsxs("div",{className:"absolute top-2 left-2 bg-yellow-400 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1 shadow-sm font-bold",children:[n.jsx(ut,{className:"w-3 h-3 fill-white"})," Main"]})]})},xH=({tour:e,onUpdate:t})=>{const{toast:r}=ae(),[s,a]=f.useState(e.gallery_images||[]),[i,o]=f.useState(!1),l=async u=>{const h=Array.from(u.target.files);if(h.length){if(s.length+h.length>10){r({variant:"destructive",title:"Limit exceeded",description:"Maximum 10 images allowed per tour."});return}o(!0);try{const m=h.map(g=>pH(e.id,g)),p=await Promise.all(m),x=[...s,...p];a(x),await Bn(e.id,{gallery_images:x}),t({...e,gallery_images:x}),r({title:"Success",description:"Images uploaded successfully"})}catch(m){console.error(m),r({variant:"destructive",title:"Upload failed",description:m.message})}finally{o(!1),u.target.value=""}}},c=async u=>{if(!window.confirm("Delete this image?"))return;const h=s.filter(m=>m!==u);a(h);try{await Bn(e.id,{gallery_images:h}),t({...e,gallery_images:h})}catch{r({variant:"destructive",title:"Error",description:"Failed to delete image"})}},d=async u=>{a(u);try{await Bn(e.id,{gallery_images:u})}catch(h){console.error("Failed to reorder",h)}};return n.jsxs(G,{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Gallery Images"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Drag to reorder. First image is the main cover."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:[s.length,"/10"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed",onChange:l,disabled:i||s.length>=10}),n.jsxs(P,{variant:"outline",disabled:i||s.length>=10,children:[i?n.jsx(de,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(hl,{className:"w-4 h-4 mr-2"}),"Add Images"]})]})]})]}),n.jsx(Rx,{axis:"y",values:s,onReorder:d,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map((u,h)=>n.jsx(gH,{image:u,index:h,onRemove:c,isMain:h===0},u))}),s.length===0&&n.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg text-gray-400 bg-gray-50",children:[n.jsx(hl,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No images yet. Upload some photos to showcase the tour."})]})]})};var[Ku,HW]=Ut("Tooltip",[Yi]),Yu=Yi(),Uk="TooltipProvider",vH=700,ep="tooltip.open",[yH,Zx]=Ku(Uk),zk=e=>{const{__scopeTooltip:t,delayDuration:r=vH,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=f.useState(!0),c=f.useRef(!1),d=f.useRef(0);return f.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),n.jsx(yH,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};zk.displayName=Uk;var Xu="Tooltip",[bH,Qu]=Ku(Xu),Hk=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Zx(Xu,e.__scopeTooltip),d=Yu(t),[u,h]=f.useState(null),m=fr(),p=f.useRef(0),x=o??c.disableHoverableContent,g=l??c.delayDuration,b=f.useRef(!1),[y=!1,v]=yr({prop:s,defaultProp:a,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(ep))):c.onClose(),i==null||i(N)}}),w=f.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),j=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,v(!0)},[v]),S=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),C=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,v(!0),p.current=0},g)},[g,v]);return f.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(Ig,{...d,children:n.jsx(bH,{scope:t,contentId:m,open:y,stateAttribute:w,trigger:u,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayed?C():j()},[c.isOpenDelayed,C,j]),onTriggerLeave:f.useCallback(()=>{x?S():(window.clearTimeout(p.current),p.current=0)},[S,x]),onOpen:j,onClose:S,disableHoverableContent:x,children:r})})};Hk.displayName=Xu;var tp="TooltipTrigger",Wk=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Qu(tp,r),i=Zx(tp,r),o=Yu(r),l=f.useRef(null),c=ve(t,l,a.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Lg,{asChild:!0,...o,children:n.jsx(ne.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:K(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:K(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:K(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:K(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:K(e.onBlur,a.onClose),onClick:K(e.onClick,a.onClose)})})});Wk.displayName=tp;var wH="TooltipPortal",[WW,jH]=Ku(wH,{forceMount:void 0}),Di="TooltipContent",Gk=f.forwardRef((e,t)=>{const r=jH(Di,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=Qu(Di,e.__scopeTooltip);return n.jsx(_r,{present:s||o.open,children:o.disableHoverableContent?n.jsx(qk,{side:a,...i,ref:t}):n.jsx(NH,{side:a,...i,ref:t})})}),NH=f.forwardRef((e,t)=>{const r=Qu(Di,e.__scopeTooltip),s=Zx(Di,e.__scopeTooltip),a=f.useRef(null),i=ve(t,a),[o,l]=f.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:h}=s,m=f.useCallback(()=>{l(null),h(!1)},[h]),p=f.useCallback((x,g)=>{const b=x.currentTarget,y={x:x.clientX,y:x.clientY},v=kH(y,b.getBoundingClientRect()),w=TH(y,v),j=EH(g.getBoundingClientRect()),S=AH([...w,...j]);l(S),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const x=b=>p(b,u),g=b=>p(b,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",g)}}},[c,u,p,m]),f.useEffect(()=>{if(o){const x=g=>{const b=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(b))||(u==null?void 0:u.contains(b)),w=!PH(y,o);v?m():w&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,m]),n.jsx(qk,{...e,ref:i})}),[_H,SH]=Ku(Xu,{isInside:!1}),qk=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Qu(Di,r),d=Yu(r),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(ep,u),()=>document.removeEventListener(ep,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),n.jsx(Vi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:n.jsxs(Fg,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(iN,{children:s}),n.jsx(_H,{scope:r,isInside:!0,children:n.jsx(tR,{id:c.contentId,role:"tooltip",children:a||s})})]})})});Gk.displayName=Di;var Kk="TooltipArrow",CH=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Yu(r);return SH(Kk,r).isInside?null:n.jsx($g,{...a,...s,ref:t})});CH.displayName=Kk;function kH(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function TH(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function EH(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function PH(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function AH(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),RH(t)}function RH(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var DH=zk,MH=Hk,OH=Wk,Yk=Gk;const IH=DH,LH=MH,FH=OH,Xk=f.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(Yk,{ref:s,sideOffset:t,className:Q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Xk.displayName=Yk.displayName;const $H=({tour:e,onUpdate:t})=>{const{toast:r}=ae(),[s,a]=f.useState(!1),[i,o]=f.useState({price_per_person:e.price_per_person||0,group_discount_percent:e.group_discount_percent||0,group_discount_min_size:e.group_discount_min_size||4,early_bird_discount_percent:e.early_bird_discount_percent||0,early_bird_deadline_days:e.early_bird_deadline_days||0}),l=(m,p)=>{o(x=>({...x,[m]:parseFloat(p)||0}))},c=async()=>{a(!0);try{await Bn(e.id,i),t({...e,...i}),r({title:"Pricing updated"})}catch(m){r({variant:"destructive",title:"Error",description:m.message})}finally{a(!1)}},d=i.price_per_person,u=d*(1-i.group_discount_percent/100),h=d*(1-i.early_bird_discount_percent/100);return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs(G,{className:"p-6 space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Pricing Settings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Base Price (GEL) per person"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(D,{type:"number",min:"0",value:i.price_per_person,onChange:m=>l("price_per_person",m.target.value),className:"text-lg font-bold"}),n.jsxs("span",{className:"text-sm text-gray-500 font-medium whitespace-nowrap",children:[oi(i.price_per_person).split(" ")[2]," "]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(T,{className:"flex items-center gap-2",children:["Group Discount (%)",n.jsx(IH,{children:n.jsxs(LH,{children:[n.jsx(FH,{children:n.jsx(tn,{className:"w-3 h-3 text-gray-400"})}),n.jsx(Xk,{children:"Discount applied for large groups"})]})})]}),n.jsx(D,{type:"number",min:"0",max:"100",value:i.group_discount_percent,onChange:m=>l("group_discount_percent",m.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Min. Group Size"}),n.jsx(D,{type:"number",min:"2",value:i.group_discount_min_size,onChange:m=>l("group_discount_min_size",m.target.value)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{className:"flex items-center gap-2",children:"Early Bird Discount (%)"}),n.jsx(D,{type:"number",min:"0",max:"100",value:i.early_bird_discount_percent,onChange:m=>l("early_bird_discount_percent",m.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Days in Advance"}),n.jsx(D,{type:"number",min:"0",value:i.early_bird_deadline_days,onChange:m=>l("early_bird_deadline_days",m.target.value)})]})]})]}),n.jsx("div",{className:"pt-4 flex justify-end",children:n.jsxs(P,{onClick:c,disabled:s,className:"bg-green-600 hover:bg-green-700",children:[s?n.jsx(de,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Save Pricing"]})})]}),n.jsxs(G,{className:"p-6 bg-slate-50 border-slate-200",children:[n.jsx("h3",{className:"text-lg font-semibold border-b border-slate-200 pb-2 mb-4 text-slate-700",children:"Price Preview"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg shadow-sm border border-slate-100",children:[n.jsx("span",{className:"font-medium text-slate-600",children:"Standard Price"}),n.jsx("span",{className:"font-bold text-xl text-slate-900",children:oi(d)})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg shadow-sm border border-slate-100",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-slate-600 block",children:"Group Price"}),n.jsxs("span",{className:"text-xs text-slate-400",children:["For ",i.group_discount_min_size,"+ people (",i.group_discount_percent,"% off)"]})]}),n.jsx("span",{className:"font-bold text-xl text-green-600",children:oi(u)})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg shadow-sm border border-slate-100",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-slate-600 block",children:"Early Bird Price"}),n.jsxs("span",{className:"text-xs text-slate-400",children:["Booked ",i.early_bird_deadline_days,"+ days ahead (",i.early_bird_discount_percent,"% off)"]})]}),n.jsx("span",{className:"font-bold text-xl text-blue-600",children:oi(h)})]})]})]})]})},BH=({item:e,index:t,onEdit:r,onDelete:s})=>{const a=Ax();return n.jsxs(Dx,{value:e,dragListener:!1,dragControls:a,className:"flex items-start gap-4 p-4 bg-white border rounded-lg shadow-sm mb-3 group",children:[n.jsx("div",{className:"mt-1 cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600 p-1",onPointerDown:i=>a.start(i),children:n.jsx(yu,{className:"w-5 h-5"})}),n.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 text-green-700 flex items-center justify-center font-bold text-sm",children:t+1}),n.jsxs("div",{className:"flex-grow",children:[n.jsx("h4",{className:"font-bold text-gray-900",children:e.title}),n.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:e.description}),n.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-gray-400",children:[e.duration&&n.jsxs("span",{children:[" ",e.duration]}),e.meals&&n.jsxs("span",{children:[" ",e.meals]})]})]}),n.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx(P,{size:"icon",variant:"ghost",onClick:()=>r(e,t),children:n.jsx(Ds,{className:"w-4 h-4 text-blue-600"})}),n.jsx(P,{size:"icon",variant:"ghost",onClick:()=>s(t),children:n.jsx(ir,{className:"w-4 h-4 text-red-600"})})]})]})},VH=({tour:e,onUpdate:t})=>{const{toast:r}=ae(),[s,a]=f.useState(e.itinerary||[]),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({title:"",description:"",duration:"",meals:"",accommodation:""}),h=(g=null,b=null)=>{g?(u(g),c(b)):(u({title:"",description:"",duration:"",meals:"",accommodation:""}),c(null)),o(!0)},m=async()=>{let g=[...s];l!==null?g[l]=d:g.push(d),a(g),o(!1);try{await Bn(e.id,{itinerary:g}),t({...e,itinerary:g}),r({title:"Itinerary updated"})}catch{r({variant:"destructive",title:"Error",description:"Failed to save itinerary"})}},p=async g=>{if(!window.confirm("Remove this day from itinerary?"))return;const b=s.filter((y,v)=>v!==g);a(b);try{await Bn(e.id,{itinerary:b}),t({...e,itinerary:b})}catch{r({variant:"destructive",title:"Error",description:"Failed to delete item"})}},x=async g=>{a(g);try{await Bn(e.id,{itinerary:g}),t({...e,itinerary:g})}catch{}};return n.jsxs(G,{className:"p-6 bg-gray-50/50",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Itinerary Days"}),n.jsxs(P,{onClick:()=>h(),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"})," Add Day"]})]}),n.jsx(Rx,{axis:"y",values:s,onReorder:x,children:s.map((g,b)=>n.jsx(BH,{item:g,index:b,onEdit:h,onDelete:p},`${g.title}-${b}`))}),s.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500 italic",children:"No itinerary items yet. Add day-by-day details."}),n.jsx(tt,{open:i,onOpenChange:o,children:n.jsxs(Qe,{children:[n.jsx(bt,{children:n.jsx(wt,{children:l!==null?"Edit Day":"Add New Day"})}),n.jsxs("div",{className:"space-y-4 py-2",children:[n.jsxs("div",{children:[n.jsx(T,{children:'Title (e.g. "Arrival in Tbilisi")'}),n.jsx(D,{value:d.title,onChange:g=>u({...d,title:g.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Description"}),n.jsx(Ae,{rows:3,value:d.description,onChange:g=>u({...d,description:g.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Duration (optional)"}),n.jsx(D,{placeholder:"e.g. 5 hours",value:d.duration,onChange:g=>u({...d,duration:g.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Meals (optional)"}),n.jsx(D,{placeholder:"e.g. Breakfast, Dinner",value:d.meals,onChange:g=>u({...d,meals:g.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Accommodation (optional)"}),n.jsx(D,{placeholder:"e.g. Hotel Stamba",value:d.accommodation,onChange:g=>u({...d,accommodation:g.target.value})})]}),n.jsx(P,{className:"w-full mt-2",onClick:m,children:"Save Day"})]})]})})]})},xw=({tour:e,onUpdate:t,type:r="included"})=>{const{toast:s}=ae(),a=r==="included"?"what_included":"what_to_bring",i=r==="included"?"What's Included":"What to Bring",[o,l]=f.useState(e[a]||[]),[c,d]=f.useState(""),u=async m=>{if(m.preventDefault(),!c.trim())return;const p=[...o,c.trim()];l(p),d("");try{await Bn(e.id,{[a]:p}),t({...e,[a]:p})}catch{s({variant:"destructive",title:"Error",description:"Failed to update"})}},h=async m=>{const p=o.filter((x,g)=>g!==m);l(p);try{await Bn(e.id,{[a]:p}),t({...e,[a]:p})}catch{s({variant:"destructive",title:"Error",description:"Failed to update"})}};return n.jsxs(G,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:i}),n.jsxs("form",{onSubmit:u,className:"flex gap-2 mb-4",children:[n.jsx(D,{placeholder:"Add new item...",value:c,onChange:m=>d(m.target.value)}),n.jsx(P,{type:"submit",size:"icon",className:"shrink-0 bg-green-600 hover:bg-green-700",children:n.jsx(ar,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[o.map((m,p)=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-md group",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(jn,{className:"w-4 h-4 text-green-600 shrink-0"}),n.jsx("span",{className:"text-sm font-medium",children:m})]}),n.jsx("button",{onClick:()=>h(p),className:"text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Dt,{className:"w-4 h-4"})})]},p)),o.length===0&&n.jsx("p",{className:"text-sm text-gray-400 text-center py-2",children:"No items added yet."})]})]})},UH=()=>{const{tourId:e}=an(),t=ge(),{toast:r}=ae(),[s,a]=f.useState(null),[i,o]=f.useState(!0),[l,c]=f.useState(!1);f.useEffect(()=>{d()},[e]);const d=async()=>{o(!0);try{const h=await fH(e);a(h)}catch(h){console.error(h),r({variant:"destructive",title:"Error",description:"Failed to load tour details"}),t("/admin/tours")}finally{o(!1)}},u=h=>{a(m=>({...m,...h}))};return i?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx(de,{className:"w-8 h-8 animate-spin text-green-600"})}):s?n.jsxs("div",{className:"container-custom py-8 space-y-8 pb-20",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(P,{variant:"outline",size:"icon",onClick:()=>t("/admin/tours"),children:n.jsx(Ir,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.name_en,s.is_featured&&n.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-xs px-2 py-0.5 rounded-full border border-yellow-200",children:"Featured"}),!s.is_active&&n.jsx("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-0.5 rounded-full border border-red-200",children:"Inactive"})]}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["ID: ",s.id]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(P,{variant:"outline",onClick:()=>window.open(`/tours/${s.id}`,"_blank"),children:[n.jsx(MN,{className:"w-4 h-4 mr-2"})," View Live"]}),n.jsx(P,{onClick:()=>c(!0),children:"Edit Basic Info"})]})]}),n.jsxs(ln,{defaultValue:"gallery",className:"w-full",children:[n.jsxs(Br,{className:"grid w-full grid-cols-2 md:grid-cols-5 bg-gray-100 p-1 rounded-xl",children:[n.jsx(pe,{value:"gallery",children:"Gallery"}),n.jsx(pe,{value:"pricing",children:"Pricing"}),n.jsx(pe,{value:"itinerary",children:"Itinerary"}),n.jsx(pe,{value:"included",children:"Inclusions"}),n.jsx(pe,{value:"tobring",children:"To Bring"})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx(Ne,{value:"gallery",children:n.jsx(xH,{tour:s,onUpdate:u})}),n.jsx(Ne,{value:"pricing",children:n.jsx($H,{tour:s,onUpdate:u})}),n.jsx(Ne,{value:"itinerary",children:n.jsx(VH,{tour:s,onUpdate:u})}),n.jsx(Ne,{value:"included",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.jsx(xw,{tour:s,onUpdate:u,type:"included"})})}),n.jsx(Ne,{value:"tobring",children:n.jsx("div",{className:"max-w-2xl",children:n.jsx(xw,{tour:s,onUpdate:u,type:"bring"})})})]})]}),n.jsx(tt,{open:l,onOpenChange:c,children:n.jsx(Qe,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:n.jsx(Vk,{tour:s,onClose:h=>{c(!1),h&&d()}})})})]}):null},zH=({transfer:e,onClose:t})=>{const{toast:r}=ae(),[s,a]=f.useState(!1),[i,o]=f.useState([]),[l,c]=f.useState({name_en:(e==null?void 0:e.name_en)||"",name_ka:(e==null?void 0:e.name_ka)||"",name_ru:(e==null?void 0:e.name_ru)||"",from_location_id:(e==null?void 0:e.from_location_id)||"",to_location_id:(e==null?void 0:e.to_location_id)||"",distance_km:(e==null?void 0:e.distance_km)||0,duration_minutes:(e==null?void 0:e.duration_minutes)||0,base_price:(e==null?void 0:e.base_price)||0,image_url:(e==null?void 0:e.image_url)||"",is_active:(e==null?void 0:e.is_active)??!0,slug:(e==null?void 0:e.slug)||""});f.useEffect(()=>{(async()=>{const{data:m}=await O.from("locations").select("id, name_en").order("name_en");o(m||[])})()},[]);const d=(h,m)=>{c(p=>({...p,[h]:m}))},u=async h=>{h.preventDefault(),a(!0);const m={...l,from_location_id:l.from_location_id===""?null:l.from_location_id,to_location_id:l.to_location_id===""?null:l.to_location_id,distance_km:l.distance_km===""?0:Number(l.distance_km),duration_minutes:l.duration_minutes===""?0:Number(l.duration_minutes),base_price:l.base_price===""?0:Number(l.base_price)};try{if(e!=null&&e.id){const{error:p}=await O.from("transfers").update(m).eq("id",e.id);if(p)throw p;r({title:"Success",description:"Transfer updated"})}else{const{error:p}=await O.from("transfers").insert(m);if(p)throw p;r({title:"Success",description:"Transfer created"})}t(!0)}catch(p){console.error("Transfer save error:",p),r({variant:"destructive",title:"Error",description:p.message})}finally{a(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[n.jsx("h2",{className:"text-lg font-bold",children:e?"Edit Transfer":"Create New Transfer"}),n.jsx(P,{variant:"ghost",onClick:()=>t(!1),children:"Close"})]}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(T,{children:"Transfer Image"}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Fn,{bucketName:"car-photos",pathPrefix:"transfers",onUploadComplete:h=>d("image_url",h),className:"h-40"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(T,{className:"text-xs text-gray-500 mb-1",children:"Image URL (Manual)"}),n.jsx(D,{value:l.image_url,onChange:h=>d("image_url",h.target.value),placeholder:"https://..."}),l.image_url&&n.jsx("div",{className:"mt-2 rounded-md overflow-hidden h-28 border border-gray-200",children:n.jsx("img",{src:l.image_url,alt:"Preview",className:"w-full h-full object-cover"})})]})]})]}),n.jsxs(ln,{defaultValue:"english",className:"w-full",children:[n.jsxs(Br,{className:"grid w-full grid-cols-3",children:[n.jsx(pe,{value:"english",children:" English"}),n.jsx(pe,{value:"georgian",children:" Georgian"}),n.jsx(pe,{value:"russian",children:" Russian"})]}),n.jsx(Ne,{value:"english",className:"pt-4",children:n.jsx(D,{placeholder:"Route Name (e.g. Tbilisi to Batumi)",value:l.name_en,onChange:h=>d("name_en",h.target.value)})}),n.jsx(Ne,{value:"georgian",className:"pt-4",children:n.jsx(D,{placeholder:" ",value:l.name_ka,onChange:h=>d("name_ka",h.target.value)})}),n.jsx(Ne,{value:"russian",className:"pt-4",children:n.jsx(D,{placeholder:" ",value:l.name_ru,onChange:h=>d("name_ru",h.target.value)})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"From"}),n.jsxs(Qt,{value:l.from_location_id,onValueChange:h=>d("from_location_id",h),children:[n.jsx(Lt,{children:n.jsx(Jt,{placeholder:"Select location"})}),n.jsx(Ft,{className:"max-h-60",children:i.map(h=>n.jsx(ce,{value:h.id,children:h.name_en},h.id))})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"To"}),n.jsxs(Qt,{value:l.to_location_id,onValueChange:h=>d("to_location_id",h),children:[n.jsx(Lt,{children:n.jsx(Jt,{placeholder:"Select location"})}),n.jsx(Ft,{className:"max-h-60",children:i.map(h=>n.jsx(ce,{value:h.id,children:h.name_en},h.id))})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Distance (km)"}),n.jsx(D,{type:"number",value:l.distance_km,onChange:h=>d("distance_km",h.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Duration (min)"}),n.jsx(D,{type:"number",value:l.duration_minutes,onChange:h=>d("duration_minutes",h.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Base Price (GEL)"}),n.jsx(D,{type:"number",value:l.base_price,onChange:h=>d("base_price",h.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Slug (URL)"}),n.jsx(D,{value:l.slug,onChange:h=>d("slug",h.target.value)})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fs,{checked:l.is_active,onCheckedChange:h=>d("is_active",h)}),n.jsx(T,{children:"Active Status"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(P,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",disabled:s,children:s?"Saving...":"Save Transfer"})]})]})]})},HH=({controls:e})=>n.jsx("div",{onPointerDown:t=>e.start(t),className:"cursor-grab active:cursor-grabbing p-2 hover:bg-gray-100 rounded touch-none",children:n.jsx(yu,{className:"w-4 h-4 text-gray-400"})}),WH=({transfer:e,index:t,onEdit:r,onDelete:s,onDragEnd:a})=>{var o,l;const i=Ax();return n.jsxs(Dx,{value:e,as:"tr",id:e.id,dragListener:!1,dragControls:i,onDragEnd:a,className:"bg-white border-b hover:bg-gray-50 transition-colors relative",style:{position:"relative"},children:[n.jsx(q,{className:"w-[50px]",children:n.jsx(HH,{controls:i})}),n.jsx(q,{className:"text-center font-mono text-xs text-gray-400 w-[50px]",children:t+1}),n.jsx(q,{className:"font-medium",children:e.name_en}),n.jsx(q,{children:(o=e.from_location)==null?void 0:o.name_en}),n.jsx(q,{children:(l=e.to_location)==null?void 0:l.name_en}),n.jsxs(q,{children:[e.distance_km," km"]}),n.jsxs(q,{children:["",e.base_price]}),n.jsx(q,{children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${e.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.is_active?"Active":"Inactive"})}),n.jsx(q,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(P,{size:"icon",variant:"ghost",onClick:()=>r(e),children:n.jsx(Ds,{className:"w-4 h-4 text-blue-600"})}),n.jsx(P,{size:"icon",variant:"ghost",onClick:()=>s(e.id),children:n.jsx(ir,{className:"w-4 h-4 text-red-600"})})]})})]})},GH=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(null),{toast:u}=ae(),h=async()=>{s(!0);try{const y=await NS();t(y||[])}catch(y){console.error("Failed to fetch transfers",y)}finally{s(!1)}};f.useEffect(()=>{h()},[]);const m=async y=>{if(!window.confirm("Are you sure?"))return;const{error:v}=await O.from("transfers").delete().eq("id",y);v?u({variant:"destructive",title:"Error",description:v.message}):(u({title:"Success",description:"Transfer deleted"}),h())},p=y=>{d(y),l(!0)},x=()=>{d(null),l(!0)},g=y=>{l(!1),d(null),y&&h()},b=async y=>{t(y),i(!0);try{await O$(y),u({title:"Order Updated",description:"New display order has been saved.",duration:2e3})}catch{u({variant:"destructive",title:"Save Failed",description:"Could not save the new order. Refreshing..."}),h()}finally{i(!1)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"flex items-center gap-2",children:a&&n.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[n.jsx(de,{className:"w-3 h-3 animate-spin"})," Saving order..."]})}),n.jsxs(P,{onClick:x,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"})," Add New Transfer"]})]}),n.jsx("div",{className:"bg-white rounded-md border overflow-hidden",children:n.jsxs(Vr,{children:[n.jsx(Ur,{children:n.jsxs(he,{children:[n.jsx(Z,{className:"w-[50px]"}),n.jsx(Z,{className:"w-[50px] text-center",children:"#"}),n.jsx(Z,{children:"Route (EN)"}),n.jsx(Z,{children:"From"}),n.jsx(Z,{children:"To"}),n.jsx(Z,{children:"Distance"}),n.jsx(Z,{children:"Price"}),n.jsx(Z,{children:"Status"}),n.jsx(Z,{className:"text-right",children:"Actions"})]})}),n.jsx(Rx,{as:"tbody",axis:"y",values:e,onReorder:b,className:"[&_tr]:border-b",children:r?n.jsx(he,{children:n.jsx(q,{colSpan:9,className:"text-center py-8",children:"Loading..."})}):e.length===0?n.jsx(he,{children:n.jsx(q,{colSpan:9,className:"text-center py-8",children:"No transfers found."})}):e.map((y,v)=>n.jsx(WH,{transfer:y,index:v,onEdit:p,onDelete:m},y.id))})]})}),n.jsx(tt,{open:o,onOpenChange:l,children:n.jsx(Qe,{className:"max-w-3xl overflow-y-auto max-h-[90vh]",children:o&&n.jsx(zH,{transfer:c,onClose:g})})})]})},qH=()=>{const e=ge();return n.jsxs("div",{className:"container-custom py-8 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(P,{variant:"ghost",onClick:()=>e("/admin/dashboard"),children:[n.jsx(Ir,{className:"w-4 h-4 mr-2"})," Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transfers Management"})]}),n.jsx(GH,{})]})},KH=({settings:e,activeLanguage:t="en"})=>{const r=o=>e&&(e[`${o}_${t}`]||e[`${o}_en`])||"",s=r("title"),a=r("subtitle"),i=(e==null?void 0:e.image_url)||"https://images.unsplash.com/photo-1565008447742-97f6f38c985c?q=80&w=2000&auto=format&fit=crop";return n.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden shadow-md bg-white",children:[n.jsxs("div",{className:"bg-gray-100 px-4 py-2 border-b flex justify-between items-center",children:[n.jsxs("span",{className:"font-semibold text-sm text-gray-700",children:["Live Preview (",t.toUpperCase(),")"]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),n.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]})]}),n.jsxs("div",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden group",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("img",{src:i,alt:"Hero Background Preview",className:"w-full h-full object-cover transition-transform duration-700"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/40 to-black/60"})]}),n.jsxs("div",{className:"relative z-10 w-full px-8 py-12 flex flex-col items-center",children:[n.jsxs("div",{className:"max-w-2xl text-center mb-8",children:[n.jsx("h1",{className:"text-3xl md:text-5xl font-heading font-bold text-white mb-4 tracking-tight drop-shadow-lg",children:s}),n.jsx("p",{className:"text-lg text-gray-100 font-light leading-relaxed drop-shadow-md",children:a})]}),n.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-xl p-4 w-full max-w-3xl border border-white/20 transform scale-90 md:scale-100 origin-top",children:n.jsx("div",{className:"text-center text-gray-400 py-4 text-sm border-2 border-dashed border-gray-200 rounded-lg",children:"[Search Component Placeholder]"})})]})]})]})},YH=({settings:e,onSave:t,loading:r,externalOnChange:s})=>{const a=c=>{const{name:d,value:u}=c.target;s&&s({[d]:u})},i=c=>{s&&s({image_url:c})},o=()=>{s&&s({image_url:""})},l=c=>{c.preventDefault(),t()};return e?n.jsxs("form",{onSubmit:l,className:"space-y-6",children:[n.jsxs(G,{className:"p-6 bg-white shadow-sm border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(RR,{className:"w-5 h-5 text-gray-500"}),"Background Image"]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Fn,{bucketName:"car-photos",pathPrefix:"hero",onUploadComplete:i,className:"h-48"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Image URL (Manual)"}),n.jsxs("div",{className:"flex gap-2 mt-1.5",children:[n.jsx(D,{name:"image_url",value:e.image_url||"",onChange:a,placeholder:"https://..."}),e.image_url&&n.jsx(P,{type:"button",variant:"destructive",size:"icon",onClick:o,children:n.jsx(ir,{className:"w-4 h-4"})})]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Recommended size: 1920x1080px (16:9 aspect ratio). Use high-quality compressed images (JPG, WEBP) under 2MB for best performance."})]})]})]}),n.jsxs(G,{className:"p-6 bg-white shadow-sm border-gray-200",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h3",{className:"text-lg font-bold",children:"Content Management"})}),n.jsxs(ln,{defaultValue:"en",className:"w-full",children:[n.jsxs(Br,{className:"w-full grid grid-cols-3 mb-6",children:[n.jsx(pe,{value:"en",children:" English"}),n.jsx(pe,{value:"ka",children:" Georgian"}),n.jsx(pe,{value:"ru",children:" Russian"})]}),["en","ka","ru"].map(c=>n.jsxs(Ne,{value:c,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(T,{className:"mb-1.5 block",children:["Hero Title (",c.toUpperCase(),")"]}),n.jsxs("span",{className:"text-xs text-gray-400",children:[(e[`title_${c}`]||"").length,"/100"]})]}),n.jsx(D,{name:`title_${c}`,value:e[`title_${c}`]||"",onChange:a,maxLength:100,required:!0})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(T,{className:"mb-1.5 block",children:["Hero Subtitle (",c.toUpperCase(),")"]}),n.jsxs("span",{className:"text-xs text-gray-400",children:[(e[`subtitle_${c}`]||"").length,"/200"]})]}),n.jsx(Ae,{name:`subtitle_${c}`,value:e[`subtitle_${c}`]||"",onChange:a,maxLength:200,required:!0,rows:3})]}),n.jsxs("div",{children:[n.jsxs(T,{className:"mb-1.5 block",children:["Search Button Text (",c.toUpperCase(),")"]}),n.jsx(D,{name:`button_text_${c}`,value:e[`button_text_${c}`]||"",onChange:a,maxLength:50,required:!0})]})]},c))]})]}),n.jsx("div",{className:"sticky bottom-4 z-20 flex justify-end bg-white/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 shadow-lg",children:n.jsx(P,{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 text-white min-w-[150px]",children:r?n.jsxs(n.Fragment,{children:[n.jsx(de,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ea,{className:"w-4 h-4 mr-2"})," Save Changes"]})})})]}):null},XH=()=>{const{toast:e}=ae(),[t,r]=f.useState(!0),[s,a]=f.useState(!1),[i,o]=f.useState(null),[l,c]=f.useState("en");f.useEffect(()=>{d()},[]);const d=async()=>{r(!0);try{const m=await bS();o(m||{image_url:"https://i.postimg.cc/nrbYszvV/179254820-super.jpg",title_en:"Discover Georgia",title_ka:" ",title_ru:"   ",subtitle_en:"Book your perfect ride or tour",subtitle_ka:"   ",subtitle_ru:"    ",button_text_en:"Search Now",button_text_ka:"",button_text_ru:"",is_active:!0})}catch(m){console.error(m),e({variant:"destructive",title:"Error",description:"Failed to load settings"})}finally{r(!1)}},u=async m=>{a(!0);try{if(!i.id){e({variant:"destructive",title:"Error",description:"No configuration found to update. Please contact support."});return}const p=await C$(i.id,m);o(p),e({title:"Success",description:"Hero section updated successfully",className:"bg-green-50 border-green-200"})}catch(p){console.error(p),e({variant:"destructive",title:"Error",description:"Failed to save changes"})}finally{a(!1)}},h=m=>{o(p=>({...p,...m}))};return t?n.jsx("div",{className:"p-8 text-center",children:"Loading settings..."}):n.jsxs("div",{className:"space-y-8 pb-12",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:"Hero Section Management"}),n.jsx("p",{className:"text-gray-500",children:"Customize the main landing section of your website."})]}),n.jsxs(P,{variant:"outline",size:"sm",onClick:d,children:[n.jsx($l,{className:"w-4 h-4 mr-2"})," Reset"]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[n.jsx("div",{className:"order-2 xl:order-1",children:n.jsx(QH,{settings:i,onChange:h,onSave:()=>u(i),loading:s})}),n.jsxs("div",{className:"order-1 xl:order-2 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-bold text-lg",children:"Live Preview"}),n.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["en","ka","ru"].map(m=>n.jsx("button",{onClick:()=>c(m),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${l===m?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:m.toUpperCase()},m))})]}),n.jsxs("div",{className:"sticky top-24",children:[n.jsx(KH,{settings:i,activeLanguage:l}),n.jsx("div",{className:"mt-4 p-4 bg-blue-50 text-blue-800 rounded-lg text-sm",children:n.jsxs("p",{children:[n.jsx("strong",{children:"Note:"})," The search box in the preview is a placeholder. The actual search functionality works independently."]})})]})]})]})]})},QH=({settings:e,onChange:t,onSave:r,loading:s})=>n.jsx(YH,{settings:e,onSave:r,loading:s,externalOnChange:t}),JH=async()=>{const{data:e,error:t}=await O.from("about_content").select("*").order("display_order",{ascending:!0});if(t)throw t;const{data:r,error:s}=await O.from("team_members").select("*").order("display_order",{ascending:!0});if(s)throw s;const a={hero:{},story:{items:[]},features:[],stats:[],values:[],team:r||[]};return e==null||e.forEach(i=>{i.section==="hero"?(a.hero[i.key]=i.value,i.image_url&&(a.hero.image_url=i.image_url)):i.section==="story"?(a.story[i.key]=i.value,i.image_url&&(a.story.images=[...a.story.images||[],i.image_url])):["features","stats","values"].includes(i.section)&&a[i.section].push(i)}),a.hero.title?a:rW()},ZH=async e=>{const{data:t,error:r}=await O.from("team_members").insert(e).select().single();if(r)throw r;return t},eW=async(e,t)=>{const{data:r,error:s}=await O.from("team_members").update(t).eq("id",e).select().single();if(s)throw s;return r},tW=async e=>{const{error:t}=await O.from("team_members").delete().eq("id",e);if(t)throw t},rW=()=>({hero:{title:"About GeorgianTrip",subtitle:"Discover the Magic of Georgia with Us",imageUrl:"https://images.unsplash.com/photo-1565008447742-97f6f38c985c?auto=format&fit=crop&q=80"},story:{title:"Our Story",description:"GeorgianTrip was founded in 2015 with a simple mission: to share the beauty and culture of Georgia with the world. What started as a small family business has grown into a leading travel company, serving thousands of travelers from around the globe. We believe that travel is more than just visiting placesit's about connecting with people, cultures, and the natural wonders that make our country unique.",milestones:[{year:"2015",title:"Founded in Tbilisi"},{year:"2018",title:"Expanded to Nationwide Tours"},{year:"2023",title:"Served 10,000+ Happy Travelers"}]},stats:[{id:"1",section:"stats",label:"Founded",value:"2015",key:"calendar"},{id:"2",section:"stats",label:"Happy Travelers",value:"10k+",key:"users"},{id:"3",section:"stats",label:"Unique Tours",value:"50+",key:"map"},{id:"4",section:"stats",label:"Travel Choice",value:"#1",key:"award"}],values:[{id:"1",section:"values",key:"Authenticity",value:"We believe in genuine, authentic experiences that connect you with local culture.",image_url:"heart"},{id:"2",section:"values",key:"Excellence",value:"We strive for excellence in every detail, from vehicle comfort to guide knowledge.",image_url:"star"},{id:"3",section:"values",key:"Sustainability",value:"We care for Georgia's environment and culture, promoting responsible tourism.",image_url:"leaf"}],team:[{id:"1",name:"Giorgi Beridze",role:"Founder & CEO",photo_url:"https://images.unsplash.com/photo-1560250097-0b93528c311a?auto=format&fit=crop&q=80&w=400",bio:"Visionary leader with 15 years in tourism."},{id:"2",name:"Nino Kvaratskhelia",role:"Head of Operations",photo_url:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&q=80&w=400",bio:"Logistics expert ensuring smooth journeys."},{id:"3",name:"David Mamardashvili",role:"Lead Tour Guide",photo_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=400",bio:"Passionate historian and storyteller."},{id:"4",name:"Mariam Tsereteli",role:"Customer Support",photo_url:"https://images.unsplash.com/photo-1580489944761-15a19d654956?auto=format&fit=crop&q=80&w=400",bio:"Dedicated to 24/7 traveler assistance."}]}),nW=({data:e={},onUpdate:t})=>{const[r,s]=f.useState(!1),{toast:a}=ae(),[i,o]=f.useState({title:e.title||"",subtitle:e.subtitle||"",imageUrl:e.imageUrl||""}),l=async c=>{c.preventDefault(),s(!0);try{i.title&&a({title:"Success",description:"Hero section updated"}),t()}catch{a({variant:"destructive",title:"Error",description:"Failed to update hero section"})}finally{s(!1)}};return n.jsx(G,{className:"p-6",children:n.jsxs("form",{onSubmit:l,className:"space-y-4",children:[n.jsx("h3",{className:"font-bold text-lg mb-4",children:"Hero Section Settings"}),n.jsxs("div",{children:[n.jsx(T,{htmlFor:"hero-title",children:"Headline"}),n.jsx(D,{id:"hero-title",value:i.title,onChange:c=>o({...i,title:c.target.value}),placeholder:"About GeorgianTrip"})]}),n.jsxs("div",{children:[n.jsx(T,{htmlFor:"hero-subtitle",children:"Subheading"}),n.jsx(D,{id:"hero-subtitle",value:i.subtitle,onChange:c=>o({...i,subtitle:c.target.value}),placeholder:"Discover the Magic..."})]}),n.jsxs("div",{children:[n.jsx(T,{htmlFor:"hero-image",children:"Background Image URL"}),n.jsx(D,{id:"hero-image",value:i.imageUrl,onChange:c=>o({...i,imageUrl:c.target.value}),placeholder:"https://..."})]}),n.jsxs(P,{type:"submit",disabled:r,className:"w-full",children:[r?n.jsx(de,{className:"w-4 h-4 animate-spin mr-2"}):null,"Save Changes"]})]})})},sW=({members:e=[],onUpdate:t})=>{const{toast:r}=ae(),[s,a]=f.useState(null),[i,o]=f.useState({name:"",role:"",bio:"",photo_url:""}),l=()=>{a(null),o({name:"",role:"",bio:"",photo_url:""})},c=h=>{a(h.id),o({name:h.name,role:h.role,bio:h.bio,photo_url:h.photo_url||""})},d=async h=>{if(window.confirm("Delete this team member?"))try{await tW(h),r({title:"Deleted",description:"Team member removed."}),t()}catch(m){r({variant:"destructive",title:"Error",description:m.message})}},u=async h=>{h.preventDefault();try{s?(await eW(s,i),r({title:"Updated",description:"Team member updated."})):(await ZH(i),r({title:"Added",description:"Team member added."})),l(),t()}catch(m){r({variant:"destructive",title:"Error",description:m.message})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(G,{className:"p-6",children:[n.jsx("h3",{className:"font-bold text-lg mb-4",children:s?"Edit Team Member":"Add Team Member"}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Name"}),n.jsx(D,{value:i.name,onChange:h=>o({...i,name:h.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Role"}),n.jsx(D,{value:i.role,onChange:h=>o({...i,role:h.target.value}),required:!0})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Photo URL"}),n.jsx(D,{value:i.photo_url,onChange:h=>o({...i,photo_url:h.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Bio"}),n.jsx(Ae,{value:i.bio,onChange:h=>o({...i,bio:h.target.value}),rows:3})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(P,{type:"submit",children:s?"Update":"Add Member"}),s&&n.jsx(P,{type:"button",variant:"outline",onClick:l,children:"Cancel"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(h=>n.jsxs(G,{className:"p-4 flex gap-4 items-start",children:[n.jsx("img",{src:h.photo_url||"https://placehold.co/100",alt:h.name,className:"w-16 h-16 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold",children:h.name}),n.jsx("p",{className:"text-sm text-green-600",children:h.role}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:h.bio})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(P,{size:"icon",variant:"ghost",onClick:()=>c(h),children:n.jsx(gg,{className:"w-4 h-4 text-blue-500"})}),n.jsx(P,{size:"icon",variant:"ghost",onClick:()=>d(h.id),children:n.jsx(ir,{className:"w-4 h-4 text-red-500"})})]})]},h.id))})]})},aW=()=>{const[e,t]=f.useState(null),[r,s]=f.useState(!0),a=async()=>{s(!0);try{const i=await JH();t(i)}catch(i){console.error("Failed to fetch about content",i)}finally{s(!1)}};return f.useEffect(()=>{a()},[]),r?n.jsx("div",{className:"flex justify-center p-12",children:n.jsx(de,{className:"animate-spin"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-3xl font-bold font-heading",children:"About Page Management"}),n.jsx("p",{className:"text-gray-500",children:"Manage content, images, and team members for the About Us page."}),n.jsxs(ln,{defaultValue:"hero",children:[n.jsxs(Br,{children:[n.jsxs(pe,{value:"hero",children:[n.jsx(mg,{className:"w-4 h-4 mr-2"}),"Hero Section"]}),n.jsxs(pe,{value:"team",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Team Members"]})]}),n.jsx(Ne,{value:"hero",className:"mt-6",children:n.jsx(nW,{data:e==null?void 0:e.hero,onUpdate:a})}),n.jsx(Ne,{value:"team",className:"mt-6",children:n.jsx(sW,{members:e==null?void 0:e.team,onUpdate:a})})]})]})},iW=()=>{const{toast:e}=ae(),[t,r]=f.useState([]),[s,a]=f.useState(""),[i,o]=f.useState(!1);f.useEffect(()=>{l()},[]);const l=async()=>{const{data:h}=await O.from("admin_phone_numbers").select("*").order("created_at");h&&r(h)},c=async()=>{if(!s)return;let h=s.replace(/\D/g,"");if(h.length===9&&(h="995"+h),h.length!==12||!h.startsWith("995")){e({variant:"destructive",title:"Invalid Format",description:"Please use Georgian format (e.g., 599 123 456)"});return}o(!0);const{error:m}=await O.from("admin_phone_numbers").insert({phone_number:h,is_primary:t.length===0});o(!1),m?e({variant:"destructive",title:"Error",description:m.message}):(a(""),l(),e({title:"Success",description:"Phone number added"}))},d=async h=>{const{error:m}=await O.from("admin_phone_numbers").delete().eq("id",h);m||(r(t.filter(p=>p.id!==h)),e({title:"Deleted",description:"Phone number removed"}))},u=async h=>{await O.from("admin_phone_numbers").update({is_primary:!1}).gt("created_at","2000-01-01"),await O.from("admin_phone_numbers").update({is_primary:!0}).eq("id",h),l()};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-end gap-4",children:n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(T,{children:"Add Admin Phone Number"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Gn,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-500"}),n.jsx(D,{value:s,onChange:h=>a(h.target.value),placeholder:"599 123 456",className:"pl-9"})]}),n.jsxs(P,{onClick:c,disabled:i,className:"bg-green-600",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"})," Add"]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Enter local format (9 digits) or with country code"})]})}),n.jsxs("div",{className:"grid gap-4",children:[t.map(h=>n.jsxs(G,{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-full ${h.is_primary?"bg-yellow-100 text-yellow-600":"bg-gray-100 text-gray-500"}`,children:n.jsx(Gn,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["+",h.phone_number]}),h.is_primary&&n.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Primary Contact"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!h.is_primary&&n.jsx(P,{variant:"ghost",size:"sm",onClick:()=>u(h.id),title:"Set as Primary",children:n.jsx(ut,{className:"w-4 h-4 text-gray-400 hover:text-yellow-500"})}),n.jsx(P,{variant:"ghost",size:"sm",onClick:()=>d(h.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:n.jsx(ir,{className:"w-4 h-4"})})]})]},h.id)),t.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed rounded-lg",children:"No phone numbers configured"})]})]})},oW=()=>{const{toast:e}=ae(),[t,r]=f.useState({driver_sms_template:"",admin_sms_template:""});f.useEffect(()=>{s()},[]);const s=async()=>{const{data:o}=await O.from("sms_settings").select("*").single();o&&r(o)},a=async()=>{const{error:o}=await O.from("sms_settings").update({driver_sms_template:t.driver_sms_template,admin_sms_template:t.admin_sms_template}).eq("id",t.id);e(o?{variant:"destructive",title:"Error",description:o.message}:{title:"Saved",description:"Templates updated successfully"})},i=["{driverName}","{passengerName}","{passengerPhone}","{fromLocation}","{toLocation}","{date}","{time}","{bookingId}","{carModel}","{price}"];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-blue-800 mb-6",children:[n.jsx("p",{className:"font-bold mb-2",children:"Available Variables:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(o=>n.jsx("code",{className:"bg-white px-2 py-1 rounded border border-blue-100",children:o},o))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{children:"Driver SMS Template"}),n.jsx(Ae,{value:t.driver_sms_template||"",onChange:o=>r({...t,driver_sms_template:o.target.value}),className:"h-32 font-mono text-sm"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Sent to driver immediately after booking."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{children:"Admin SMS Template"}),n.jsx(Ae,{value:t.admin_sms_template||"",onChange:o=>r({...t,admin_sms_template:o.target.value}),className:"h-32 font-mono text-sm"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Sent to admin numbers immediately after booking."})]}),n.jsxs(P,{onClick:a,className:"bg-green-600",children:[n.jsx(Ea,{className:"w-4 h-4 mr-2"})," Save Templates"]})]})]})},lW=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0);f.useEffect(()=>{a()},[]);const a=async()=>{s(!0);const{data:i}=await O.from("sms_logs").select("*").order("created_at",{ascending:!1}).limit(50);i&&t(i),s(!1)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Recent SMS Logs"}),n.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(BR,{className:"w-4 h-4 text-gray-500"})})]}),n.jsx("div",{className:"border rounded-md",children:n.jsxs(Vr,{children:[n.jsx(Ur,{children:n.jsxs(he,{children:[n.jsx(Z,{children:"Time"}),n.jsx(Z,{children:"Recipient"}),n.jsx(Z,{children:"Type"}),n.jsx(Z,{children:"Status"}),n.jsx(Z,{className:"w-[40%]",children:"Message"})]})}),n.jsx(cn,{children:r?n.jsx(he,{children:n.jsx(q,{colSpan:5,className:"text-center py-8",children:n.jsx(de,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"})})}):e.length===0?n.jsx(he,{children:n.jsx(q,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No SMS logs found"})}):e.map(i=>n.jsxs(he,{children:[n.jsx(q,{className:"whitespace-nowrap",children:$n(new Date(i.created_at),"MMM d, HH:mm")}),n.jsx(q,{children:i.recipient_phone}),n.jsx(q,{children:n.jsx(ee,{variant:"outline",className:"capitalize",children:i.recipient_type})}),n.jsx(q,{children:n.jsx(ee,{className:i.status==="sent"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",children:i.status})}),n.jsxs(q,{className:"max-w-xs truncate text-xs text-gray-500",title:i.message,children:[i.message,i.error_message&&n.jsx("div",{className:"text-red-500 mt-1",children:i.error_message})]})]},i.id))})]})})]})},cW=()=>{const{toast:e}=ae(),[t,r]=f.useState(""),[s,a]=f.useState(null),[i,o]=f.useState(!0);f.useEffect(()=>{(async()=>{const{data:d}=await O.from("sms_settings").select("id, api_key").single();d&&(r(d.api_key),a(d.id)),o(!1)})()},[]);const l=async()=>{const{error:c}=await O.from("sms_settings").update({api_key:t}).eq("id",s);e(c?{variant:"destructive",title:"Error",description:c.message}:{title:"Saved",description:"API Key updated successfully"})};return n.jsxs(G,{className:"p-6 max-w-xl",children:[n.jsx("h3",{className:"font-bold text-lg mb-4",children:"SMS Office Configuration"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{children:"API Key"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(D,{type:"password",value:t,onChange:c=>r(c.target.value),placeholder:"Enter SMS Office API Key",disabled:i}),n.jsx(P,{onClick:l,disabled:i,children:"Save"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Key from smsoffice.ge integration page"})]}),n.jsx("div",{className:"pt-4 border-t",children:n.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Sender Name: ",n.jsx("span",{className:"font-bold",children:"Georgiantrip"})]})})]})]})},dW=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:"SMS Settings"}),n.jsx("p",{className:"text-gray-500",children:"Manage SMS notifications via SMS Office"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-green-600 bg-green-50 px-3 py-1 rounded-full text-sm font-medium",children:[n.jsx(Wn,{className:"w-4 h-4"})," Service Active"]})]}),n.jsxs(ln,{defaultValue:"config",className:"w-full",children:[n.jsxs(Br,{className:"mb-4",children:[n.jsx(pe,{value:"config",children:"API Configuration"}),n.jsx(pe,{value:"phones",children:"Admin Phones"}),n.jsx(pe,{value:"templates",children:"Templates"}),n.jsx(pe,{value:"history",children:"History"})]}),n.jsx(Ne,{value:"config",children:n.jsx(cW,{})}),n.jsx(Ne,{value:"phones",children:n.jsx(G,{className:"p-6",children:n.jsx(iW,{})})}),n.jsx(Ne,{value:"templates",children:n.jsx(G,{className:"p-6",children:n.jsx(oW,{})})}),n.jsx(Ne,{value:"history",children:n.jsx(G,{className:"p-6",children:n.jsx(lW,{})})})]})]}),mt=({title:e,description:t,pageLink:r,children:s,defaultOpen:a=!1})=>{const[i,o]=f.useState(a);return n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[n.jsxs("button",{onClick:()=>o(!i),className:"w-full flex items-center justify-between p-5 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-bold text-gray-900",children:e}),t&&n.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:t})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[r&&n.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",onClick:l=>l.stopPropagation(),className:"text-xs text-green-600 hover:text-green-700 flex items-center gap-1 bg-green-50 px-2.5 py-1 rounded-full font-medium",children:[n.jsx($o,{className:"w-3 h-3"})," View"]}),i?n.jsx(ba,{className:"w-5 h-5 text-gray-400"}):n.jsx(sr,{className:"w-5 h-5 text-gray-400"})]})]}),i&&n.jsx("div",{className:"px-5 pb-5 border-t border-gray-100 pt-4 space-y-4",children:s})]})},Xs=({label:e,items:t=[],fields:r,onChange:s})=>{const a=(l,c,d)=>{const u=[...t];u[l]={...u[l],[c]:d},s(u)},i=()=>{const l={};r.forEach(c=>{l[c.key]=""}),s([...t,l])},o=l=>{s(t.filter((c,d)=>d!==l))};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(T,{className:"font-semibold text-gray-700",children:e}),n.jsxs(P,{type:"button",variant:"outline",size:"sm",onClick:i,className:"text-xs",children:[n.jsx(ar,{className:"w-3 h-3 mr-1"})," Add"]})]}),t.map((l,c)=>n.jsxs("div",{className:"flex gap-2 items-start p-3 bg-gray-50 rounded-lg border border-gray-100",children:[n.jsx(yu,{className:"w-4 h-4 text-gray-300 mt-2.5 shrink-0"}),n.jsx("div",{className:"flex-1 grid gap-2",style:{gridTemplateColumns:r.length>1?`repeat(${Math.min(r.length,3)}, 1fr)`:"1fr"},children:r.map(d=>n.jsxs("div",{children:[n.jsx("span",{className:"text-[10px] uppercase text-gray-400 font-bold",children:d.label}),d.type==="textarea"?n.jsx(Ae,{value:l[d.key]||"",onChange:u=>a(c,d.key,u.target.value),rows:2,className:"text-sm"}):n.jsx(D,{value:l[d.key]||"",onChange:u=>a(c,d.key,u.target.value),className:"text-sm"})]},d.key))}),n.jsx(P,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(c),className:"text-red-400 hover:text-red-600 hover:bg-red-50 shrink-0 mt-1",children:n.jsx(ir,{className:"w-4 h-4"})})]},c)),t.length===0&&n.jsx("p",{className:"text-sm text-gray-400 italic",children:'No items yet. Click "Add" to create one.'})]})},yo=({label:e,items:t=[],onChange:r})=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(T,{className:"font-semibold text-gray-700",children:e}),n.jsxs(P,{type:"button",variant:"outline",size:"sm",onClick:()=>r([...t,""]),className:"text-xs",children:[n.jsx(ar,{className:"w-3 h-3 mr-1"})," Add"]})]}),t.map((s,a)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(D,{value:s||"",onChange:i=>{const o=[...t];o[a]=i.target.value,r(o)},className:"text-sm"}),n.jsx(P,{type:"button",variant:"ghost",size:"sm",onClick:()=>r(t.filter((i,o)=>o!==a)),className:"text-red-400 hover:text-red-600 shrink-0",children:n.jsx(ir,{className:"w-4 h-4"})})]},a))]}),uW=()=>{var p,x,g,b,y,v,w,j,S,C,N,_,E,k,$,F,H,B,A,M,U,R,I,V,Y,oe,fe,le,Fe,$e,te,_e,Te,je,Se,Ce,Nt,or,ns,ss,as,Zl,qs,e0,t0,r0,n0,s0,a0,i0,o0,l0,c0,d0,u0,h0,m0,f0,p0,g0,x0,v0,y0,b0,w0,j0,N0,_0,S0,C0,k0,T0,E0;const{toast:e}=ae(),[t,r]=f.useState(!0),[s,a]=f.useState({}),[i,o]=f.useState(JSON.parse(JSON.stringify(et))),[l,c]=f.useState(!0),d=f.useCallback(async()=>{r(!0);try{const L=await $L(),ht=JSON.parse(JSON.stringify(et));Object.keys(L).forEach(Ht=>{ht[Ht]||(ht[Ht]={}),Object.keys(L[Ht]).forEach(zr=>{ht[Ht][zr]={...ht[Ht][zr]||{},...L[Ht][zr]}})}),o(ht),c(!0)}catch(L){console.warn("Could not load site_content:",L),c(!1)}finally{r(!1)}},[]);f.useEffect(()=>{d()},[d]);const u=async(L,ht)=>{const Ht=`${L}.${ht}`;a(zr=>({...zr,[Ht]:!0}));try{await BL(L,ht,i[L][ht]),e({title:"Saved!",description:`${ht} content updated successfully.`,className:"bg-green-50 border-green-200"})}catch(zr){e({variant:"destructive",title:"Error",description:zr.message||"Failed to save. Make sure the site_content table exists."})}finally{a(zr=>({...zr,[Ht]:!1}))}},h=(L,ht,Ht,zr)=>{o(Ju=>{var P0;return{...Ju,[L]:{...Ju[L],[ht]:{...(P0=Ju[L])==null?void 0:P0[ht],[Ht]:zr}}}})},m=({page:L,section:ht})=>{const Ht=`${L}.${ht}`;return n.jsxs(P,{onClick:()=>u(L,ht),disabled:s[Ht],className:"bg-green-600 hover:bg-green-700",children:[s[Ht]?n.jsx(de,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Save ",ht.replace(/_/g," ")]})};return t?n.jsx("div",{className:"flex justify-center py-20",children:n.jsx(de,{className:"w-8 h-8 animate-spin text-green-600"})}):n.jsxs("div",{className:"space-y-6 pb-12",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:"Site Content Management"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Edit all website text, images, and links from one place."})]}),n.jsxs(P,{variant:"outline",onClick:d,children:[n.jsx(VR,{className:"w-4 h-4 mr-2"})," Reload All"]})]}),!l&&n.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-amber-800 text-sm",children:[n.jsx("p",{className:"font-bold mb-2",children:"Database table not found"}),n.jsxs("p",{children:["Create the ",n.jsx("code",{className:"bg-amber-100 px-1.5 py-0.5 rounded font-mono text-xs",children:"site_content"})," table in Supabase:"]}),n.jsx("pre",{className:"mt-2 bg-amber-100 p-3 rounded-lg text-xs overflow-x-auto",children:`CREATE TABLE IF NOT EXISTS site_content (
  id uuid PRIMARY KEY DEFAULT uuid_generate_v4(),
  page text NOT NULL,
  section text NOT NULL,
  content jsonb NOT NULL DEFAULT '{}',
  updated_at timestamptz DEFAULT now(),
  UNIQUE(page, section)
);`})]}),n.jsxs(ln,{defaultValue:"home",className:"w-full",children:[n.jsxs(Br,{className:"bg-gray-100 p-1 rounded-xl h-auto flex-wrap",children:[n.jsxs(pe,{value:"home",className:"gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-lg",children:[n.jsx(IN,{className:"w-4 h-4"})," Home Page"]}),n.jsxs(pe,{value:"about",className:"gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-lg",children:[n.jsx(tn,{className:"w-4 h-4"})," About Page"]}),n.jsxs(pe,{value:"contact",className:"gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-lg",children:[n.jsx(Gn,{className:"w-4 h-4"})," Contact & Footer"]}),n.jsxs(pe,{value:"pages",className:"gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-lg",children:[n.jsx(vu,{className:"w-4 h-4"})," Pages"]})]}),n.jsxs(Ne,{value:"home",className:"mt-6 space-y-4",children:[n.jsxs(mt,{title:"How It Works Section",pageLink:"/#how-it-works",description:"4-step process shown on the homepage",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Title"}),n.jsx(D,{value:((p=i.home.how_it_works)==null?void 0:p.title)||"",onChange:L=>h("home","how_it_works","title",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Subtitle"}),n.jsx(D,{value:((x=i.home.how_it_works)==null?void 0:x.subtitle)||"",onChange:L=>h("home","how_it_works","subtitle",L.target.value)})]})]}),n.jsx(Xs,{label:"Steps",items:((g=i.home.how_it_works)==null?void 0:g.steps)||[],fields:[{key:"title",label:"Title"},{key:"description",label:"Description",type:"textarea"}],onChange:L=>h("home","how_it_works","steps",L)}),n.jsx(m,{page:"home",section:"how_it_works"})]}),n.jsxs(mt,{title:"Our Story Section",pageLink:"/",description:"About us preview on homepage",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Label"}),n.jsx(D,{value:((b=i.home.our_story)==null?void 0:b.label)||"",onChange:L=>h("home","our_story","label",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Button Text"}),n.jsx(D,{value:((y=i.home.our_story)==null?void 0:y.buttonText)||"",onChange:L=>h("home","our_story","buttonText",L.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Title (supports HTML)"}),n.jsx(D,{value:((v=i.home.our_story)==null?void 0:v.title)||"",onChange:L=>h("home","our_story","title",L.target.value)})]}),n.jsx(yo,{label:"Paragraphs (supports HTML)",items:((w=i.home.our_story)==null?void 0:w.paragraphs)||[],onChange:L=>h("home","our_story","paragraphs",L)}),n.jsx(Xs,{label:"Features",items:((j=i.home.our_story)==null?void 0:j.features)||[],fields:[{key:"title",label:"Title"},{key:"description",label:"Description"}],onChange:L=>h("home","our_story","features",L)}),n.jsx(yo,{label:"Image URLs",items:((S=i.home.our_story)==null?void 0:S.images)||[],onChange:L=>h("home","our_story","images",L)}),n.jsx(m,{page:"home",section:"our_story"})]}),n.jsxs(mt,{title:"Why Choose Us (Value Icons)",pageLink:"/",description:"Value propositions grid",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Title"}),n.jsx(D,{value:((C=i.home.value_icons)==null?void 0:C.title)||"",onChange:L=>h("home","value_icons","title",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Subtitle"}),n.jsx(D,{value:((N=i.home.value_icons)==null?void 0:N.subtitle)||"",onChange:L=>h("home","value_icons","subtitle",L.target.value)})]})]}),n.jsx(m,{page:"home",section:"value_icons"})]}),n.jsxs(mt,{title:"FAQ Section",pageLink:"/",description:"Frequently asked questions accordion",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Section Title"}),n.jsx(D,{value:((_=i.home.faq)==null?void 0:_.title)||"",onChange:L=>h("home","faq","title",L.target.value)})]}),n.jsx(Xs,{label:"FAQ Items",items:((E=i.home.faq)==null?void 0:E.items)||[],fields:[{key:"question",label:"Question"},{key:"answer",label:"Answer",type:"textarea"}],onChange:L=>h("home","faq","items",L)}),n.jsx(m,{page:"home",section:"faq"})]}),n.jsxs(mt,{title:"Testimonials Section",pageLink:"/",description:"Customer reviews and ratings",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Title"}),n.jsx(D,{value:((k=i.home.testimonials)==null?void 0:k.title)||"",onChange:L=>h("home","testimonials","title",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Rating"}),n.jsx(D,{value:(($=i.home.testimonials)==null?void 0:$.rating)||"",onChange:L=>h("home","testimonials","rating",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Review Count"}),n.jsx(D,{value:((F=i.home.testimonials)==null?void 0:F.reviewCount)||"",onChange:L=>h("home","testimonials","reviewCount",L.target.value)})]})]}),n.jsx(Xs,{label:"Reviews",items:((H=i.home.testimonials)==null?void 0:H.reviews)||[],fields:[{key:"name",label:"Name"},{key:"location",label:"Country"},{key:"text",label:"Review",type:"textarea"},{key:"date",label:"Date"}],onChange:L=>h("home","testimonials","reviews",L)}),n.jsx(m,{page:"home",section:"testimonials"})]}),n.jsxs(mt,{title:"Bottom CTA Section",pageLink:"/",description:"Call-to-action banner at bottom of homepage",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Title"}),n.jsx(D,{value:((B=i.home.bottom_cta)==null?void 0:B.title)||"",onChange:L=>h("home","bottom_cta","title",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Background Image URL"}),n.jsx(D,{value:((A=i.home.bottom_cta)==null?void 0:A.backgroundImage)||"",onChange:L=>h("home","bottom_cta","backgroundImage",L.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Subtitle"}),n.jsx(Ae,{value:((M=i.home.bottom_cta)==null?void 0:M.subtitle)||"",onChange:L=>h("home","bottom_cta","subtitle",L.target.value),rows:2})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Primary Button Text"}),n.jsx(D,{value:((U=i.home.bottom_cta)==null?void 0:U.buttonText)||"",onChange:L=>h("home","bottom_cta","buttonText",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Contact Button Text"}),n.jsx(D,{value:((R=i.home.bottom_cta)==null?void 0:R.contactButtonText)||"",onChange:L=>h("home","bottom_cta","contactButtonText",L.target.value)})]})]}),n.jsx(m,{page:"home",section:"bottom_cta"})]}),n.jsxs(mt,{title:"Driver Registration Section",pageLink:"/",description:"Driver recruitment banner and form intro text",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Banner Title"}),n.jsx(D,{value:((I=i.home.driver_registration)==null?void 0:I.bannerTitle)||"",onChange:L=>h("home","driver_registration","bannerTitle",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Heading"}),n.jsx(D,{value:((V=i.home.driver_registration)==null?void 0:V.heading)||"",onChange:L=>h("home","driver_registration","heading",L.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Description"}),n.jsx(Ae,{value:((Y=i.home.driver_registration)==null?void 0:Y.description)||"",onChange:L=>h("home","driver_registration","description",L.target.value),rows:3})]}),n.jsx(yo,{label:"Benefits List",items:((oe=i.home.driver_registration)==null?void 0:oe.benefits)||[],onChange:L=>h("home","driver_registration","benefits",L)}),n.jsxs("div",{children:[n.jsx(T,{children:"Quote"}),n.jsx(D,{value:((fe=i.home.driver_registration)==null?void 0:fe.quote)||"",onChange:L=>h("home","driver_registration","quote",L.target.value)})]}),n.jsx(m,{page:"home",section:"driver_registration"})]})]}),n.jsxs(Ne,{value:"about",className:"mt-6 space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-blue-800 text-sm flex items-center gap-3",children:[n.jsx(tn,{className:"w-5 h-5 shrink-0"}),n.jsxs("span",{children:["Hero section and Team members are managed from the dedicated ",n.jsx("a",{href:"/paneli/hero",className:"underline font-bold",children:"Hero Editor"})," and ",n.jsx("a",{href:"/paneli/about",className:"underline font-bold",children:"About Page"})," editors."]})]}),n.jsxs(mt,{title:"Mission Section",pageLink:"/about",description:"Our mission statement",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Label"}),n.jsx(D,{value:((le=i.about.mission)==null?void 0:le.label)||"",onChange:L=>h("about","mission","label",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Image Caption"}),n.jsx(D,{value:((Fe=i.about.mission)==null?void 0:Fe.imageCaption)||"",onChange:L=>h("about","mission","imageCaption",L.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Title"}),n.jsx(D,{value:(($e=i.about.mission)==null?void 0:$e.title)||"",onChange:L=>h("about","mission","title",L.target.value)})]}),n.jsx(yo,{label:"Paragraphs",items:((te=i.about.mission)==null?void 0:te.paragraphs)||[],onChange:L=>h("about","mission","paragraphs",L)}),n.jsxs("div",{children:[n.jsx(T,{children:"Image URL"}),n.jsx(D,{value:((_e=i.about.mission)==null?void 0:_e.imageUrl)||"",onChange:L=>h("about","mission","imageUrl",L.target.value)})]}),n.jsx(m,{page:"about",section:"mission"})]}),n.jsxs(mt,{title:"Vision Section",pageLink:"/about",description:"Our vision statement",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Label"}),n.jsx(D,{value:((Te=i.about.vision)==null?void 0:Te.label)||"",onChange:L=>h("about","vision","label",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Image Caption"}),n.jsx(D,{value:((je=i.about.vision)==null?void 0:je.imageCaption)||"",onChange:L=>h("about","vision","imageCaption",L.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Title"}),n.jsx(D,{value:((Se=i.about.vision)==null?void 0:Se.title)||"",onChange:L=>h("about","vision","title",L.target.value)})]}),n.jsx(yo,{label:"Paragraphs",items:((Ce=i.about.vision)==null?void 0:Ce.paragraphs)||[],onChange:L=>h("about","vision","paragraphs",L)}),n.jsxs("div",{children:[n.jsx(T,{children:"Image URL"}),n.jsx(D,{value:((Nt=i.about.vision)==null?void 0:Nt.imageUrl)||"",onChange:L=>h("about","vision","imageUrl",L.target.value)})]}),n.jsx(m,{page:"about",section:"vision"})]}),n.jsxs(mt,{title:"Values Section",pageLink:"/about",description:"Core values cards",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Label"}),n.jsx(D,{value:((or=i.about.values)==null?void 0:or.label)||"",onChange:L=>h("about","values","label",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Title"}),n.jsx(D,{value:((ns=i.about.values)==null?void 0:ns.title)||"",onChange:L=>h("about","values","title",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Subtitle"}),n.jsx(D,{value:((ss=i.about.values)==null?void 0:ss.subtitle)||"",onChange:L=>h("about","values","subtitle",L.target.value)})]})]}),n.jsx(Xs,{label:"Value Items",items:((as=i.about.values)==null?void 0:as.items)||[],fields:[{key:"title",label:"Title"},{key:"description",label:"Description",type:"textarea"},{key:"imageUrl",label:"Image URL"}],onChange:L=>h("about","values","items",L)}),n.jsx(m,{page:"about",section:"values"})]}),n.jsxs(mt,{title:"Stats Section",pageLink:"/about",description:"Number counters (Founded, Travelers, etc.)",children:[n.jsx(Xs,{label:"Stats Items",items:((Zl=i.about.stats)==null?void 0:Zl.items)||[],fields:[{key:"value",label:"Value"},{key:"label",label:"Label"},{key:"description",label:"Description"}],onChange:L=>h("about","stats","items",L)}),n.jsx(m,{page:"about",section:"stats"})]}),n.jsxs(mt,{title:"Gallery Section",pageLink:"/about",description:"Photo gallery with Instagram link",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Label"}),n.jsx(D,{value:((qs=i.about.gallery)==null?void 0:qs.label)||"",onChange:L=>h("about","gallery","label",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Title"}),n.jsx(D,{value:((e0=i.about.gallery)==null?void 0:e0.title)||"",onChange:L=>h("about","gallery","title",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Instagram URL"}),n.jsx(D,{value:((t0=i.about.gallery)==null?void 0:t0.instagramUrl)||"",onChange:L=>h("about","gallery","instagramUrl",L.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Subtitle"}),n.jsx(Ae,{value:((r0=i.about.gallery)==null?void 0:r0.subtitle)||"",onChange:L=>h("about","gallery","subtitle",L.target.value),rows:2})]}),n.jsx(Xs,{label:"Gallery Images",items:((n0=i.about.gallery)==null?void 0:n0.images)||[],fields:[{key:"url",label:"Image URL"},{key:"alt",label:"Alt Text"}],onChange:L=>h("about","gallery","images",L)}),n.jsx(m,{page:"about",section:"gallery"})]}),n.jsxs(mt,{title:"CTA Section",pageLink:"/about",description:"Call-to-action at bottom of About page",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Title"}),n.jsx(D,{value:((s0=i.about.cta)==null?void 0:s0.title)||"",onChange:L=>h("about","cta","title",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Background Image URL"}),n.jsx(D,{value:((a0=i.about.cta)==null?void 0:a0.backgroundImage)||"",onChange:L=>h("about","cta","backgroundImage",L.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Subtitle"}),n.jsx(Ae,{value:((i0=i.about.cta)==null?void 0:i0.subtitle)||"",onChange:L=>h("about","cta","subtitle",L.target.value),rows:2})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Button 1 Text"}),n.jsx(D,{value:((o0=i.about.cta)==null?void 0:o0.button1Text)||"",onChange:L=>h("about","cta","button1Text",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Button 2 Text"}),n.jsx(D,{value:((l0=i.about.cta)==null?void 0:l0.button2Text)||"",onChange:L=>h("about","cta","button2Text",L.target.value)})]})]}),n.jsx(m,{page:"about",section:"cta"})]})]}),n.jsxs(Ne,{value:"contact",className:"mt-6 space-y-4",children:[n.jsxs(mt,{title:"Contact Information",pageLink:"/contact",description:"Phone, email, address shown on contact page",defaultOpen:!0,children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Phone Number"}),n.jsx(D,{value:((c0=i.contact.info)==null?void 0:c0.phone)||"",onChange:L=>h("contact","info","phone",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Phone Note"}),n.jsx(D,{value:((d0=i.contact.info)==null?void 0:d0.phoneNote)||"",onChange:L=>h("contact","info","phoneNote",L.target.value)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Primary Email"}),n.jsx(D,{value:((u0=i.contact.info)==null?void 0:u0.email)||"",onChange:L=>h("contact","info","email",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Support Email"}),n.jsx(D,{value:((h0=i.contact.info)==null?void 0:h0.supportEmail)||"",onChange:L=>h("contact","info","supportEmail",L.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Address"}),n.jsx(D,{value:((m0=i.contact.info)==null?void 0:m0.address)||"",onChange:L=>h("contact","info","address",L.target.value)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Customer Support Hours"}),n.jsx(D,{value:((f0=i.contact.info)==null?void 0:f0.customerSupportHours)||"",onChange:L=>h("contact","info","customerSupportHours",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Office Hours"}),n.jsx(D,{value:((p0=i.contact.info)==null?void 0:p0.officeHours)||"",onChange:L=>h("contact","info","officeHours",L.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Google Maps Embed URL"}),n.jsx(D,{value:((g0=i.contact.info)==null?void 0:g0.mapEmbedUrl)||"",onChange:L=>h("contact","info","mapEmbedUrl",L.target.value),className:"text-xs"})]}),n.jsx(m,{page:"contact",section:"info"})]}),n.jsxs(mt,{title:"Footer Content",description:"Footer text, contact info, and social media links",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Brand Description"}),n.jsx(Ae,{value:((x0=i.footer.general)==null?void 0:x0.brandDescription)||"",onChange:L=>h("footer","general","brandDescription",L.target.value),rows:3})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Phone"}),n.jsx(D,{value:((v0=i.footer.general)==null?void 0:v0.phone)||"",onChange:L=>h("footer","general","phone",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Phone Hours"}),n.jsx(D,{value:((y0=i.footer.general)==null?void 0:y0.phoneHours)||"",onChange:L=>h("footer","general","phoneHours",L.target.value)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Email"}),n.jsx(D,{value:((b0=i.footer.general)==null?void 0:b0.email)||"",onChange:L=>h("footer","general","email",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Email Note"}),n.jsx(D,{value:((w0=i.footer.general)==null?void 0:w0.emailNote)||"",onChange:L=>h("footer","general","emailNote",L.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Address"}),n.jsx(D,{value:((j0=i.footer.general)==null?void 0:j0.address)||"",onChange:L=>h("footer","general","address",L.target.value)})]}),n.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider pt-2",children:"Social Media Links"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Facebook URL"}),n.jsx(D,{value:((N0=i.footer.general)==null?void 0:N0.facebookUrl)||"",onChange:L=>h("footer","general","facebookUrl",L.target.value),placeholder:"https://facebook.com/..."})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Instagram URL"}),n.jsx(D,{value:((_0=i.footer.general)==null?void 0:_0.instagramUrl)||"",onChange:L=>h("footer","general","instagramUrl",L.target.value),placeholder:"https://instagram.com/..."})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Twitter/X URL"}),n.jsx(D,{value:((S0=i.footer.general)==null?void 0:S0.twitterUrl)||"",onChange:L=>h("footer","general","twitterUrl",L.target.value),placeholder:"https://x.com/..."})]})]}),n.jsx(m,{page:"footer",section:"general"})]})]}),n.jsxs(Ne,{value:"pages",className:"mt-6 space-y-4",children:[n.jsxs(mt,{title:"Tours Page",pageLink:"/tours",description:"Tours listing page header",defaultOpen:!0,children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Page Title"}),n.jsx(D,{value:((C0=i.pages.tours)==null?void 0:C0.title)||"",onChange:L=>h("pages","tours","title",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Subtitle"}),n.jsx(D,{value:((k0=i.pages.tours)==null?void 0:k0.subtitle)||"",onChange:L=>h("pages","tours","subtitle",L.target.value)})]})]}),n.jsx(m,{page:"pages",section:"tours"})]}),n.jsxs(mt,{title:"Transfers Page",pageLink:"/transfers",description:"Transfer routes page header",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Page Title"}),n.jsx(D,{value:((T0=i.pages.transfers)==null?void 0:T0.title)||"",onChange:L=>h("pages","transfers","title",L.target.value)})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Subtitle"}),n.jsx(Ae,{value:((E0=i.pages.transfers)==null?void 0:E0.subtitle)||"",onChange:L=>h("pages","transfers","subtitle",L.target.value),rows:2})]})]}),n.jsx(m,{page:"pages",section:"transfers"})]})]})]})]})},hW=async e=>{const t=e.trim().split(`
`),r={success:0,errors:[],total:t.length};for(let s=0;s<t.length;s++){const a=t[s].trim();if(!a)continue;let i;if(a.includes("|")?i=a.split("|"):i=a.split(","),i.length<3){r.errors.push(`Line ${s+1}: Invalid format. Expected Name|Lat|Lng`);continue}const o=i[0].trim(),l=parseFloat(i[1].trim()),c=parseFloat(i[2].trim());if(isNaN(l)||isNaN(c)){r.errors.push(`Line ${s+1}: Invalid coordinates for ${o}`);continue}const d=o.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");try{const{error:u}=await O.from("locations").upsert({name_en:o,lat:l,lng:c,is_active:!0,priority:0,slug:d},{onConflict:"name_en"});if(u)throw u;r.success++}catch(u){r.errors.push(`Line ${s+1}: Error saving ${o} - ${u.message}`)}}return r},mW=`
Abastumani | 41.749944 | 42.828889
Adigeni | 41.690556 | 42.694444
Adjarian Wine House | 41.595278 | 41.573056
Agara | 41.720833 | 43.823333
Akhali Shuamta Monastery | 41.927778 | 45.545833
Akhalkalaki | 41.405556 | 43.486111
Akhaltsikhe | 41.637222 | 42.954167
Akhalubani | 41.533333 | 43.283333
Akhasheni | 41.916667 | 45.683333
Akhmeta | 41.916667 | 45.683333
Alaverdi Monastery | 41.916667 | 45.683333
Algeti National Park | 41.683333 | 44.283333
Algeti Reservoir | 41.683333 | 44.283333
Ambrolauri | 42.516667 | 43.183333
Amusement Park Tsitsinatela | 41.716667 | 44.783333
Anaklia | 42.683333 | 41.633333
Ananuri | 42.083333 | 44.683333
Artana | 41.683333 | 44.283333
Aspindza | 41.483333 | 43.183333
Asureti | 41.683333 | 44.283333
Ateni Sioni | 41.783333 | 44.383333
Baghdati | 42.183333 | 43.283333
Bagrati Cathedral | 42.266667 | 42.716667
Bakhmaro | 42.483333 | 42.316667
Bakuriani | 41.750000 | 43.516667
Bandza | 41.683333 | 44.283333
Barisakho | 41.683333 | 44.283333
Batumi | 41.635278 | 41.645833
Batumi Airport | 41.627222 | 41.596389
Batumi Botanical Garden | 41.635278 | 41.645833
Batumi Central Station | 41.635278 | 41.645833
Batumi Black Sea Jazz | 41.635278 | 41.645833
Bazaleti Lake | 42.083333 | 44.683333
Beshumi | 42.483333 | 42.316667
Betania Monastery | 41.683333 | 44.283333
Birtvisi | 41.683333 | 44.283333
Bodbe Monastery | 41.916667 | 45.683333
Bolnisi | 41.483333 | 44.683333
Bolnisi Sioni | 41.483333 | 44.683333
Borjomi | 41.850000 | 43.383333
Bulachauri | 42.483333 | 42.316667
Castle of Rukhi | 41.683333 | 44.283333
Central Bus Station Ortachala | 41.716667 | 44.783333
Chakvi | 41.635278 | 41.645833
Chardakhi | 41.683333 | 44.283333
Chateau Iveri | 41.683333 | 44.283333
Chateau Mukhrani Winery | 41.916667 | 45.683333
Chiatura | 42.316667 | 43.283333
Chobiskhevi | 41.683333 | 44.283333
Chokhatauri | 42.183333 | 42.183333
Chorvila | 42.330833 | 42.761389
Chronicle of Georgia | 41.778611 | 44.827778
Chumlaki | 41.895556 | 45.707222
Dadiani Palace | 42.508333 | 41.869444
Dariali | 42.701667 | 44.613889
Dashbashi Canyon | 41.352778 | 44.428611
David Gareji Monastery | 41.446944 | 45.373333
Dedoplistsqaro | 41.460556 | 46.109167
Didgori Battle Memorial | 41.858889 | 44.394722
Dmanisi | 41.528611 | 44.347222
Dmanisi Museum-Reserve | 41.529722 | 44.346111
Duisi | 42.197222 | 45.687778
Dzegvi | 41.862778 | 44.716667
Dzveli Kanda | 41.978056 | 45.231389
Dzveli Shuamta Monastery | 41.927222 | 45.534167
Enguri Dam | 42.782222 | 42.033333
Ergneti | 42.016389 | 43.963056
Ertatsminda Cathedral | 41.845833 | 44.479167
Ethnographic Museum Borjgalo | 41.569722 | 41.573333
Forest Sabaduri | 41.868333 | 44.748889
Friendship Monument (Gudauri) | 42.480833 | 44.452222
Gamarjveba | 41.896667 | 44.515833
Gardabani | 41.460556 | 45.092222
Gegelidzeebi | 42.084167 | 42.458333
Gelati Monastery | 42.293333 | 42.713056
GeorgiaRussia Border (Upper Lars) | 42.737778 | 44.631111
Ghebi | 42.617778 | 43.522222
Glola | 42.643333 | 43.416389
Gomarduli | 41.632222 | 42.386111
Gonio | 41.573056 | 41.572222
Gonio Cross | 41.570833 | 41.565833
Gonio Fortress | 41.572778 | 41.573333
Gori | 41.984167 | 44.109722
Graneli Winery | 41.857778 | 45.754444
Gremi | 41.982778 | 45.736944
Grigoleti | 41.771667 | 41.744444
Gudauri | 42.477778 | 44.475833
Gulelebi | 42.083333 | 42.521667
Gurjaani | 41.742778 | 45.801944
Gveleti Waterfalls | 42.667222 | 44.640556
Holy Trinity Cathedral of Tbilisi (Sameba) | 41.697778 | 44.816667
Igoeti | 41.918333 | 44.371944
Ikalto | 41.925556 | 45.482222
Ilia Lake | 41.990556 | 45.493889
Jandari Lake | 41.444722 | 45.123333
Javakhishvili Wine Cellar | 41.840556 | 45.770278
Jewelberry Shuaguli Glamping | 42.667778 | 42.031111
Jokolo | 42.219444 | 45.742222
Jvari Monastery | 41.838333 | 44.721944
Jvari (town) | 42.716944 | 42.051111
Kachreti | 41.733056 | 45.690278
Kakabeti | 41.736111 | 44.699722
Kakliani | 41.886944 | 44.640833
Kaprovani | 41.826667 | 41.746944
Karaleti | 41.930833 | 44.235278
Kardenakhi | 41.839444 | 45.712778
Kareli | 41.982222 | 43.900556
Kaspi | 41.925556 | 44.422778
Katskhi Pillar | 42.284444 | 43.245278
Kavtiskhevi | 41.852222 | 44.403333
Kazreti | 41.410556 | 44.407778
Keda | 41.554167 | 41.987222
Kharagauli | 42.021667 | 43.200833
Khashmi | 41.748889 | 45.033611
Khashuri | 41.993333 | 43.599444
Khertvisi Fortress | 41.573889 | 43.298333
Khobi | 42.315556 | 41.898611
Khobi Convent | 42.318056 | 41.892778
Khoni | 42.321111 | 42.418056
Khulo | 41.643333 | 42.313333
Khvanchkara | 42.569444 | 43.151667
Kiketi | 41.653889 | 44.596667
Kinchkha Waterfall | 42.489722 | 42.495556
Kintsvisi Monastery | 41.946944 | 43.555833
Kisiskhevi | 41.825833 | 45.743889
Kobuleti | 41.821667 | 41.779167
Kojori | 41.650278 | 44.692222
Kokhi | 42.403889 | 41.823611
Kokotauri | 41.904167 | 42.137222
Kolkheti National Park | 42.177222 | 41.720833
Ksani | 41.891667 | 44.558889
Ksovrisi Church | 41.900278 | 44.432222
Kulevi | 42.255833 | 41.682222
Kutaisi | 42.266667 | 42.718056
Kutaisi Airport | 42.176667 | 42.482778
Kvareli | 41.954444 | 45.807222
Kvariati | 41.542778 | 41.571944
Kvatakhevi | 41.879722 | 44.463611
Kveda Pona | 41.845833 | 44.315556
Kvemo Alvani | 42.028611 | 45.279444
Kvemo Magharo | 41.703056 | 44.944167
Kvemo Mleta | 42.454722 | 44.515278
Kvemo Teleti | 41.666944 | 44.803611
Kvibisi | 41.795278 | 43.479444
Kvitkiristskaro St. George Church & Petre Tower | 41.837222 | 44.393611
Lagodekhi | 41.826667 | 46.276944
Lailashi | 42.504444 | 43.105278
Lanchkhuti | 42.090278 | 42.032778
Lapankuri | 42.119167 | 45.707222
Ledzadzame | 41.865278 | 44.667778
Lentekhi | 42.785556 | 42.722778
Likani | 41.835556 | 43.366667
Lilo Mall | 41.693333 | 44.963889
Lopota Lake | 42.002778 | 45.563889
Machakhela National Park | 41.535833 | 41.680278
Makhinjauri | 41.673611 | 41.694444
Makhuntseti Waterfall | 41.573333 | 41.983889
Maltakva | 41.927222 | 41.775556
Mamkoda | 41.833611 | 44.783333
Manavi | 41.712778 | 45.449167
Manglisi | 41.696944 | 44.384444
Marneuli | 41.475833 | 44.808611
Martkopi Monastery | 41.781667 | 44.931389
Martvili | 42.414722 | 42.379167
Martvili Canyon | 42.457778 | 42.378333
Merisi | 41.673889 | 42.014167
Mestia | 43.045833 | 42.727778
Mgvimevi Monastery | 42.203889 | 43.019444
Miniature Park (Shekvetili) | 41.936389 | 41.770556
Misaktsieli | 41.846667 | 44.696111
Mlashe | 42.512222 | 43.130556
Motsameta Monastery | 42.273333 | 42.689444
Mravaltskaro Reservoir | 41.496667 | 44.928611
Mskhaldidi | 41.699722 | 42.871944
Mtatsminda Park | 41.694444 | 44.785833
Mtirala National Park | 41.667222 | 41.861667
Mtskheta | 41.841667 | 44.720833
Mtsvane Kontskhi (Green Cape) | 41.694722 | 41.704444
Mtsvane Monastery | 41.845556 | 44.640556
Mukhatskaro | 41.720556 | 44.898611
Mukhrani | 41.907778 | 44.575833
Mukhuri | 42.540556 | 41.873056
Mukuzani | 41.805556 | 45.724444
Museum of Illusions (Tbilisi) | 41.691667 | 44.807778
Mzovreti Monastery | 41.902222 | 44.504444
Nakalakevi | 42.427222 | 42.291667
Nakhshirghele | 42.360556 | 41.877778
Napareuli | 41.920833 | 45.528611
Narikala Fortress | 41.687778 | 44.808333
Natakhtari | 41.912778 | 44.727778
Navazi | 41.881111 | 44.324444
Nekresi | 41.991667 | 45.773889
Niko Pirosmani Museum (Mirzaani) | 41.603056 | 45.855278
Nikortsminda | 42.438611 | 43.185556
Ninotsminda | 41.263333 | 43.591667
Norio | 41.706944 | 44.696944
Oni | 42.579444 | 43.442778
Orbeti | 41.808056 | 44.590833
Ozurgeti | 41.924167 | 42.006667
Paravani Lake | 41.455556 | 43.792222
Pasanauri | 42.351667 | 44.690278
Patara Zanavi | 41.640833 | 42.963333
Petra Fortress | 41.807222 | 41.770278
Pichkhovani | 41.869444 | 41.752222
Poka | 41.397222 | 43.720833
Poka St. Nino Monastery | 41.393611 | 43.717778
Poti | 42.155556 | 41.671667
Prometheus Cave | 42.376389 | 42.600833
Pshaveli | 42.204444 | 45.136389
Rabati Castle | 41.641667 | 42.979722
Red Bridge Customs Post | 41.465833 | 44.839167
Rioni Railway Station | 42.274722 | 42.706944
Rkoni Monastery | 41.907778 | 44.364444
Ruispiri | 41.925833 | 42.028611
Rustavi | 41.549444 | 44.993056
Saakadze | 41.856944 | 44.430556
Sachkhere | 42.345556 | 43.419444
Sagarejo | 41.734167 | 45.330278
Sagholasheni | 41.736389 | 45.771111
Saghrasheni | 41.834167 | 45.674444
Saguramo | 41.922778 | 44.738333
Sairme | 42.154722 | 42.830556
Salkhino Dadiani Summer Residence | 42.478333 | 42.300278
Sameba Mountain (Kazbegi) | 42.662778 | 44.620833
Samshvilde | 41.386111 | 44.501111
Samtavisi Cathedral | 41.980278 | 44.275556
Samtavro Monastery | 41.842778 | 44.722778
Samtredia | 42.153611 | 42.335833
Sarpi | 41.526667 | 41.547222
Sartichala | 41.695833 | 45.058611
Sasadilo | 41.879167 | 44.512778
Sataplia | 42.291111 | 42.673611
Satskhenisi | 41.868056 | 44.336667
Senaki | 42.271667 | 42.066667
Sepe | 42.621667 | 44.497778
Shashiani | 41.812222 | 45.681944
Shekvetili | 41.920278 | 41.767222
Shervashidze Wine Cellar | 41.831667 | 45.735833
Shilda | 41.865833 | 45.708611
Shiomghvime Monastery | 41.859444 | 44.696111
Tbilisi | 41.716667 | 44.783333
Zugdidi | 42.516667 | 41.883333
`,fW=()=>{const{toast:e}=ae(),[t,r]=f.useState([]),[s,a]=f.useState(!0),[i,o]=f.useState(""),[l,c]=f.useState(null),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[p,x]=f.useState(mW),[g,b]=f.useState(!1),[y,v]=f.useState({name_en:"",name_ka:"",name_ru:"",lat:"",lng:"",priority:0,is_active:!0});f.useEffect(()=>{w()},[]);const w=async()=>{a(!0);let k=O.from("locations").select("*").order("priority",{ascending:!1}).order("name_en",{ascending:!0});i&&(k=k.ilike("name_en",`%${i}%`));const{data:$,error:F}=await k;F?e({variant:"destructive",title:"Error",description:F.message}):r($||[]),a(!1)},j=k=>{o(k.target.value)};f.useEffect(()=>{const k=setTimeout(()=>{w()},500);return()=>clearTimeout(k)},[i]);const S=async k=>{k.preventDefault();const $={...y,lat:parseFloat(y.lat),lng:parseFloat(y.lng)};if(l){const{error:F}=await O.from("locations").update($).eq("id",l.id);if(F){e({variant:"destructive",title:"Error",description:F.message});return}e({title:"Success",description:"Location updated"})}else{const{error:F}=await O.from("locations").insert($);if(F){e({variant:"destructive",title:"Error",description:F.message});return}e({title:"Success",description:"Location created"})}C(),u(!1),w()},C=()=>{c(null),v({name_en:"",name_ka:"",name_ru:"",lat:"",lng:"",priority:0,is_active:!0})},N=k=>{c(k),v({name_en:k.name_en,name_ka:k.name_ka||"",name_ru:k.name_ru||"",lat:k.lat,lng:k.lng,priority:k.priority,is_active:k.is_active}),u(!0)},_=async k=>{if(!window.confirm("Are you sure? This might break existing bookings."))return;const{error:$}=await O.from("locations").delete().eq("id",k);if($){e({variant:"destructive",title:"Error",description:$.message});return}e({title:"Success",description:"Location deleted"}),w()},E=async()=>{b(!0);const k=await hW(p);b(!1),k.errors.length>0?(e({variant:"destructive",title:`Imported ${k.success} with ${k.errors.length} errors`,description:"Check console for details."}),console.error(k.errors)):(e({title:"Import Successful",description:`Imported ${k.success} locations.`}),m(!1),w())};return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Locations"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(tt,{open:h,onOpenChange:m,children:[n.jsx(nw,{asChild:!0,children:n.jsxs(P,{variant:"outline",className:"gap-2",children:[n.jsx(hl,{className:"w-4 h-4"})," Bulk Import"]})}),n.jsxs(Qe,{className:"max-w-2xl",children:[n.jsx(bt,{children:n.jsx(wt,{children:"Bulk Import Locations"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Paste CSV data below. Format: Name | Lat | Lng (or comma separated)"}),n.jsx("textarea",{className:"w-full h-64 p-2 border rounded-md font-mono text-xs",value:p,onChange:k=>x(k.target.value)}),n.jsx(P,{onClick:E,disabled:g,className:"w-full",children:g?"Importing...":"Run Import"})]})]})]}),n.jsxs(tt,{open:d,onOpenChange:k=>{u(k),k||C()},children:[n.jsx(nw,{asChild:!0,children:n.jsxs(P,{className:"bg-green-600 hover:bg-green-700",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"}),"Add Location"]})}),n.jsxs(Qe,{children:[n.jsx(bt,{children:n.jsx(wt,{children:l?"Edit Location":"Add New Location"})}),n.jsxs("form",{onSubmit:S,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Name (English)"}),n.jsx(D,{required:!0,value:y.name_en,onChange:k=>v({...y,name_en:k.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Latitude"}),n.jsx(D,{required:!0,type:"number",step:"any",value:y.lat,onChange:k=>v({...y,lat:k.target.value})})]}),n.jsxs("div",{children:[n.jsx(T,{children:"Longitude"}),n.jsx(D,{required:!0,type:"number",step:"any",value:y.lng,onChange:k=>v({...y,lng:k.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(T,{children:"Priority"}),n.jsx(D,{type:"number",value:y.priority,onChange:k=>v({...y,priority:parseInt(k.target.value)})})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[n.jsx("input",{type:"checkbox",id:"active",checked:y.is_active,onChange:k=>v({...y,is_active:k.target.checked})}),n.jsx(T,{htmlFor:"active",className:"mb-0",children:"Active"})]})]}),n.jsx(P,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",children:l?"Update":"Create"})]})]})]})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(ts,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx(D,{placeholder:"Search locations...",value:i,onChange:j,className:"pl-10"})]})}),n.jsx(G,{className:"overflow-hidden",children:n.jsxs(Vr,{children:[n.jsx(Ur,{className:"bg-gray-50",children:n.jsxs(he,{children:[n.jsx(Z,{children:"Name"}),n.jsx(Z,{children:"Coordinates"}),n.jsx(Z,{children:"Priority"}),n.jsx(Z,{children:"Status"}),n.jsx(Z,{className:"text-right",children:"Actions"})]})}),n.jsx(cn,{children:s?n.jsx(he,{children:n.jsx(q,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):t.length===0?n.jsx(he,{children:n.jsx(q,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No locations found"})}):t.map(k=>{var $,F;return n.jsxs(he,{children:[n.jsx(q,{className:"font-medium",children:k.name_en}),n.jsxs(q,{className:"text-xs text-gray-500 font-mono",children:[($=k.lat)==null?void 0:$.toFixed(4),", ",(F=k.lng)==null?void 0:F.toFixed(4)]}),n.jsx(q,{children:k.priority}),n.jsx(q,{children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${k.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:k.is_active?"Active":"Inactive"})}),n.jsxs(q,{className:"text-right",children:[n.jsx(P,{size:"sm",variant:"ghost",onClick:()=>N(k),children:n.jsx(gg,{className:"w-4 h-4 text-blue-600"})}),n.jsx(P,{size:"sm",variant:"ghost",onClick:()=>_(k.id),children:n.jsx(ir,{className:"w-4 h-4 text-red-600"})})]})]},k.id)})})]})})]})},pW=()=>{const{id:e}=an(),t=ge(),{toast:r}=ae(),[s,a]=f.useState([]),[i,o]=f.useState(""),[l,c]=f.useState(!0);f.useEffect(()=>{d()},[e]);const d=async()=>{c(!0);try{const{data:h}=await O.from("drivers").select("first_name, last_name").eq("id",e).single();h&&o(`${h.first_name} ${h.last_name}`);const{data:m,error:p}=await O.from("bookings").select(`
          *,
          pickup_location:locations!pickup_location_id(name_en),
          dropoff_location:locations!dropoff_location_id(name_en)
        `).eq("driver_id",e).order("date",{ascending:!1});if(p)throw p;a(m||[])}catch(h){r({variant:"destructive",title:"Error",description:h.message})}finally{c(!1)}},u=async h=>{if(window.confirm("Are you sure you want to cancel this route?"))try{const{error:m}=await O.from("bookings").update({status:"cancelled",notes:"Cancelled by Admin"}).eq("id",h);if(m)throw m;r({title:"Route cancelled"}),d()}catch(m){r({variant:"destructive",title:"Error",description:m.message})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(P,{variant:"outline",size:"sm",onClick:()=>t("/paneli/drivers"),children:[n.jsx(Ir,{className:"w-4 h-4 mr-2"})," Back"]}),n.jsxs("h1",{className:"text-2xl font-heading font-bold text-gray-900",children:["Routes History: ",i]})]}),n.jsxs(G,{children:[n.jsx(Jn,{children:n.jsx(Zn,{className:"text-lg",children:"All Booked Routes"})}),n.jsx(It,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs(Vr,{children:[n.jsx(Ur,{children:n.jsxs(he,{children:[n.jsx(Z,{children:"Date & Time"}),n.jsx(Z,{children:"Route"}),n.jsx(Z,{children:"Passengers"}),n.jsx(Z,{children:"Status"}),n.jsx(Z,{className:"text-right",children:"Earnings"}),n.jsx(Z,{className:"text-right",children:"Actions"})]})}),n.jsx(cn,{children:l?n.jsx(he,{children:n.jsx(q,{colSpan:6,className:"text-center py-8",children:"Loading routes..."})}):s.length===0?n.jsx(he,{children:n.jsx(q,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No routes found for this driver."})}):s.map(h=>{var m,p;return n.jsxs(he,{children:[n.jsxs(q,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(it,{className:"w-4 h-4 text-gray-400"}),$n(new Date(h.date),"MMM dd, yyyy")]}),n.jsx("div",{className:"text-xs text-gray-500 ml-6",children:h.time})]}),n.jsxs(q,{children:[n.jsx("div",{className:"font-medium",children:((m=h.pickup_location)==null?void 0:m.name_en)||"Unknown"}),n.jsx("div",{className:"text-xs text-gray-400",children:"to"}),n.jsx("div",{className:"font-medium",children:((p=h.dropoff_location)==null?void 0:p.name_en)||"Unknown"})]}),n.jsx(q,{children:h.passenger_count||1}),n.jsx(q,{children:n.jsx(ee,{variant:h.status==="completed"?"default":h.status==="cancelled"?"destructive":"secondary",children:h.status})}),n.jsxs(q,{className:"text-right font-medium",children:["",h.driver_earnings||0]}),n.jsx(q,{className:"text-right",children:h.status!=="cancelled"&&h.status!=="completed"&&n.jsxs(P,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>u(h.id),children:[n.jsx(dg,{className:"w-4 h-4 mr-1"})," Cancel"]})})]},h.id)})})]})})})]})]})},gW=({isOpen:e,onClose:t,driver:r,financialData:s})=>{if(!r||!s)return null;const a=()=>{var u;const i=["Date","Booking ID","Amount","Type","Status"],o=((u=s.history)==null?void 0:u.map(h=>[$n(new Date(h.date),"yyyy-MM-dd"),h.bookingId||"-",h.amount,h.type,h.status]))||[],l=[i.join(","),...o.map(h=>h.join(","))].join(`
`),c=new Blob([l],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");if(d.download!==void 0){const h=URL.createObjectURL(c);d.setAttribute("href",h),d.setAttribute("download",`financial_report_${r.last_name}_${$n(new Date,"yyyy-MM-dd")}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)}};return n.jsx(tt,{open:e,onOpenChange:t,children:n.jsxs(Qe,{className:"max-w-3xl",children:[n.jsxs(bt,{children:[n.jsxs(wt,{children:["Financial Report: ",r.first_name," ",r.last_name]}),n.jsx($r,{children:"Detailed earnings and payment history."})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Earnings"}),n.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",s.totalEarned.toLocaleString()]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Paid to Admin"}),n.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["",s.paidToAdmin.toLocaleString()]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Balance Due"}),n.jsxs("p",{className:`text-xl font-bold ${s.balance>0?"text-red-600":"text-gray-900"}`,children:["",s.balance.toLocaleString()]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-sm text-gray-700",children:"Recent Transactions"}),n.jsx("div",{className:"border rounded-md max-h-[300px] overflow-y-auto",children:n.jsxs(Vr,{children:[n.jsx(Ur,{children:n.jsxs(he,{children:[n.jsx(Z,{children:"Date"}),n.jsx(Z,{children:"Description"}),n.jsx(Z,{children:"Amount"}),n.jsx(Z,{children:"Status"})]})}),n.jsx(cn,{children:s.history&&s.history.length>0?s.history.map((i,o)=>n.jsxs(he,{children:[n.jsx(q,{children:$n(new Date(i.date),"MMM dd, yyyy")}),n.jsx(q,{children:i.type}),n.jsxs(q,{children:["",i.amount]}),n.jsx(q,{children:n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${i.status==="completed"?"bg-green-100 text-green-800":i.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.status})})]},o)):n.jsx(he,{children:n.jsx(q,{colSpan:4,className:"text-center text-gray-500 py-4",children:"No transaction history found"})})})]})})]}),n.jsxs(Fr,{children:[n.jsx(P,{variant:"outline",onClick:t,children:"Close"}),n.jsxs(P,{onClick:a,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(RN,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]})})},xW=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(""),[o,l]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(!1),{toast:m}=ae();f.useEffect(()=>{p()},[]);const p=async()=>{s(!0);try{const{data:b,error:y}=await O.from("drivers").select("*");if(y)throw y;const{data:v,error:w}=await O.from("driver_earnings").select("*");if(w)throw w;const j=b.map(S=>{const C=v.filter(k=>k.driver_id===S.id),N=C.reduce((k,$)=>k+(Number($.gross_amount)||0),0),_=C.reduce((k,$)=>k+(Number($.platform_commission)||0),0),E=_*.8;return{...S,totalEarned:N,paidToAdmin:E,balance:_-E,history:C.map(k=>({date:k.created_at,amount:k.gross_amount,type:"Trip Earning",status:"completed",bookingId:k.booking_id}))}});t(j)}catch(b){m({variant:"destructive",title:"Error",description:b.message})}finally{s(!1)}},x=b=>{l(b),d({totalEarned:b.totalEarned,paidToAdmin:b.paidToAdmin,balance:b.balance,history:b.history}),h(!0)},g=e.filter(b=>(b.first_name+" "+b.last_name).toLowerCase().includes(a.toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:"Financial Management"}),n.jsxs(P,{className:"bg-green-600 hover:bg-green-700",children:[n.jsx(RN,{className:"w-4 h-4 mr-2"})," Export All Data"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(G,{className:"bg-white border-none shadow-sm",children:n.jsx(It,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-full text-green-600",children:n.jsx(Ar,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Platform Revenue"}),n.jsxs("h3",{className:"text-2xl font-bold",children:["",e.reduce((b,y)=>b+y.totalEarned,0).toLocaleString()]})]})]})})}),n.jsx(G,{className:"bg-white border-none shadow-sm",children:n.jsx(It,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-full text-blue-600",children:n.jsx(Ar,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Commission Collected"}),n.jsxs("h3",{className:"text-2xl font-bold",children:["",e.reduce((b,y)=>b+y.paidToAdmin,0).toLocaleString()]})]})]})})}),n.jsx(G,{className:"bg-white border-none shadow-sm",children:n.jsx(It,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-red-100 rounded-full text-red-600",children:n.jsx(Ar,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Outstanding Balance"}),n.jsxs("h3",{className:"text-2xl font-bold",children:["",e.reduce((b,y)=>b+y.balance,0).toLocaleString()]})]})]})})})]}),n.jsxs(G,{children:[n.jsxs(Jn,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsx(Zn,{children:"Driver Finances"}),n.jsxs("div",{className:"relative w-[300px]",children:[n.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),n.jsx(D,{placeholder:"Search driver...",className:"pl-9",value:a,onChange:b=>i(b.target.value)})]})]}),n.jsx(It,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs(Vr,{children:[n.jsx(Ur,{children:n.jsxs(he,{children:[n.jsx(Z,{children:"Driver Name"}),n.jsx(Z,{className:"text-right",children:"Total Earned"}),n.jsx(Z,{className:"text-right",children:"Paid to Admin"}),n.jsx(Z,{className:"text-right",children:"Balance Due"}),n.jsx(Z,{className:"text-center",children:"Status"}),n.jsx(Z,{className:"text-right",children:"Actions"})]})}),n.jsx(cn,{children:r?n.jsx(he,{children:n.jsx(q,{colSpan:6,className:"text-center py-8",children:"Loading financial data..."})}):g.length===0?n.jsx(he,{children:n.jsx(q,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No data found."})}):g.map(b=>n.jsxs(he,{children:[n.jsxs(q,{className:"font-medium",children:[b.first_name," ",b.last_name]}),n.jsxs(q,{className:"text-right",children:["",b.totalEarned.toLocaleString()]}),n.jsxs(q,{className:"text-right text-blue-600 font-medium",children:["",b.paidToAdmin.toLocaleString()]}),n.jsxs(q,{className:"text-right text-red-600 font-bold",children:["",b.balance.toLocaleString()]}),n.jsx(q,{className:"text-center",children:b.balance>0?n.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:"Pending"}):n.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:"Clear"})}),n.jsx(q,{className:"text-right",children:n.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>x(b),children:[n.jsx(ul,{className:"w-4 h-4 mr-2"})," View Report"]})})]},b.id))})]})})})]}),n.jsx(gW,{isOpen:u,onClose:()=>h(!1),driver:o,financialData:c})]})},vW=({children:e})=>{const{user:t,loading:r,isAdmin:s}=Ke(),a=jt();return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-green-600 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Verifying access..."})]})}):t?s?e:n.jsx(ya,{to:"/admin-login",state:{from:a,error:"unauthorized"},replace:!0}):n.jsx(ya,{to:"/admin-login",state:{from:a},replace:!0})},yW=({children:e})=>{const{user:t,loading:r}=Ke(),[s,a]=X.useState(!0),[i,o]=X.useState(!1);return X.useEffect(()=>{r||(async()=>{if(!t){a(!1);return}const{data:c}=await O.from("drivers").select("id").eq("user_id",t.id).maybeSingle();o(!!c),a(!1)})()},[t,r]),r||s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):t?i?e:n.jsx(ya,{to:"/",replace:!0}):n.jsx(ya,{to:"/driver/login",replace:!0})};function bW(){return n.jsxs(n.Fragment,{children:[n.jsx(hM,{}),n.jsxs(kP,{children:[n.jsxs(re,{element:n.jsx(UL,{}),children:[n.jsx(re,{path:"/",element:n.jsx(xB,{})}),n.jsx(re,{path:"/transfers",element:n.jsx(nV,{})}),n.jsx(re,{path:"/transfer/:transferId",element:n.jsx(rV,{})}),n.jsx(re,{path:"/transfer/s/:transferSlug",element:n.jsx(eV,{})}),n.jsx(re,{path:"/transfer/from-:fromSlug/to-:toSlug",element:n.jsx(sw,{})}),n.jsx(re,{path:"/search-results",element:n.jsx(sw,{})}),n.jsx(re,{path:"/tours",element:n.jsx(iV,{})}),n.jsx(re,{path:"/tours/:tourId",element:n.jsx(hV,{})}),n.jsx(re,{path:"/booking-confirmation/:bookingId",element:n.jsx(_V,{})}),n.jsx(re,{path:"/car/:carId",element:n.jsx(NV,{})}),n.jsx(re,{path:"/bookings/new",element:n.jsx(aV,{})}),n.jsx(re,{path:"/bookings/:bookingId",element:n.jsx(sV,{})}),n.jsx(re,{path:"/contact",element:n.jsx(AV,{})}),n.jsx(re,{path:"/about",element:n.jsx(UV,{})}),n.jsx(re,{path:"/login",element:n.jsx(TV,{})})]}),n.jsx(re,{path:"/driver/login",element:n.jsx(zV,{})}),n.jsx(re,{path:"/admin-login",element:n.jsx(Jz,{})}),n.jsxs(re,{path:"/driver",element:n.jsx(yW,{children:n.jsx(WL,{})}),children:[n.jsx(re,{path:"verify",element:n.jsx(HV,{})}),n.jsx(re,{path:"dashboard",element:n.jsx(eU,{})}),n.jsx(re,{path:"profile",element:n.jsx(tU,{})}),n.jsx(re,{path:"cars",element:n.jsx(nU,{})}),n.jsx(re,{path:"cars/new",element:n.jsx(cw,{})}),n.jsx(re,{path:"cars/:carId",element:n.jsx(aU,{})}),n.jsx(re,{path:"cars/:carId/edit",element:n.jsx(cw,{})}),n.jsx(re,{path:"pricing",element:n.jsx(IU,{})}),n.jsx(re,{path:"bookings",element:n.jsx(FU,{})}),n.jsx(re,{path:"messages",element:n.jsx($U,{})}),n.jsx(re,{path:"settings",element:n.jsx(BU,{})}),n.jsx(re,{path:"earnings",element:n.jsx(Yz,{})}),n.jsx(re,{index:!0,element:n.jsx(ya,{to:"dashboard",replace:!0})})]}),n.jsxs(re,{path:"/paneli",element:n.jsx(vW,{children:n.jsx(HL,{})}),children:[n.jsx(re,{index:!0,element:n.jsx(Zz,{})}),n.jsx(re,{path:"dashboard",element:n.jsx(eH,{})}),n.jsx(re,{path:"drivers",element:n.jsx(nH,{})}),n.jsx(re,{path:"drivers/:id/routes",element:n.jsx(pW,{})}),n.jsx(re,{path:"drivers/:driverId/edit",element:n.jsx(cH,{})}),n.jsx(re,{path:"bookings",element:n.jsx(iH,{})}),n.jsx(re,{path:"finances",element:n.jsx(xW,{})}),n.jsx(re,{path:"earnings",element:n.jsx(uH,{})}),n.jsx(re,{path:"cars",element:n.jsx(aH,{})}),n.jsx(re,{path:"cars/:carId/edit",element:n.jsx(oH,{})}),n.jsx(re,{path:"settings",element:n.jsx(dH,{})}),n.jsx(re,{path:"locations",element:n.jsx(fW,{})}),n.jsx(re,{path:"tours",element:n.jsx(hH,{})}),n.jsx(re,{path:"tours/:tourId",element:n.jsx(UH,{})}),n.jsx(re,{path:"tour-bookings",element:n.jsx(mH,{})}),n.jsx(re,{path:"transfers",element:n.jsx(qH,{})}),n.jsx(re,{path:"hero",element:n.jsx(XH,{})}),n.jsx(re,{path:"about",element:n.jsx(aW,{})}),n.jsx(re,{path:"sms",element:n.jsx(dW,{})}),n.jsx(re,{path:"site-content",element:n.jsx(uW,{})})]}),n.jsx(re,{path:"*",element:n.jsx(ya,{to:"/",replace:!0})})]})]})}function wW(){return n.jsx(uM,{children:n.jsx(cM,{children:n.jsxs(dM,{children:[n.jsx(vr,{children:n.jsx("title",{children:"GeorgianTrip - Reliable Transfers & Tours"})}),n.jsx(bW,{}),n.jsx(i6,{})]})})})}om.createRoot(document.getElementById("root")).render(n.jsx(n.Fragment,{children:n.jsx(ZP,{children:n.jsx(wW,{})})}));export{_a as g};
